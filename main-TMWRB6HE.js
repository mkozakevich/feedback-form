var fF=Object.defineProperty,pF=Object.defineProperties;var mF=Object.getOwnPropertyDescriptors;var Xd=Object.getOwnPropertySymbols;var XC=Object.prototype.hasOwnProperty,JC=Object.prototype.propertyIsEnumerable;var ZC=(t,e,n)=>e in t?fF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z=(t,e)=>{for(var n in e||={})XC.call(e,n)&&ZC(t,n,e[n]);if(Xd)for(var n of Xd(e))JC.call(e,n)&&ZC(t,n,e[n]);return t},it=(t,e)=>pF(t,mF(e));var eT=(t,e)=>{var n={};for(var i in t)XC.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Xd)for(var i of Xd(t))e.indexOf(i)<0&&JC.call(t,i)&&(n[i]=t[i]);return n};var R=(t,e,n)=>new Promise((i,r)=>{var o=c=>{try{a(n.next(c))}catch(l){r(l)}},s=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var tT=null;var Wg=1,Kg=Symbol("SIGNAL");function Xe(t){let e=tT;return tT=t,e}var nT={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gF(t){if(!(Zg(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Wg)){if(!t.producerMustRecompute(t)&&!Qg(t)){t.dirty=!1,t.lastCleanEpoch=Wg;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Wg}}function iT(t){return t&&(t.nextProducerIndex=0),Xe(t)}function rT(t,e){if(Xe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Zg(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qg(t){Jd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(gF(n),i!==n.version))return!0}return!1}function oT(t){if(Jd(t),Zg(t))for(let e=0;e<t.producerNode.length;e++)Yg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yg(t,e){if(vF(t),Jd(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Yg(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Jd(r),r.producerIndexOfThis[i]=e}}function Zg(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function vF(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function yF(){throw new Error}var _F=yF;function sT(t){_F=t}function ve(t){return typeof t=="function"}function ma(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var eh=ma(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Jo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var jt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(ve(i))try{i()}catch(o){e=o instanceof eh?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{aT(o)}catch(s){e=e??[],s instanceof eh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new eh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)aT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Jo(n,e)}remove(e){let{_finalizers:n}=this;n&&Jo(n,e),e instanceof t&&e._removeParent(this)}};jt.EMPTY=(()=>{let t=new jt;return t.closed=!0,t})();var Xg=jt.EMPTY;function th(t){return t instanceof jt||t&&"closed"in t&&ve(t.remove)&&ve(t.add)&&ve(t.unsubscribe)}function aT(t){ve(t)?t():t.unsubscribe()}var Ii={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ga={setTimeout(t,e,...n){let{delegate:i}=ga;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ga;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nh(t){ga.setTimeout(()=>{let{onUnhandledError:e}=Ii;if(e)e(t);else throw t})}function Qn(){}var cT=Jg("C",void 0,void 0);function uT(t){return Jg("E",void 0,t)}function lT(t){return Jg("N",t,void 0)}function Jg(t,e,n){return{kind:t,value:e,error:n}}var es=null;function va(t){if(Ii.useDeprecatedSynchronousErrorHandling){let e=!es;if(e&&(es={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=es;if(es=null,n)throw i}}else t()}function dT(t){Ii.useDeprecatedSynchronousErrorHandling&&es&&(es.errorThrown=!0,es.error=t)}var ts=class extends jt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,th(e)&&e.add(this)):this.destination=EF}static create(e,n,i){return new wr(e,n,i)}next(e){this.isStopped?tv(lT(e),this):this._next(e)}error(e){this.isStopped?tv(uT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tv(cT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IF=Function.prototype.bind;function ev(t,e){return IF.call(t,e)}var nv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){ih(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){ih(i)}else ih(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ih(n)}}},wr=class extends ts{constructor(e,n,i){super();let r;if(ve(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Ii.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ev(e.next,o),error:e.error&&ev(e.error,o),complete:e.complete&&ev(e.complete,o)}):r=e}this.destination=new nv(r)}};function ih(t){Ii.useDeprecatedSynchronousErrorHandling?dT(t):nh(t)}function wF(t){throw t}function tv(t,e){let{onStoppedNotification:n}=Ii;n&&ga.setTimeout(()=>n(t,e))}var EF={closed:!0,next:Qn,error:wF,complete:Qn};var ya=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ut(t){return t}function ns(...t){return iv(t)}function iv(t){return t.length===0?Ut:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=CF(n)?n:new wr(n,i,r);return va(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=hT(i),new i((r,o)=>{let s=new wr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[ya](){return this}pipe(...n){return iv(n)(this)}toPromise(n){return n=hT(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function hT(t){var e;return(e=t??Ii.Promise)!==null&&e!==void 0?e:Promise}function bF(t){return t&&ve(t.next)&&ve(t.error)&&ve(t.complete)}function CF(t){return t&&t instanceof ts||bF(t)&&th(t)}function rv(t){return ve(t?.lift)}function ue(t){return e=>{if(rv(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(t,e,n,i,r){return new ov(t,e,n,i,r)}var ov=class extends ts{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _a(){return ue((t,e)=>{let n=null;t._refCount++;let i=te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Ia=class extends oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jt;let n=this.getSubject();e.add(this.source.subscribe(te(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jt.EMPTY)}return e}refCount(){return _a()(this)}};var fT=ma(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new rh(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new fT}next(n){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){va(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Xg:(this.currentObservers=null,o.push(n),new jt(()=>{this.currentObservers=null,Jo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new oe;return n.source=this,n}}return t.create=(e,n)=>new rh(e,n),t})(),rh=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Xg}};var mt=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Su={now(){return(Su.delegate||Date).now()},delegate:void 0};var wi=class extends ot{constructor(e=1/0,n=1/0,i=Su){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var oh=class extends jt{constructor(e,n){super()}schedule(e,n=0){return this}};var Mu={setInterval(t,e,...n){let{delegate:i}=Mu;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Mu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var wa=class extends oh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Mu.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Mu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Jo(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ea=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Ea.now=Su.now;var ba=class extends Ea{constructor(e,n=Ea.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var zi=new ba(wa),sv=zi;var sh=class extends wa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var ah=class extends ba{};var av=new ah(sh);var dt=new oe(t=>t.complete());function ch(t){return t&&ve(t.schedule)}function cv(t){return t[t.length-1]}function Ca(t){return ve(cv(t))?t.pop():void 0}function Gi(t){return ch(cv(t))?t.pop():void 0}function pT(t,e){return typeof cv(t)=="number"?t.pop():e}function Au(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Yn(t,e,n,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,n,o):s(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function uh(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(i.next(h))}catch(p){s(p)}}function c(h){try{l(i.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):r(h.value).then(a,c)}l((i=i.apply(t,e||[])).next())})}function mT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function is(t){return this instanceof is?(this.v=t,this):new is(t)}function gT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(m){i[m]&&(r[m]=function(v){return new Promise(function(I,S){o.push([m,v,I,S])>1||a(m,v)})})}function a(m,v){try{c(i[m](v))}catch(I){p(o[0][3],I)}}function c(m){m.value instanceof is?Promise.resolve(m.value.v).then(l,h):p(o[0][2],m)}function l(m){a("next",m)}function h(m){a("throw",m)}function p(m,v){m(v),o.shift(),o.length&&a(o[0][0],o[0][1])}}function vT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mT=="function"?mT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),r(a,c,s.done,s.value)})}}function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ta=t=>t&&typeof t.length=="number"&&typeof t!="function";function lh(t){return ve(t?.then)}function dh(t){return ve(t[ya])}function hh(t){return Symbol.asyncIterator&&ve(t?.[Symbol.asyncIterator])}function fh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ph=TF();function mh(t){return ve(t?.[ph])}function gh(t){return gT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield is(n.read());if(r)return yield is(void 0);yield yield is(i)}}finally{n.releaseLock()}})}function vh(t){return ve(t?.getReader)}function Oe(t){if(t instanceof oe)return t;if(t!=null){if(dh(t))return DF(t);if(Ta(t))return SF(t);if(lh(t))return MF(t);if(hh(t))return yT(t);if(mh(t))return AF(t);if(vh(t))return PF(t)}throw fh(t)}function DF(t){return new oe(e=>{let n=t[ya]();if(ve(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SF(t){return new oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MF(t){return new oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,nh)})}function AF(t){return new oe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function yT(t){return new oe(e=>{OF(t,e).catch(n=>e.error(n))})}function PF(t){return yT(gh(t))}function OF(t,e){var n,i,r,o;return uh(this,void 0,void 0,function*(){try{for(n=vT(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function Un(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function ro(t,e=0){return ue((n,i)=>{n.subscribe(te(i,r=>Un(i,t,()=>i.next(r),e),()=>Un(i,t,()=>i.complete(),e),r=>Un(i,t,()=>i.error(r),e)))})}function oo(t,e=0){return ue((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function _T(t,e){return Oe(t).pipe(oo(e),ro(e))}function IT(t,e){return Oe(t).pipe(oo(e),ro(e))}function wT(t,e){return new oe(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function ET(t,e){return new oe(n=>{let i;return Un(n,e,()=>{i=t[ph](),Un(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>ve(i?.return)&&i.return()})}function yh(t,e){if(!t)throw new Error("Iterable cannot be null");return new oe(n=>{Un(n,e,()=>{let i=t[Symbol.asyncIterator]();Un(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function bT(t,e){return yh(gh(t),e)}function CT(t,e){if(t!=null){if(dh(t))return _T(t,e);if(Ta(t))return wT(t,e);if(lh(t))return IT(t,e);if(hh(t))return yh(t,e);if(mh(t))return ET(t,e);if(vh(t))return bT(t,e)}throw fh(t)}function ft(t,e){return e?CT(t,e):Oe(t)}function ee(...t){let e=Gi(t);return ft(t,e)}function Da(t,e){let n=ve(t)?t:()=>t,i=r=>r.error(n());return new oe(e?r=>e.schedule(i,0,r):i)}function rs(t){return!!t&&(t instanceof oe||ve(t.lift)&&ve(t.subscribe))}var Er=ma(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function TT(t){return t instanceof Date&&!isNaN(t)}function L(t,e){return ue((n,i)=>{let r=0;n.subscribe(te(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:xF}=Array;function RF(t,e){return xF(e)?t(...e):t(e)}function Sa(t){return L(e=>RF(t,e))}var{isArray:NF}=Array,{getPrototypeOf:kF,prototype:FF,keys:LF}=Object;function _h(t){if(t.length===1){let e=t[0];if(NF(e))return{args:e,keys:null};if(VF(e)){let n=LF(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function VF(t){return t&&typeof t=="object"&&kF(t)===FF}function Ih(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function qi(...t){let e=Gi(t),n=Ca(t),{args:i,keys:r}=_h(t);if(i.length===0)return ft([],e);let o=new oe(jF(i,e,r?s=>Ih(r,s):Ut));return n?o.pipe(Sa(n)):o}function jF(t,e,n=Ut){return i=>{DT(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)DT(e,()=>{let l=ft(t[c],e),h=!1;l.subscribe(te(i,p=>{o[c]=p,h||(h=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function DT(t,e,n){t?Un(n,t,e):e()}function ST(t,e,n,i,r,o,s,a){let c=[],l=0,h=0,p=!1,m=()=>{p&&!c.length&&!l&&e.complete()},v=S=>l<i?I(S):c.push(S),I=S=>{o&&e.next(S),l++;let O=!1;Oe(n(S,h++)).subscribe(te(e,F=>{r?.(F),o?v(F):e.next(F)},()=>{O=!0},void 0,()=>{if(O)try{for(l--;c.length&&l<i;){let F=c.shift();s?Un(e,s,()=>I(F)):I(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(te(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ot(t,e,n=1/0){return ve(e)?Ot((i,r)=>L((o,s)=>e(i,o,r,s))(Oe(t(i,r))),n):(typeof e=="number"&&(n=e),ue((i,r)=>ST(i,r,t,n)))}function Pu(t=1/0){return Ot(Ut,t)}function MT(){return Pu(1)}function Ei(...t){return MT()(ft(t,Gi(t)))}function so(t){return new oe(e=>{Oe(t()).subscribe(e)})}function uv(...t){let e=Ca(t),{args:n,keys:i}=_h(t),r=new oe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let h=0;h<s;h++){let p=!1;Oe(n[h]).subscribe(te(o,m=>{p||(p=!0,l--),a[h]=m},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(i?Ih(i,a):a),o.complete())}))}});return e?r.pipe(Sa(e)):r}var UF=["addListener","removeListener"],BF=["addEventListener","removeEventListener"],HF=["on","off"];function si(t,e,n,i){if(ve(n)&&(i=n,n=void 0),i)return si(t,e,n).pipe(Sa(i));let[r,o]=GF(t)?BF.map(s=>a=>t[s](e,a,n)):$F(t)?UF.map(AT(t,e)):zF(t)?HF.map(AT(t,e)):[];if(!r&&Ta(t))return Ot(s=>si(s,e,n))(Oe(t));if(!r)throw new TypeError("Invalid event target");return new oe(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function AT(t,e){return n=>i=>t[n](e,i)}function $F(t){return ve(t.addListener)&&ve(t.removeListener)}function zF(t){return ve(t.on)&&ve(t.off)}function GF(t){return ve(t.addEventListener)&&ve(t.removeEventListener)}function Yt(t=0,e,n=sv){let i=-1;return e!=null&&(ch(e)?n=e:i=e),new oe(r=>{let o=TT(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function It(...t){let e=Gi(t),n=pT(t,1/0),i=t;return i.length?i.length===1?Oe(i[0]):Pu(n)(ft(i,e)):dt}var lv=new oe(Qn);var{isArray:qF}=Array;function PT(t){return t.length===1&&qF(t[0])?t[0]:t}function Je(t,e){return ue((n,i)=>{let r=0;n.subscribe(te(i,o=>t.call(e,o,r++)&&i.next(o)))})}function dv(...t){return t=PT(t),t.length===1?Oe(t[0]):new oe(WF(t))}function WF(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(Oe(t[i]).subscribe(te(e,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}e.next(r)})))}}function bi(t){return ue((e,n)=>{let i=null,r=!1,o;i=e.subscribe(te(n,void 0,void 0,s=>{o=Oe(t(s,bi(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function OT(t,e,n,i,r){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(te(s,h=>{let p=l++;c=a?t(c,h,p):(a=!0,h),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Ma(t,e){return ve(e)?Ot(t,e,1):Ot(t,1)}function hv(t){return ue((e,n)=>{let i=!1,r=null,o=null,s=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let a=r;r=null,n.next(a)}};e.subscribe(te(n,a=>{o?.unsubscribe(),i=!0,r=a,o=te(n,s,Qn),Oe(t(a)).subscribe(o)},()=>{s(),n.complete()},void 0,()=>{r=o=null}))})}function wh(t,e=zi){return ue((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=o;o=null,i.next(l)}};function c(){let l=s+t,h=e.now();if(h<l){r=this.schedule(void 0,l-h),i.add(r);return}a()}n.subscribe(te(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function ao(t){return ue((e,n)=>{let i=!1;e.subscribe(te(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Wt(t){return t<=0?()=>dt:ue((e,n)=>{let i=0;e.subscribe(te(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Eh(){return ue((t,e)=>{t.subscribe(te(e,Qn))})}function Ou(t){return L(()=>t)}function fv(t,e){return e?n=>Ei(e.pipe(Wt(1),Eh()),n.pipe(fv(t))):Ot((n,i)=>Oe(t(n,i)).pipe(Wt(1),Ou(n)))}function os(t,e=zi){let n=Yt(t,e);return fv(()=>n)}function wt(t,e=Ut){return t=t??KF,ue((n,i)=>{let r,o=!0;n.subscribe(te(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function KF(t,e){return t===e}function bh(t=QF){return ue((e,n)=>{let i=!1;e.subscribe(te(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function QF(){return new Er}function ss(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wi(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Je((r,o)=>t(r,o,i)):Ut,Wt(1),n?ao(e):bh(()=>new Er))}function Aa(t){return t<=0?()=>dt:ue((e,n)=>{let i=[];e.subscribe(te(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function pv(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Je((r,o)=>t(r,o,i)):Ut,Aa(1),n?ao(e):bh(()=>new Er))}function xu(){return ue((t,e)=>{let n,i=!1;t.subscribe(te(e,r=>{let o=n;n=r,i&&e.next([o,r]),i=!0}))})}function Pa(t){let e=1/0,n;return t!=null&&(typeof t=="object"?{count:e=1/0,delay:n}=t:e=t),e<=0?()=>dt:ue((i,r)=>{let o=0,s,a=()=>{if(s?.unsubscribe(),s=null,n!=null){let l=typeof n=="number"?Yt(n):Oe(n(o)),h=te(r,()=>{h.unsubscribe(),c()});l.subscribe(h)}else c()},c=()=>{let l=!1;s=i.subscribe(te(r,void 0,()=>{++o<e?s?a():l=!0:r.complete()})),l&&a()};c()})}function Ru(t){return ue((e,n)=>{let i,r=!1,o,s=!1,a=!1,c=()=>a&&s&&(n.complete(),!0),l=()=>(o||(o=new ot,Oe(t(o)).subscribe(te(n,()=>{i?h():r=!0},()=>{s=!0,c()}))),o),h=()=>{a=!1,i=e.subscribe(te(n,void 0,()=>{a=!0,!c()&&l().next()})),r&&(i.unsubscribe(),i=null,r=!1,h())};h()})}function Nu(t,e){return ue(OT(t,e,arguments.length>=2,!0))}function Bn(t={}){let{connector:e=()=>new ot,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,c,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),s=c=void 0,h=p=!1},I=()=>{let S=s;v(),S?.unsubscribe()};return ue((S,O)=>{l++,!p&&!h&&m();let F=c=c??e();O.add(()=>{l--,l===0&&!p&&!h&&(a=mv(I,r))}),F.subscribe(O),!s&&l>0&&(s=new wr({next:Y=>F.next(Y),error:Y=>{p=!0,m(),a=mv(v,n,Y),F.error(Y)},complete:()=>{h=!0,m(),a=mv(v,i),F.complete()}}),Oe(S).subscribe(s))})(o)}}function mv(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new wr({next:()=>{i.unsubscribe(),t()}});return Oe(e(...n)).subscribe(i)}function Ci(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,Bn({connector:()=>new wi(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function ku(t){return Je((e,n)=>t<=n)}function gv(t){return ue((e,n)=>{let i=!1,r=0;e.subscribe(te(n,o=>(i||(i=!t(o,r++)))&&n.next(o)))})}function ht(...t){let e=Gi(t);return ue((n,i)=>{(e?Ei(t,n,e):Ei(t,n)).subscribe(i)})}function je(t,e){return ue((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(te(i,c=>{r?.unsubscribe();let l=0,h=o++;Oe(t(c,h)).subscribe(r=te(i,p=>i.next(e?e(c,p,h,l++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function be(t){return ue((e,n)=>{Oe(t).subscribe(te(n,()=>n.complete(),Qn)),!n.closed&&e.subscribe(n)})}function Oa(t,e=!1){return ue((n,i)=>{let r=0;n.subscribe(te(i,o=>{let s=t(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}function gt(t,e,n){let i=ve(t)||e||n?{next:t,error:e,complete:n}:t;return i?ue((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(te(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Ut}function xT(t,e){return ue((n,i)=>{let{leading:r=!0,trailing:o=!1}=e??{},s=!1,a=null,c=null,l=!1,h=()=>{c?.unsubscribe(),c=null,o&&(v(),l&&i.complete())},p=()=>{c=null,l&&i.complete()},m=I=>c=Oe(t(I)).subscribe(te(i,h,p)),v=()=>{if(s){s=!1;let I=a;a=null,i.next(I),!l&&m(I)}};n.subscribe(te(i,I=>{s=!0,a=I,!(c&&!c.closed)&&(r?v():m(I))},()=>{l=!0,!(o&&s&&c&&!c.closed)&&i.complete()}))})}function as(t,e=zi,n){let i=Yt(t,e);return xT(()=>i,n)}function Ch(...t){let e=Ca(t);return ue((n,i)=>{let r=t.length,o=new Array(r),s=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)Oe(t[c]).subscribe(te(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Ut))&&(s=null))},Qn));n.subscribe(te(i,c=>{if(a){let l=[c,...o];i.next(e?e(...l):l)}}))})}var CD="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(Ny(e,n)),this.code=e}};function Ny(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Xu(t){return{toString:t}.toString()}var Th="__parameters__";function YF(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function ky(t,e,n){return Xu(()=>{let i=YF(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(Th)?c[Th]:Object.defineProperty(c,Th,{value:[]})[Th];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var ls=globalThis;function vt(t){for(let e in t)if(t[e]===vt)return e;throw Error("Could not find renamed property on target object.")}function ZF(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(kn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function RT(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var XF=vt({__forward_ref__:vt});function Rt(t){return t.__forward_ref__=Rt,t.toString=function(){return kn(this())},t}function Nn(t){return TD(t)?t():t}function TD(t){return typeof t=="function"&&t.hasOwnProperty(XF)&&t.__forward_ref__===Rt}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function K(t){return{providers:t.providers||[],imports:t.imports||[]}}function af(t){return NT(t,SD)||NT(t,MD)}function DD(t){return af(t)!==null}function NT(t,e){return t.hasOwnProperty(e)?t[e]:null}function JF(t){let e=t&&(t[SD]||t[MD]);return e||null}function kT(t){return t&&(t.hasOwnProperty(FT)||t.hasOwnProperty(eL))?t[FT]:null}var SD=vt({\u0275prov:vt}),FT=vt({\u0275inj:vt}),MD=vt({ngInjectableDef:vt}),eL=vt({ngInjectorDef:vt}),k=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AD(t){return t&&!!t.\u0275providers}var tL=vt({\u0275cmp:vt}),nL=vt({\u0275dir:vt}),iL=vt({\u0275pipe:vt}),rL=vt({\u0275mod:vt}),Lh=vt({\u0275fac:vt}),Fu=vt({__NG_ELEMENT_ID__:vt}),LT=vt({__NG_ENV_ID__:vt});function La(t){return typeof t=="string"?t:t==null?"":String(t)}function oL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():La(t)}function sL(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Fy(t,e){throw new B(-201,!1)}var Ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ue||{}),Rv;function PD(){return Rv}function Hn(t){let e=Rv;return Rv=t,e}function OD(t,e,n){let i=af(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&Ue.Optional)return null;if(e!==void 0)return e;Fy(t,"Injector")}var aL={},Lu=aL,Nv="__NG_DI_FLAG__",Vh="ngTempTokenPath",cL="ngTokenPath",uL=/\n/gm,lL="\u0275",VT="__source",ka;function dL(){return ka}function co(t){let e=ka;return ka=t,e}function hL(t,e=Ue.Default){if(ka===void 0)throw new B(-203,!1);return ka===null?OD(t,void 0,e):ka.get(t,e&Ue.Optional?null:void 0,e)}function X(t,e=Ue.Default){return(PD()||hL)(Nn(t),e)}function P(t,e=Ue.Default){return X(t,cf(e))}function cf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function kv(t){let e=[];for(let n=0;n<t.length;n++){let i=Nn(t[n]);if(Array.isArray(i)){if(i.length===0)throw new B(900,!1);let r,o=Ue.Default;for(let s=0;s<i.length;s++){let a=i[s],c=fL(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(X(r,o))}else e.push(X(i))}return e}function Ly(t,e){return t[Nv]=e,t.prototype[Nv]=e,t}function fL(t){return t[Nv]}function pL(t,e,n,i){let r=t[Vh];throw e[VT]&&r.unshift(e[VT]),t.message=mL(`
`+t.message,r,n,i),t[cL]=r,t[Vh]=null,t}function mL(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lL?t.slice(2):t;let r=kn(e);if(Array.isArray(e))r=e.map(kn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kn(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(uL,`
  `)}`}var At=Ly(ky("Optional"),8),xD=Ly(ky("Self"),2),ui=Ly(ky("SkipSelf"),4);function ds(t,e){let n=t.hasOwnProperty(Lh);return n?t[Lh]:null}function gL(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function vL(t){return t.flat(Number.POSITIVE_INFINITY)}function Vy(t,e){t.forEach(n=>Array.isArray(n)?Vy(n,e):e(n))}function RD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function jh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yL(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function _L(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function IL(t,e,n){let i=Ju(t,e);return i>=0?t[i|1]=n:(i=~i,_L(t,i,e,n)),i}function vv(t,e){let n=Ju(t,e);if(n>=0)return t[n|1]}function Ju(t,e){return wL(t,e,1)}function wL(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var Va={},ai=[],ja=new k(""),Pr=new k("",-1),ND=new k(""),Uh=class{get(e,n=Lu){if(n===Lu){let i=new Error(`NullInjectorError: No provider for ${kn(e)}!`);throw i.name="NullInjectorError",i}return n}},kD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kD||{}),Yi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yi||{}),Ua=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ua||{});function EL(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function Fv(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];CL(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function bL(t){return t===3||t===4||t===6}function CL(t){return t.charCodeAt(0)===64}function Vu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?jT(t,n,r,null,e[++i]):jT(t,n,r,null,null))}}return t}function jT(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var FD="ng-template";function TL(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&EL(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(jy(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function jy(t){return t.type===4&&t.value!==FD}function DL(t,e,n){let i=t.type===4&&!n?FD:t.value;return e===i}function SL(t,e,n){let i=4,r=t.attrs,o=r!==null?PL(r):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ti(i)&&!Ti(c))return!1;if(s&&Ti(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!DL(t,c,n)||c===""&&e.length===1){if(Ti(i))return!1;s=!0}}else if(i&8){if(r===null||!TL(t,r,c,n)){if(Ti(i))return!1;s=!0}}else{let l=e[++a],h=ML(c,r,jy(t),n);if(h===-1){if(Ti(i))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=r[h+1].toLowerCase(),i&2&&l!==p){if(Ti(i))return!1;s=!0}}}}return Ti(i)||s}function Ti(t){return(t&1)===0}function ML(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return OL(e,t)}function LD(t,e,n=!1){for(let i=0;i<e.length;i++)if(SL(t,e[i],n))return!0;return!1}function AL(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function PL(t){for(let e=0;e<t.length;e++){let n=t[e];if(bL(n))return e}return t.length}function OL(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function xL(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function UT(t,e){return t?":not("+e.trim()+")":e}function RL(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Ti(s)&&(e+=UT(o,r),r=""),i=s,o=o||!Ti(i);n++}return r!==""&&(e+=UT(o,r)),e}function NL(t){return t.map(RL).join(",")}function kL(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Ti(r))break;r=o}i++}return{attrs:e,classes:n}}function ye(t){return Xu(()=>{let e=HD(t),n=it(Z({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yi.Emulated,styles:t.styles||ai,_:null,schemas:t.schemas||null,tView:null,id:""});$D(n);let i=t.dependencies;return n.directiveDefs=HT(i,!1),n.pipeDefs=HT(i,!0),n.id=VL(n),n})}function FL(t){return hs(t)||VD(t)}function LL(t){return t!==null}function Q(t){return Xu(()=>({type:t.type,bootstrap:t.bootstrap||ai,declarations:t.declarations||ai,imports:t.imports||ai,exports:t.exports||ai,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function BT(t,e){if(t==null)return Va;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=Ua.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==Ua.None?[i,a]:i,e[o]=s):n[o]=i}return n}function $(t){return Xu(()=>{let e=HD(t);return $D(e),e})}function uf(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function hs(t){return t[tL]||null}function VD(t){return t[nL]||null}function jD(t){return t[iL]||null}function UD(t){let e=hs(t)||VD(t)||jD(t);return e!==null?e.standalone:!1}function BD(t,e){let n=t[rL]||null;if(!n&&e===!0)throw new Error(`Type ${kn(t)} does not have '\u0275mod' property.`);return n}function HD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Va,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ai,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BT(t.inputs,e),outputs:BT(t.outputs),debugInfo:null}}function $D(t){t.features?.forEach(e=>e(t))}function HT(t,e){if(!t)return null;let n=e?jD:FL;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(LL)}function VL(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function po(t){return{\u0275providers:t}}function Uy(...t){return{\u0275providers:zD(!0,t),\u0275fromNgModule:!0}}function zD(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return Vy(e,s=>{let a=s;Lv(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&GD(r,o),n}function GD(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];By(r,o=>{e(o,i)})}}function Lv(t,e,n,i){if(t=Nn(t),!t)return!1;let r=null,o=kT(t),s=!o&&hs(t);if(!o&&!s){let c=t.ngModule;if(o=kT(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Lv(l,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{Vy(o.imports,h=>{Lv(h,e,n,i)&&(l||=[],l.push(h))})}finally{}l!==void 0&&GD(l,e)}if(!a){let l=ds(r)||(()=>new r);e({provide:r,useFactory:l,deps:ai},r),e({provide:ND,useValue:r,multi:!0},r),e({provide:ja,useValue:()=>X(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=t;By(c,h=>{e(h,l)})}}else return!1;return r!==t&&t.providers!==void 0}function By(t,e){for(let n of t)AD(n)&&(n=n.\u0275providers),Array.isArray(n)?By(n,e):e(n)}var jL=vt({provide:String,useValue:vt});function qD(t){return t!==null&&typeof t=="object"&&jL in t}function UL(t){return!!(t&&t.useExisting)}function BL(t){return!!(t&&t.useFactory)}function Ba(t){return typeof t=="function"}function HL(t){return!!t.useClass}var lf=new k(""),Oh={},$L={},yv;function Hy(){return yv===void 0&&(yv=new Uh),yv}var ci=class{},ju=class extends ci{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jv(e,s=>this.processProvider(s)),this.records.set(Pr,xa(void 0,this)),r.has("environment")&&this.records.set(ci,xa(void 0,this));let o=this.records.get(lf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ND,ai,Ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Xe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=co(this),i=Hn(void 0),r;try{return e()}finally{co(n),Hn(i)}}get(e,n=Lu,i=Ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(LT))return e[LT](this);i=cf(i);let r,o=co(this),s=Hn(void 0);try{if(!(i&Ue.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=KL(e)&&af(e);l&&this.injectableDefInScope(l)?c=xa(Vv(e),Oh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&Ue.Self?Hy():this.parent;return n=i&Ue.Optional&&n===Lu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vh]=a[Vh]||[]).unshift(kn(e)),o)throw a;return pL(a,e,"R3InjectorError",this.source)}else throw a}finally{Hn(s),co(o)}}resolveInjectorInitializers(){let e=Xe(null),n=co(this),i=Hn(void 0),r;try{let o=this.get(ja,ai,Ue.Self);for(let s of o)s()}finally{co(n),Hn(i),Xe(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(kn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=Nn(e);let n=Ba(e)?e:Nn(e&&e.provide),i=GL(e);if(!Ba(e)&&e.multi===!0){let r=this.records.get(n);r||(r=xa(void 0,Oh,!0),r.factory=()=>kv(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=Xe(null);try{return n.value===Oh&&(n.value=$L,n.value=n.factory()),typeof n.value=="object"&&n.value&&WL(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Xe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Nn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vv(t){let e=af(t),n=e!==null?e.factory:ds(t);if(n!==null)return n;if(t instanceof k)throw new B(204,!1);if(t instanceof Function)return zL(t);throw new B(204,!1)}function zL(t){if(t.length>0)throw new B(204,!1);let n=JF(t);return n!==null?()=>n.factory(t):()=>new t}function GL(t){if(qD(t))return xa(void 0,t.useValue);{let e=WD(t);return xa(e,Oh)}}function WD(t,e,n){let i;if(Ba(t)){let r=Nn(t);return ds(r)||Vv(r)}else if(qD(t))i=()=>Nn(t.useValue);else if(BL(t))i=()=>t.useFactory(...kv(t.deps||[]));else if(UL(t))i=()=>X(Nn(t.useExisting));else{let r=Nn(t&&(t.useClass||t.provide));if(qL(t))i=()=>new r(...kv(t.deps));else return ds(r)||Vv(r)}return i}function xa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qL(t){return!!t.deps}function WL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function KL(t){return typeof t=="function"||typeof t=="object"&&t instanceof k}function jv(t,e){for(let n of t)Array.isArray(n)?jv(n,e):n&&AD(n)?jv(n.\u0275providers,e):e(n)}function Or(t,e){t instanceof ju&&t.assertNotDestroyed();let n,i=co(t),r=Hn(void 0);try{return e()}finally{co(i),Hn(r)}}function QL(){return PD()!==void 0||dL()!=null}function YL(t){return typeof t=="function"}var er=0,Re=1,Ae=2,bn=3,Di=4,$n=5,Ha=6,Uu=7,Fn=8,$a=9,Zi=10,xt=11,Bu=12,$T=13,qa=14,Zn=15,fs=16,Ra=17,br=18,df=19,KD=20,uo=21,_v=22,ps=23,Cn=25,$y=1;var ms=7,Bh=8,za=9,En=10,Hh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hh||{});function lo(t){return Array.isArray(t)&&typeof t[$y]=="object"}function xr(t){return Array.isArray(t)&&t[$y]===!0}function zy(t){return(t.flags&4)!==0}function hf(t){return t.componentOffset>-1}function ff(t){return(t.flags&1)===1}function Cr(t){return!!t.template}function Uv(t){return(t[Ae]&512)!==0}var Bv=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function QD(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Tn(){return YD}function YD(t){return t.type.prototype.ngOnChanges&&(t.setInput=XL),ZL}Tn.ngInherit=!0;function ZL(){let t=XD(this),e=t?.current;if(e){let n=t.previous;if(n===Va)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function XL(t,e,n,i,r){let o=this.declaredInputs[i],s=XD(t)||JL(t,{previous:Va,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Bv(l&&l.currentValue,n,c===Va),QD(t,e,r,n)}var ZD="__ngSimpleChanges__";function XD(t){return t[ZD]||null}function JL(t,e){return t[ZD]=e}var zT=null;var Ki=function(t,e,n){zT?.(t,e,n)},JD="svg",eV="math";function Xi(t){for(;Array.isArray(t);)t=t[er];return t}function tV(t){for(;Array.isArray(t);){if(typeof t[$y]=="object")return t;t=t[er]}return null}function eS(t,e){return Xi(e[t])}function li(t,e){return Xi(e[t.index])}function Gy(t,e){return t.data[e]}function qy(t,e){return t[e]}function mo(t,e){let n=e[t];return lo(n)?n:n[er]}function nV(t){return(t[Ae]&4)===4}function Wy(t){return(t[Ae]&128)===128}function iV(t){return xr(t[bn])}function ho(t,e){return e==null?null:t[e]}function tS(t){t[Ra]=0}function rV(t){t[Ae]&1024||(t[Ae]|=1024,Wy(t)&&pf(t))}function oV(t,e){for(;t>0;)e=e[qa],t--;return e}function Hu(t){return!!(t[Ae]&9216||t[ps]?.dirty)}function Hv(t){t[Zi].changeDetectionScheduler?.notify(7),t[Ae]&64&&(t[Ae]|=1024),Hu(t)&&pf(t)}function pf(t){t[Zi].changeDetectionScheduler?.notify(0);let e=$u(t);for(;e!==null&&!(e[Ae]&8192||(e[Ae]|=8192,!Wy(e)));)e=$u(e)}function nS(t,e){if((t[Ae]&256)===256)throw new B(911,!1);t[uo]===null&&(t[uo]=[]),t[uo].push(e)}function sV(t,e){if(t[uo]===null)return;let n=t[uo].indexOf(e);n!==-1&&t[uo].splice(n,1)}function $u(t){let e=t[bn];return xr(e)?e[bn]:e}var Be={lFrame:fS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var iS=!1;function aV(){return Be.lFrame.elementDepthCount}function cV(){Be.lFrame.elementDepthCount++}function uV(){Be.lFrame.elementDepthCount--}function rS(){return Be.bindingsEnabled}function oS(){return Be.skipHydrationRootTNode!==null}function lV(t){return Be.skipHydrationRootTNode===t}function dV(){Be.skipHydrationRootTNode=null}function Le(){return Be.lFrame.lView}function Nt(){return Be.lFrame.tView}function Zt(t){return Be.lFrame.contextLView=t,t[Fn]}function Xt(t){return Be.lFrame.contextLView=null,t}function Dn(){let t=sS();for(;t!==null&&t.type===64;)t=t.parent;return t}function sS(){return Be.lFrame.currentTNode}function hV(){let t=Be.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ws(t,e){let n=Be.lFrame;n.currentTNode=t,n.isParent=e}function Ky(){return Be.lFrame.isParent}function Qy(){Be.lFrame.isParent=!1}function fV(){return Be.lFrame.contextLView}function aS(){return iS}function GT(t){iS=t}function Yy(){let t=Be.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pV(){return Be.lFrame.bindingIndex}function mV(t){return Be.lFrame.bindingIndex=t}function Es(){return Be.lFrame.bindingIndex++}function cS(t){let e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function gV(){return Be.lFrame.inI18n}function vV(t,e){let n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,$v(e)}function yV(){return Be.lFrame.currentDirectiveIndex}function $v(t){Be.lFrame.currentDirectiveIndex=t}function uS(t){let e=Be.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function lS(){return Be.lFrame.currentQueryIndex}function Zy(t){Be.lFrame.currentQueryIndex=t}function _V(t){let e=t[Re];return e.type===2?e.declTNode:e.type===1?t[$n]:null}function dS(t,e,n){if(n&Ue.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&Ue.Host);)if(r=_V(o),r===null||(o=o[qa],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=Be.lFrame=hS();return i.currentTNode=e,i.lView=t,!0}function Xy(t){let e=hS(),n=t[Re];Be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function hS(){let t=Be.lFrame,e=t===null?null:t.child;return e===null?fS(t):e}function fS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function pS(){let t=Be.lFrame;return Be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var mS=pS;function Jy(){let t=pS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function IV(t){return(Be.lFrame.contextLView=oV(t,Be.lFrame.contextLView))[Fn]}function go(){return Be.lFrame.selectedIndex}function gs(t){Be.lFrame.selectedIndex=t}function el(){let t=Be.lFrame;return Gy(t.tView,t.selectedIndex)}function di(){Be.lFrame.currentNamespace=JD}function wV(){return Be.lFrame.currentNamespace}var gS=!0;function mf(){return gS}function gf(t){gS=t}function EV(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=YD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function vf(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function xh(t,e,n){vS(t,e,3,n)}function Rh(t,e,n,i){(t[Ae]&3)===n&&vS(t,e,n,i)}function Iv(t,e){let n=t[Ae];(n&3)===e&&(n&=16383,n+=1,t[Ae]=n)}function vS(t,e,n,i){let r=i!==void 0?t[Ra]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[Ra]+=65536),(a<o||o==-1)&&(bV(t,n,e,c),t[Ra]=(t[Ra]&4294901760)+c+2),c++}function qT(t,e){Ki(4,t,e);let n=Xe(null);try{e.call(t)}finally{Xe(n),Ki(5,t,e)}}function bV(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[Ae]>>14<t[Ra]>>16&&(t[Ae]&3)===e&&(t[Ae]+=16384,qT(a,o)):qT(a,o)}var Fa=-1,vs=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function CV(t){return t instanceof vs}function TV(t){return(t.flags&8)!==0}function DV(t){return(t.flags&16)!==0}function yS(t){return t!==Fa}function $h(t){return t&32767}function SV(t){return t>>16}function zh(t,e){let n=SV(t),i=e;for(;n>0;)i=i[qa],n--;return i}var zv=!0;function Gh(t){let e=zv;return zv=t,e}var MV=256,_S=MV-1,IS=5,AV=0,Qi={};function PV(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Fu)&&(i=n[Fu]),i==null&&(i=n[Fu]=AV++);let r=i&_S,o=1<<r;e.data[t+(r>>IS)]|=o}function qh(t,e){let n=wS(t,e);if(n!==-1)return n;let i=e[Re];i.firstCreatePass&&(t.injectorIndex=e.length,wv(i.data,t),wv(e,null),wv(i.blueprint,null));let r=e_(t,e),o=t.injectorIndex;if(yS(r)){let s=$h(r),a=zh(r,e),c=a[Re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function wv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function e_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=DS(r),i===null)return Fa;if(n++,r=r[qa],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Fa}function Gv(t,e,n){PV(t,e,n)}function ES(t,e,n){if(n&Ue.Optional||t!==void 0)return t;Fy(e,"NodeInjector")}function bS(t,e,n,i){if(n&Ue.Optional&&i===void 0&&(i=null),!(n&(Ue.Self|Ue.Host))){let r=t[$a],o=Hn(void 0);try{return r?r.get(e,i,n&Ue.Optional):OD(e,i,n&Ue.Optional)}finally{Hn(o)}}return ES(i,e,n)}function CS(t,e,n,i=Ue.Default,r){if(t!==null){if(e[Ae]&2048&&!(i&Ue.Self)){let s=NV(t,e,n,i,Qi);if(s!==Qi)return s}let o=TS(t,e,n,i,Qi);if(o!==Qi)return o}return bS(e,n,i,r)}function TS(t,e,n,i,r){let o=xV(n);if(typeof o=="function"){if(!dS(e,t,i))return i&Ue.Host?ES(r,n,i):bS(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&Ue.Optional))Fy(n);else return s}finally{mS()}}else if(typeof o=="number"){let s=null,a=wS(t,e),c=Fa,l=i&Ue.Host?e[Zn][$n]:null;for((a===-1||i&Ue.SkipSelf)&&(c=a===-1?e_(t,e):e[a+8],c===Fa||!KT(i,!1)?a=-1:(s=e[Re],a=$h(c),e=zh(c,e)));a!==-1;){let h=e[Re];if(WT(o,a,h.data)){let p=OV(a,e,n,s,i,l);if(p!==Qi)return p}c=e[a+8],c!==Fa&&KT(i,e[Re].data[a+8]===l)&&WT(o,a,e)?(s=h,a=$h(c),e=zh(c,e)):a=-1}}return r}function OV(t,e,n,i,r,o){let s=e[Re],a=s.data[t+8],c=i==null?hf(a)&&zv:i!=s&&(a.type&3)!==0,l=r&Ue.Host&&o===a,h=Nh(a,s,n,c,l);return h!==null?ys(e,s,h,a):Qi}function Nh(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,h=o>>20,p=i?a:a+h,m=r?a+h:l;for(let v=p;v<m;v++){let I=s[v];if(v<c&&n===I||v>=c&&I.type===n)return v}if(r){let v=s[c];if(v&&Cr(v)&&v.type===n)return c}return null}function ys(t,e,n,i){let r=t[n],o=e.data;if(CV(r)){let s=r;s.resolving&&sL(oL(o[n]));let a=Gh(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Hn(s.injectImpl):null,h=dS(t,i,Ue.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&EV(n,o[n],e)}finally{l!==null&&Hn(l),Gh(a),s.resolving=!1,mS()}}return r}function xV(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fu)?t[Fu]:void 0;return typeof e=="number"?e>=0?e&_S:RV:e}function WT(t,e,n){let i=1<<t;return!!(n[e+(t>>IS)]&i)}function KT(t,e){return!(t&Ue.Self)&&!(t&Ue.Host&&e)}var us=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return CS(this._tNode,this._lView,e,cf(i),n)}};function RV(){return new us(Dn(),Le())}function ze(t){return Xu(()=>{let e=t.prototype.constructor,n=e[Lh]||qv(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Lh]||qv(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function qv(t){return TD(t)?()=>{let e=qv(Nn(t));return e&&e()}:ds(t)}function NV(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[Ae]&2048&&!(s[Ae]&512);){let a=TS(o,s,n,i|Ue.Self,Qi);if(a!==Qi)return a;let c=o.parent;if(!c){let l=s[KD];if(l){let h=l.get(n,Qi,i);if(h!==Qi)return h}c=DS(s),s=s[qa]}o=c}return r}function DS(t){let e=t[Re],n=e.type;return n===2?e.declTNode:n===1?t[$n]:null}function QT(t,e=null,n=null,i){let r=SS(t,e,n,i);return r.resolveInjectorInitializers(),r}function SS(t,e=null,n=null,i,r=new Set){let o=[n||ai,Uy(t)];return i=i||(typeof t=="object"?void 0:kn(t)),new ju(o,e||Hy(),i||null,r)}var cs=class cs{static create(e,n){if(Array.isArray(e))return QT({name:""},n,e,"");{let i=e.name??"";return QT({name:i},e.parent,e.providers,i)}}};cs.THROW_IF_NOT_FOUND=Lu,cs.NULL=new Uh,cs.\u0275prov=q({token:cs,providedIn:"any",factory:()=>X(Pr)}),cs.__NG_ELEMENT_ID__=-1;var Bt=cs;var kV=new k("");kV.__NG_ELEMENT_ID__=t=>{let e=Dn();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&Ue.Optional)return null;throw new B(204,!1)};var FV="ngOriginalError";function Ev(t){return t[FV]}var Tr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ev(e);for(;n&&Ev(n);)n=Ev(n);return n||null}},MS=new k("",{providedIn:"root",factory:()=>P(Tr).handleError.bind(void 0)}),AS=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LV,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Wv=class extends AS{constructor(e){super(),this._lView=e}onDestroy(e){return nS(this._lView,e),()=>sV(this._lView,e)}};function LV(){return new Wv(Le())}function VV(){return Wa(Dn(),Le())}function Wa(t,e){return new se(li(t,e))}var se=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=VV;let t=e;return t})();function jV(t){return t instanceof se?t.nativeElement:t}var Kv=class extends ot{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,QL()&&(this.destroyRef=P(AS,{optional:!0})??void 0)}emit(e){let n=Xe(null);try{super.next(e)}finally{Xe(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=bv(o),r&&(r=bv(r)),s&&(s=bv(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof jt&&e.add(a),a}};function bv(t){return e=>{setTimeout(t,void 0,e)}}var rt=Kv;function UV(){return this._results[Symbol.iterator]()}var zu=class t{get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=UV)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=vL(e);(this._changesDetected=!gL(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function PS(t){return(t.flags&128)===128}var OS=new Map,BV=0;function HV(){return BV++}function $V(t){OS.set(t[df],t)}function zV(t){OS.delete(t[df])}var YT="__ngContext__";function fo(t,e){lo(e)?(t[YT]=e[df],$V(e)):t[YT]=e}function xS(t){return NS(t[Bu])}function RS(t){return NS(t[Di])}function NS(t){for(;t!==null&&!xr(t);)t=t[Di];return t}var Qv;function kS(t){Qv=t}function FS(){if(Qv!==void 0)return Qv;if(typeof document<"u")return document;throw new B(210,!1)}var t_=new k("",{providedIn:"root",factory:()=>GV}),GV="ng",n_=new k(""),zn=new k("",{providedIn:"platform",factory:()=>"unknown"});var i_=new k(""),r_=new k("",{providedIn:"root",factory:()=>FS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qV="h",WV="b";var KV=()=>null;function o_(t,e,n=!1){return KV(t,e,n)}var LS=!1,QV=new k("",{providedIn:"root",factory:()=>LS});var Dh;function YV(){if(Dh===void 0&&(Dh=null,ls.trustedTypes))try{Dh=ls.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dh}function yf(t){return YV()?.createHTML(t)||t}var Sh;function ZV(){if(Sh===void 0&&(Sh=null,ls.trustedTypes))try{Sh=ls.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sh}function ZT(t){return ZV()?.createHTML(t)||t}var Dr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CD})`}},Yv=class extends Dr{getTypeName(){return"HTML"}},Zv=class extends Dr{getTypeName(){return"Style"}},Xv=class extends Dr{getTypeName(){return"Script"}},Jv=class extends Dr{getTypeName(){return"URL"}},ey=class extends Dr{getTypeName(){return"ResourceURL"}};function Rr(t){return t instanceof Dr?t.changingThisBreaksApplicationSecurity:t}function bs(t,e){let n=XV(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${CD})`)}return n===e}function XV(t){return t instanceof Dr&&t.getTypeName()||null}function VS(t){return new Yv(t)}function jS(t){return new Zv(t)}function US(t){return new Xv(t)}function BS(t){return new Jv(t)}function HS(t){return new ey(t)}function JV(t){let e=new ny(t);return e2()?new ty(e):e}var ty=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(yf(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},ny=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=yf(e),n}};function e2(){try{return!!new window.DOMParser().parseFromString(yf(""),"text/html")}catch{return!1}}var t2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function s_(t){return t=String(t),t.match(t2)?t:"unsafe:"+t}function Nr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function tl(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var $S=Nr("area,br,col,hr,img,wbr"),zS=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),GS=Nr("rp,rt"),n2=tl(GS,zS),i2=tl(zS,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),r2=tl(GS,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),XT=tl($S,i2,r2,n2),qS=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),o2=Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),s2=Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),a2=tl(qS,o2,s2),c2=Nr("script,style,template"),iy=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=d2(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=l2(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=JT(e).toLowerCase();if(!XT.hasOwnProperty(n))return this.sanitizedSomething=!0,!c2.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!a2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;qS[a]&&(c=s_(c)),this.buf.push(" ",s,'="',eD(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=JT(e).toLowerCase();XT.hasOwnProperty(n)&&!$S.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(eD(e))}};function u2(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function l2(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw WS(e);return e}function d2(t){let e=t.firstChild;if(e&&u2(t,e))throw WS(e);return e}function JT(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function WS(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var h2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f2=/([^\#-~ |!])/g;function eD(t){return t.replace(/&/g,"&amp;").replace(h2,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(f2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Mh;function a_(t,e){let n=null;try{Mh=Mh||JV(t);let i=e?String(e):"";n=Mh.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Mh.getInertBodyElement(i)}while(i!==o);let a=new iy().sanitizeChildren(tD(n)||n);return yf(a)}finally{if(n){let i=tD(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function tD(t){return"content"in t&&p2(t)?t.content:null}function p2(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Gn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Gn||{});function Ai(t){let e=m2();return e?ZT(e.sanitize(Gn.HTML,t)||""):bs(t,"HTML")?ZT(Rr(t)):a_(FS(),La(t))}function m2(){let t=Le();return t&&t[Zi].sanitizer}var g2=/^>|^->|<!--|-->|--!>|<!-$/g,v2=/(<|>)/g,y2="\u200B$1\u200B";function _2(t){return t.replace(g2,e=>e.replace(v2,y2))}function _f(t){return t.ownerDocument.defaultView}function If(t){return t.ownerDocument}function KS(t){return t instanceof Function?t():t}var Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sr||{}),I2;function c_(t,e){return I2(t,e)}function Na(t,e,n,i,r){if(i!=null){let o,s=!1;xr(i)?o=i:lo(i)&&(s=!0,i=i[er]);let a=Xi(i);t===0&&n!==null?r==null?JS(e,n,a):Wh(e,n,a,r||null,!0):t===1&&n!==null?Wh(e,n,a,r||null,!0):t===2?k2(e,a,s):t===3&&e.destroyNode(a),o!=null&&L2(e,t,o,n,r)}}function w2(t,e){return t.createText(e)}function E2(t,e,n){t.setValue(e,n)}function b2(t,e){return t.createComment(_2(e))}function QS(t,e,n){return t.createElement(e,n)}function C2(t,e){YS(t,e),e[er]=null,e[$n]=null}function T2(t,e,n,i,r,o){i[er]=r,i[$n]=e,bf(t,i,n,1,r,o)}function YS(t,e){e[Zi].changeDetectionScheduler?.notify(8),bf(t,e,e[xt],2,null,null)}function D2(t){let e=t[Bu];if(!e)return Cv(t[Re],t);for(;e;){let n=null;if(lo(e))n=e[Bu];else{let i=e[En];i&&(n=i)}if(!n){for(;e&&!e[Di]&&e!==t;)lo(e)&&Cv(e[Re],e),e=e[bn];e===null&&(e=t),lo(e)&&Cv(e[Re],e),n=e&&e[Di]}e=n}}function S2(t,e,n,i){let r=En+i,o=n.length;i>0&&(n[r-1][Di]=e),i<o-En?(e[Di]=n[r],RD(n,En+i,e)):(n.push(e),e[Di]=null),e[bn]=n;let s=e[fs];s!==null&&n!==s&&ZS(s,e);let a=e[br];a!==null&&a.insertView(t),Hv(e),e[Ae]|=128}function ZS(t,e){let n=t[za],i=e[bn];if(lo(i))t[Ae]|=Hh.HasTransplantedViews;else{let r=i[bn][Zn];e[Zn]!==r&&(t[Ae]|=Hh.HasTransplantedViews)}n===null?t[za]=[e]:n.push(e)}function u_(t,e){let n=t[za],i=n.indexOf(e);n.splice(i,1)}function Gu(t,e){if(t.length<=En)return;let n=En+e,i=t[n];if(i){let r=i[fs];r!==null&&r!==t&&u_(r,i),e>0&&(t[n-1][Di]=i[Di]);let o=jh(t,En+e);C2(i[Re],i);let s=o[br];s!==null&&s.detachView(o[Re]),i[bn]=null,i[Di]=null,i[Ae]&=-129}return i}function wf(t,e){if(!(e[Ae]&256)){let n=e[xt];n.destroyNode&&bf(t,e,n,3,null,null),D2(e)}}function Cv(t,e){if(e[Ae]&256)return;let n=Xe(null);try{e[Ae]&=-129,e[Ae]|=256,e[ps]&&oT(e[ps]),A2(t,e),M2(t,e),e[Re].type===1&&e[xt].destroy();let i=e[fs];if(i!==null&&xr(e[bn])){i!==e[bn]&&u_(i,e);let r=e[br];r!==null&&r.detachView(t)}zV(e)}finally{Xe(n)}}function M2(t,e){let n=t.cleanup,i=e[Uu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Uu]=null);let r=e[uo];if(r!==null){e[uo]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function A2(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof vs)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];Ki(4,a,c);try{c.call(a)}finally{Ki(5,a,c)}}else{Ki(4,r,o);try{o.call(r)}finally{Ki(5,r,o)}}}}}function XS(t,e,n){return P2(t,e.parent,n)}function P2(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[er];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Yi.None||o===Yi.Emulated)return null}return li(i,n)}}function Wh(t,e,n,i,r){t.insertBefore(e,n,i,r)}function JS(t,e,n){t.appendChild(e,n)}function nD(t,e,n,i,r){i!==null?Wh(t,e,n,i,r):JS(t,e,n)}function O2(t,e,n,i){t.removeChild(e,n,i)}function l_(t,e){return t.parentNode(e)}function x2(t,e){return t.nextSibling(e)}function eM(t,e,n){return N2(t,e,n)}function R2(t,e,n){return t.type&40?li(t,n):null}var N2=R2,iD;function Ef(t,e,n,i){let r=XS(t,i,e),o=e[xt],s=i.parent||e[$n],a=eM(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)nD(o,r,n[c],a,!1);else nD(o,r,n,a,!1);iD!==void 0&&iD(o,i,e,n,r)}function kh(t,e){if(e!==null){let n=e.type;if(n&3)return li(e,t);if(n&4)return ry(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return kh(t,i);{let r=t[e.index];return xr(r)?ry(-1,r):Xi(r)}}else{if(n&32)return c_(e,t)()||Xi(t[e.index]);{let i=tM(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=$u(t[Zn]);return kh(r,i)}else return kh(t,e.next)}}}return null}function tM(t,e){if(e!==null){let i=t[Zn][$n],r=e.projection;return i.projection[r]}return null}function ry(t,e){let n=En+t+1;if(n<e.length){let i=e[n],r=i[Re].firstChild;if(r!==null)return kh(i,r)}return e[ms]}function k2(t,e,n){let i=l_(t,e);i&&O2(t,i,e,n)}function d_(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],c=n.type;if(s&&e===0&&(a&&fo(Xi(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)d_(t,e,n.child,i,r,o,!1),Na(e,t,r,a,o);else if(c&32){let l=c_(n,i),h;for(;h=l();)Na(e,t,r,h,o);Na(e,t,r,a,o)}else c&16?nM(t,e,i,n,r,o):Na(e,t,r,a,o);n=s?n.projectionNext:n.next}}function bf(t,e,n,i,r,o){d_(n,i,t.firstChild,e,r,o,!1)}function F2(t,e,n){let i=e[xt],r=XS(t,n,e),o=n.parent||e[$n],s=eM(o,n,e);nM(i,0,e,n,r,s)}function nM(t,e,n,i,r,o){let s=n[Zn],c=s[$n].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];Na(e,t,r,h,o)}else{let l=c,h=s[bn];PS(i)&&(l.flags|=128),d_(t,e,l,h,r,o,!0)}}function L2(t,e,n,i,r){let o=n[ms],s=Xi(n);o!==s&&Na(e,t,i,o,r);for(let a=En;a<n.length;a++){let c=n[a];bf(c[Re],c,t,e,i,o)}}function V2(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Sr.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Sr.Important),t.setStyle(n,i,r,o))}}function j2(t,e,n){t.setAttribute(e,"style",n)}function iM(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rM(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Fv(t,e,i),r!==null&&iM(t,e,r),o!==null&&j2(t,e,o)}var kr={};function U(t=1){oM(Nt(),Le(),go()+t,!1)}function oM(t,e,n,i){if(!i)if((e[Ae]&3)===3){let o=t.preOrderCheckHooks;o!==null&&xh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Rh(e,o,0,n)}gs(n)}function _(t,e=Ue.Default){let n=Le();if(n===null)return X(t,e);let i=Dn();return CS(i,n,Nn(t),e)}function h_(){let t="invalid";throw new Error(t)}function sM(t,e,n,i,r,o){let s=Xe(null);try{let a=null;r&Ua.SignalBased&&(a=e[i][Kg]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ua.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):QD(e,a,i,o)}finally{Xe(s)}}function U2(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)gs(~r);else{let o=r,s=n[++i],a=n[++i];vV(s,o);let c=e[o];a(2,c)}}}finally{gs(-1)}}function Cf(t,e,n,i,r,o,s,a,c,l,h){let p=e.blueprint.slice();return p[er]=r,p[Ae]=i|4|128|8|64,(l!==null||t&&t[Ae]&2048)&&(p[Ae]|=2048),tS(p),p[bn]=p[qa]=t,p[Fn]=n,p[Zi]=s||t&&t[Zi],p[xt]=a||t&&t[xt],p[$a]=c||t&&t[$a]||null,p[$n]=o,p[df]=HV(),p[Ha]=h,p[KD]=l,p[Zn]=e.type==2?t[Zn]:p,p}function Ka(t,e,n,i,r){let o=t.data[e];if(o===null)o=B2(t,e,n,i,r),gV()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=hV();o.injectorIndex=s===null?-1:s.injectorIndex}return ws(o,!0),o}function B2(t,e,n,i,r){let o=sS(),s=Ky(),a=s?o:o&&o.parent,c=t.data[e]=W2(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function aM(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function cM(t,e,n,i,r){let o=go(),s=i&2;try{gs(-1),s&&e.length>Cn&&oM(t,e,Cn,!1),Ki(s?2:0,r),n(i,r)}finally{gs(o),Ki(s?3:1,r)}}function f_(t,e,n){if(zy(e)){let i=Xe(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Xe(i)}}}function p_(t,e,n){rS()&&(J2(t,e,n,li(n,e)),(n.flags&64)===64&&dM(t,e,n))}function m_(t,e,n=li){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function uM(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=g_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function g_(t,e,n,i,r,o,s,a,c,l,h){let p=Cn+i,m=p+r,v=H2(p,m),I=typeof l=="function"?l():l;return v[Re]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:h}}function H2(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:kr);return n}function $2(t,e,n,i){let o=i.get(QV,LS)||n===Yi.ShadowDom,s=t.selectRootElement(e,o);return z2(s),s}function z2(t){G2(t)}var G2=()=>null;function q2(t,e,n,i){let r=pM(e);r.push(n),t.firstCreatePass&&mM(t).push(i,r.length-1)}function W2(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return oS()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function rD(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,c=Ua.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(r!==null){if(!r.hasOwnProperty(o))continue;l=r[o]}t===0?oD(i,n,l,a,c):oD(i,n,l,a)}return i}function oD(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function K2(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let h=i;h<r;h++){let p=o[h],m=n?n.get(p):null,v=m?m.inputs:null,I=m?m.outputs:null;c=rD(0,p.inputs,h,c,v),l=rD(1,p.outputs,h,l,I);let S=c!==null&&s!==null&&!jy(e)?lj(c,h,s):null;a.push(S)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function Q2(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Tf(t,e,n,i,r,o,s,a){let c=li(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[i])?(y_(t,n,h,i,r),hf(e)&&Y2(n,e.index)):e.type&3?(i=Q2(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function Y2(t,e){let n=mo(e,t);n[Ae]&16||(n[Ae]|=64)}function v_(t,e,n,i){if(rS()){let r=i===null?null:{"":-1},o=tj(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&lM(t,e,n,s,r,a),r&&nj(n,i,r)}n.mergedAttrs=Vu(n.mergedAttrs,n.attrs)}function lM(t,e,n,i,r,o){for(let l=0;l<i.length;l++)Gv(qh(n,e),t,i[l].type);rj(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let h=i[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=aM(t,e,i.length,null);for(let l=0;l<i.length;l++){let h=i[l];n.mergedAttrs=Vu(n.mergedAttrs,h.hostAttrs),oj(t,n,e,c,h),ij(c,h,r),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}K2(t,n,o)}function Z2(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;X2(s)!=a&&s.push(a),s.push(n,i,o)}}function X2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function J2(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;hf(n)&&sj(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||qh(n,e),fo(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],l=ys(e,t,a,n);if(fo(l,e),s!==null&&uj(e,a-r,l,c,n,s),Cr(c)){let h=mo(n.index,e);h[Fn]=ys(e,t,a,n)}}}function dM(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=yV();try{gs(o);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];$v(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&ej(c,l)}}finally{gs(-1),$v(s)}}function ej(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function tj(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(LD(e,s.selectors,!1))if(i||(i=[]),Cr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;oy(t,e,c)}else i.unshift(s),oy(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function oy(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function nj(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new B(-301,!1);i.push(e[r],o)}}}function ij(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Cr(e)&&(n[""]=t)}}function rj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function oj(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=ds(r.type,!0)),s=new vs(o,Cr(r),_);t.blueprint[i]=s,n[i]=s,Z2(t,e,i,aM(t,n,r.hostVars,kr),r)}function sj(t,e,n){let i=li(e,t),r=uM(n),o=t[Zi].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Df(t,Cf(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function aj(t,e,n,i,r,o){let s=li(t,e);cj(e[xt],s,o,t.value,n,i,r)}function cj(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?La(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function uj(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],h=s[a++],p=s[a++];sM(i,n,c,l,h,p)}}function lj(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function hM(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function fM(t,e){let n=t.contentQueries;if(n!==null){let i=Xe(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];Zy(o),a.contentQueries(2,e[s],s)}}}finally{Xe(i)}}}function Df(t,e){return t[Bu]?t[$T][Di]=e:t[Bu]=e,t[$T]=e,e}function sy(t,e,n){Zy(0);let i=Xe(null);try{e(t,n)}finally{Xe(i)}}function pM(t){return t[Uu]||(t[Uu]=[])}function mM(t){return t.cleanup||(t.cleanup=[])}function dj(t,e,n){return(t===null||Cr(t))&&(n=tV(n[e.index])),n[xt]}function gM(t,e){let n=t[$a],i=n?n.get(Tr,null):null;i&&i.handleError(e)}function y_(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],h=t.data[s];sM(h,l,i,a,c,r)}}function vM(t,e,n){let i=eS(e,t);E2(t[xt],i,n)}function hj(t,e){let n=mo(e,t),i=n[Re];fj(i,n);let r=n[er];r!==null&&n[Ha]===null&&(n[Ha]=o_(r,n[$a])),__(i,n,n[Fn])}function fj(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function __(t,e,n){Xy(e);try{let i=t.viewQuery;i!==null&&sy(1,i,n);let r=t.template;r!==null&&cM(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[br]?.finishViewCreation(t),t.staticContentQueries&&fM(t,e),t.staticViewQueries&&sy(2,t.viewQuery,n);let o=t.components;o!==null&&pj(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Ae]&=-5,Jy()}}function pj(t,e){for(let n=0;n<e.length;n++)hj(t,e[n])}function Sf(t,e,n,i){let r=Xe(null);try{let o=e.tView,a=t[Ae]&4096?4096:16,c=Cf(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=t[e.index];c[fs]=l;let h=t[br];return h!==null&&(c[br]=h.createEmbeddedView(o)),__(o,c,n),c}finally{Xe(r)}}function mj(t,e){let n=En+e;if(n<t.length)return t[n]}function qu(t,e){return!e||e.firstChild===null||PS(t)}function Mf(t,e,n,i=!0){let r=e[Re];if(S2(r,e,t,n),i){let s=ry(n,t),a=e[xt],c=l_(a,t[ms]);c!==null&&T2(r,t[$n],a,e,c,s)}let o=e[Ha];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gj(t,e){let n=Gu(t,e);return n!==void 0&&wf(n[Re],n),n}function Kh(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Xi(o)),xr(o)&&vj(o,i);let s=n.type;if(s&8)Kh(t,e,n.child,i);else if(s&32){let a=c_(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=tM(e,n);if(Array.isArray(a))i.push(...a);else{let c=$u(e[Zn]);Kh(c[Re],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function vj(t,e){for(let n=En;n<t.length;n++){let i=t[n],r=i[Re].firstChild;r!==null&&Kh(i[Re],i,r,e)}t[ms]!==t[er]&&e.push(t[ms])}var yM=[];function yj(t){return t[ps]??_j(t)}function _j(t){let e=yM.pop()??Object.create(wj);return e.lView=t,e}function Ij(t){t.lView[ps]!==t&&(t.lView=null,yM.push(t))}var wj=it(Z({},nT),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pf(t.lView)},consumerOnSignalRead(){this.lView[ps]=this}}),Ej=100;function _M(t,e=!0,n=0){let i=t[Zi],r=i.rendererFactory,o=!1;o||r.begin?.();try{bj(t,n)}catch(s){throw e&&gM(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function bj(t,e){let n=aS();try{GT(!0),ay(t,e);let i=0;for(;Hu(t);){if(i===Ej)throw new B(103,!1);i++,ay(t,1)}}finally{GT(n)}}function Cj(t,e,n,i){let r=e[Ae];if((r&256)===256)return;let o=!1,s=!1;!o&&e[Zi].inlineEffectRunner?.flush(),Xy(e);let a=null,c=null;!o&&Tj(t)&&(c=yj(e),a=iT(c));try{tS(e),mV(t.bindingStartIndex),n!==null&&cM(t,e,n,2,i);let l=(r&3)===3;if(!o)if(l){let m=t.preOrderCheckHooks;m!==null&&xh(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Rh(e,m,0,null),Iv(e,0)}if(s||Dj(e),IM(e,0),t.contentQueries!==null&&fM(t,e),!o)if(l){let m=t.contentCheckHooks;m!==null&&xh(e,m)}else{let m=t.contentHooks;m!==null&&Rh(e,m,1),Iv(e,1)}U2(t,e);let h=t.components;h!==null&&EM(e,h,0);let p=t.viewQuery;if(p!==null&&sy(2,p,i),!o)if(l){let m=t.viewCheckHooks;m!==null&&xh(e,m)}else{let m=t.viewHooks;m!==null&&Rh(e,m,2),Iv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[_v]){for(let m of e[_v])m();e[_v]=null}o||(e[Ae]&=-73)}catch(l){throw o||pf(e),l}finally{c!==null&&(rT(c,a),Ij(c)),Jy()}}function Tj(t){return t.type!==2}function IM(t,e){for(let n=xS(t);n!==null;n=RS(n))for(let i=En;i<n.length;i++){let r=n[i];wM(r,e)}}function Dj(t){for(let e=xS(t);e!==null;e=RS(e)){if(!(e[Ae]&Hh.HasTransplantedViews))continue;let n=e[za];for(let i=0;i<n.length;i++){let r=n[i];rV(r)}}}function Sj(t,e,n){let i=mo(e,t);wM(i,n)}function wM(t,e){Wy(t)&&ay(t,e)}function ay(t,e){let i=t[Re],r=t[Ae],o=t[ps],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Qg(o)),s||=!1,o&&(o.dirty=!1),t[Ae]&=-9217,s)Cj(i,t,i.template,t[Fn]);else if(r&8192){IM(t,1);let a=i.components;a!==null&&EM(t,a,1)}}function EM(t,e,n){for(let i=0;i<e.length;i++)Sj(t,e[i],n)}function I_(t,e){let n=aS()?64:1088;for(t[Zi].changeDetectionScheduler?.notify(e);t;){t[Ae]|=n;let i=$u(t);if(Uv(t)&&!i)return t;t=i}return null}var _s=class{get rootNodes(){let e=this._lView,n=e[Re];return Kh(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(e){this._lView[Fn]=e}get destroyed(){return(this._lView[Ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[bn];if(xr(e)){let n=e[Bh],i=n?n.indexOf(this):-1;i>-1&&(Gu(e,i),jh(n,i))}this._attachedToViewContainer=!1}wf(this._lView[Re],this._lView)}onDestroy(e){nS(this._lView,e)}markForCheck(){I_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ae]&=-129}reattach(){Hv(this._lView),this._lView[Ae]|=128}detectChanges(){this._lView[Ae]|=1024,_M(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Uv(this._lView),n=this._lView[fs];n!==null&&!e&&u_(n,this._lView),YS(this._lView[Re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Uv(this._lView),i=this._lView[fs];i!==null&&!n&&ZS(i,this._lView),Hv(this._lView)}},sn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Pj;let t=e;return t})(),Mj=sn,Aj=class extends Mj{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Sf(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new _s(r)}};function Pj(){return Af(Dn(),Le())}function Af(t,e){return t.type&4?new Aj(e,t,Wa(t,e)):null}var yne=new RegExp(`^(\\d+)*(${WV}|${qV})*(.*)`);var Oj=()=>null;function Wu(t,e){return Oj(t,e)}var Ku=class{},w_=new k("",{providedIn:"root",factory:()=>!1});var bM=new k(""),cy=class{},Qh=class{};function xj(t){let e=Error(`No component factory found for ${kn(t)}.`);return e[Rj]=t,e}var Rj="ngComponent";var uy=class{resolveComponentFactory(e){throw xj(e)}},O_=class O_{};O_.NULL=new uy;var Si=O_,Ji=class{},Pi=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Nj();let t=e;return t})();function Nj(){let t=Le(),e=Dn(),n=mo(e.index,t);return(lo(n)?n:t)[xt]}var kj=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Tv={};var sD=new Set;function Qa(t){sD.has(t)||(sD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function CM(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof ls.requestAnimationFrame=="function"&&ls.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function aD(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function cD(...t){}var we=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.callbackScheduled=!1,Vj(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Fj,cD,cD);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},Fj={};function E_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Lj(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{CM(()=>{t.callbackScheduled=!1,ly(t),t.isCheckStableRunning=!0,E_(t),t.isCheckStableRunning=!1})}),ly(t))}function Vj(t){let e=()=>{Lj(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(jj(a))return n.invokeTask(r,o,s,a);try{return uD(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lD(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return uD(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Uj(a)&&e(),lD(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,ly(t),E_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function ly(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lD(t){t._nesting--,E_(t)}var dy=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function jj(t){return TM(t,"__ignore_ng_zone__")}function Uj(t){return TM(t,"__scheduler_tick__")}function TM(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var DM=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Yh(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=RT(r,a);else if(o==2){let c=a,l=e[++s];i=RT(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Zh=class extends Si{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=hs(e);return new Qu(n,this.ngModule)}};function dD(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function Bj(t){let e=t.toLowerCase();return e==="svg"?JD:e==="math"?eV:null}var hy=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=cf(i);let r=this.injector.get(e,Tv,i);return r!==Tv||n===Tv?r:this.parentInjector.get(e,n,i)}},Qu=class extends Qh{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=dD(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return dD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=NL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=Xe(null);try{r=r||this.ngModule;let s=r instanceof ci?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new hy(e,s):e,c=a.get(Ji,null);if(c===null)throw new B(407,!1);let l=a.get(kj,null),h=a.get(DM,null),p=a.get(Ku,null),m={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=c.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=i?$2(v,i,this.componentDef.encapsulation,a):QS(v,I,Bj(I)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let F=null;S!==null&&(F=o_(S,a,!0));let Y=g_(0,null,null,1,0,null,null,null,null,null,null),J=Cf(null,Y,null,O,null,null,m,v,a,null,F);Xy(J);let pe,lt;try{let me=this.componentDef,C,y=null;me.findHostDirectiveDefs?(C=[],y=new Map,me.findHostDirectiveDefs(me,C,y),C.push(me)):C=[me];let w=Hj(J,S),T=$j(w,S,me,C,J,m,v);lt=Gy(Y,Cn),S&&qj(v,me,S,i),n!==void 0&&Wj(lt,this.ngContentSelectors,n),pe=Gj(T,me,C,y,J,[Kj]),__(Y,J,null)}finally{Jy()}return new fy(this.componentType,pe,Wa(lt,J),J,lt)}finally{Xe(o)}}},fy=class extends cy{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new _s(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;y_(o[Re],o,r,e,n),this.previousInputValues.set(e,n);let s=mo(this._tNode.index,o);I_(s,1)}}get injector(){return new us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Hj(t,e){let n=t[Re],i=Cn;return t[i]=e,Ka(n,i,2,"#host",null)}function $j(t,e,n,i,r,o,s){let a=r[Re];zj(i,t,e,s);let c=null;e!==null&&(c=o_(e,r[$a]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Cf(r,uM(n),null,h,r[t.index],t,o,l,null,null,c);return a.firstCreatePass&&oy(a,t,i.length-1),Df(r,p),r[t.index]=p}function zj(t,e,n,i){for(let r of t)e.mergedAttrs=Vu(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Yh(e,e.mergedAttrs,!0),n!==null&&rM(i,n,e))}function Gj(t,e,n,i,r,o){let s=Dn(),a=r[Re],c=li(s,r);lM(a,r,s,n,null,i);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=ys(r,a,p,s);fo(m,r)}dM(a,r,s),c&&fo(c,r);let l=ys(r,a,s.directiveStart+s.componentOffset,s);if(t[Fn]=r[Fn]=l,o!==null)for(let h of o)h(l,e);return f_(a,s,r),l}function qj(t,e,n,i){if(i)Fv(t,n,["ng-version","18.0.0"]);else{let{attrs:r,classes:o}=kL(e.selectors[0]);r&&Fv(t,n,r),o&&o.length>0&&iM(t,n,o.join(" "))}}function Wj(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function Kj(){let t=Dn();vf(Le()[Re],t)}var hn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Qj;let t=e;return t})();function Qj(){let t=Dn();return MM(t,Le())}var Yj=hn,SM=class extends Yj{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Wa(this._hostTNode,this._hostLView)}get injector(){return new us(this._hostTNode,this._hostLView)}get parentInjector(){let e=e_(this._hostTNode,this._hostLView);if(yS(e)){let n=zh(e,this._hostLView),i=$h(e),r=n[Re].data[i+8];return new us(r,n)}else return new us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=hD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-En}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Wu(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,qu(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!YL(e),a;if(s)a=n;else{let I=n||{};a=I.index,i=I.injector,r=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let c=s?e:new Qu(hs(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let S=(s?l:this.parentInjector).get(ci,null);S&&(o=S)}let h=hs(c.componentType??{}),p=Wu(this._lContainer,h?.id??null),m=p?.firstChild??null,v=c.create(l,r,m,o);return this.insertImpl(v.hostView,a,qu(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(iV(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[bn],l=new SM(c,c[$n],c[bn]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Mf(s,r,o,i),e.attachToViewContainerRef(),RD(Dv(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=hD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=Gu(this._lContainer,n);i&&(jh(Dv(this._lContainer),n),wf(i[Re],i))}detach(e){let n=this._adjustIndex(e,-1),i=Gu(this._lContainer,n);return i&&jh(Dv(this._lContainer),n)!=null?new _s(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function hD(t){return t[Bh]}function Dv(t){return t[Bh]||(t[Bh]=[])}function MM(t,e){let n,i=e[t.index];return xr(i)?n=i:(n=hM(i,e,null,t),e[t.index]=n,Df(e,n)),Xj(n,e,t,i),new SM(n,t,e)}function Zj(t,e){let n=t[xt],i=n.createComment(""),r=li(e,t),o=l_(n,r);return Wh(n,o,i,x2(n,r),!1),i}var Xj=tU,Jj=()=>!1;function eU(t,e,n){return Jj(t,e,n)}function tU(t,e,n,i){if(t[ms])return;let r;n.type&8?r=Xi(i):r=Zj(e,n),t[ms]=r}var py=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},my=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)b_(e,n).matches!==null&&this.queries[n].setDirty()}},Xh=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=uU(e):this.predicate=e}},gy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},vy=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,nU(n,o)),this.matchTNodeWithReadOption(e,n,Nh(n,e,o,!1,!1))}else i===sn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Nh(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===se||r===hn||r===sn&&n.type&4)this.addMatch(n.index,-2);else{let o=Nh(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function nU(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function iU(t,e){return t.type&11?Wa(t,e):t.type&4?Af(t,e):null}function rU(t,e,n,i){return n===-1?iU(e,t):n===-2?oU(t,e,i):ys(t,t[Re],n,e)}function oU(t,e,n){if(n===se)return Wa(e,t);if(n===sn)return Af(e,t);if(n===hn)return MM(e,t)}function AM(t,e,n,i){let r=e[br].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(rU(e,h,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function yy(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=AM(t,e,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=En;p<h.length;p++){let m=h[p];m[fs]===m[bn]&&yy(m[Re],m,l,i)}if(h[za]!==null){let p=h[za];for(let m=0;m<p.length;m++){let v=p[m];yy(v[Re],v,l,i)}}}}}return i}function sU(t,e){return t[br].queries[e].queryList}function PM(t,e,n){let i=new zu((n&4)===4);return q2(t,e,i,i.destroy),(e[br]??=new my).queries.push(new py(i))-1}function aU(t,e,n){let i=Nt();return i.firstCreatePass&&(OM(i,new Xh(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),PM(i,Le(),e)}function cU(t,e,n,i){let r=Nt();if(r.firstCreatePass){let o=Dn();OM(r,new Xh(e,n,i),o.index),lU(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return PM(r,Le(),n)}function uU(t){return t.split(",").map(e=>e.trim())}function OM(t,e,n){t.queries===null&&(t.queries=new gy),t.queries.track(new vy(e,n))}function lU(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function b_(t,e){return t.queries.getByIndex(e)}function dU(t,e){let n=t[Re],i=b_(n,e);return i.crossesNgTemplate?yy(n,t,e,[]):AM(n,t,i,e)}function hU(t){return typeof t=="function"&&t[Kg]!==void 0}function xM(t){return hU(t)&&typeof t.set=="function"}function fU(t){return Object.getPrototypeOf(t.prototype).constructor}function Ce(t){let e=fU(t.type),n=!0,i=[t];for(;e;){let r;if(Cr(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=Ah(t.inputs),s.inputTransforms=Ah(t.inputTransforms),s.declaredInputs=Ah(t.declaredInputs),s.outputs=Ah(t.outputs);let a=r.hostBindings;a&&yU(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&gU(t,c),l&&vU(t,l),pU(t,r),ZF(t.outputs,r.outputs),Cr(r)&&r.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ce&&(n=!1)}}e=Object.getPrototypeOf(e)}mU(i)}function pU(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function mU(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Vu(r.hostAttrs,n=Vu(n,r.hostAttrs))}}function Ah(t){return t===Va?{}:t===ai?[]:t}function gU(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function vU(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function yU(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var Mr=class{},Yu=class{};function RM(t,e){return new Jh(t,e??null,[])}var Jh=class extends Mr{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zh(this);let r=BD(e);this._bootstrapComponents=KS(r.bootstrap),this._r3Injector=SS(e,n,[{provide:Mr,useValue:this},{provide:Si,useValue:this.componentFactoryResolver},...i],kn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_y=class extends Yu{constructor(e){super(),this.moduleType=e}create(e){return new Jh(this.moduleType,e,[])}};var ef=class extends Mr{constructor(e){super(),this.componentFactoryResolver=new Zh(this),this.instance=null;let n=new ju([...e.providers,{provide:Mr,useValue:this},{provide:Si,useValue:this.componentFactoryResolver}],e.parent||Hy(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function C_(t,e,n=null){return new ef({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var nl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new mt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NM(t){return IU(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function _U(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function IU(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function kM(t,e,n){return t[e]=n}function Mi(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function FM(t,e,n,i){let r=Mi(t,e,n);return Mi(t,e+1,i)||r}function wU(t){return(t.flags&32)===32}function EU(t,e,n,i,r,o,s,a,c){let l=e.consts,h=Ka(e,t,4,s||null,a||null);v_(e,n,h,ho(l,c)),vf(e,h);let p=h.tView=g_(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function tf(t,e,n,i,r,o,s,a,c,l){let h=n+Cn,p=e.firstCreatePass?EU(h,e,t,i,r,o,s,a,c):e.data[h];ws(p,!1);let m=bU(e,t,p,n);mf()&&Ef(e,t,m,p),fo(m,t);let v=hM(m,t,m,p);return t[h]=v,Df(t,v),eU(v,p,t),ff(p)&&p_(e,t,p),c!=null&&m_(t,p,l),p}function ie(t,e,n,i,r,o,s,a){let c=Le(),l=Nt(),h=ho(l.consts,o);return tf(c,l,t,e,n,i,r,h,s,a),ie}var bU=CU;function CU(t,e,n,i){return gf(!0),e[xt].createComment("")}function qe(t,e,n,i){let r=Le(),o=Es();if(Mi(r,o,e)){let s=Nt(),a=el();aj(a,r,t,e,n,i)}return qe}function TU(t,e,n,i){return Mi(t,Es(),n)?e+La(n)+i:kr}function DU(t,e,n,i,r,o){let s=pV(),a=FM(t,s,n,r);return cS(2),a?e+La(n)+i+La(r)+o:kr}function Ph(t,e){return t<<17|e<<2}function Is(t){return t>>17&32767}function SU(t){return(t&2)==2}function MU(t,e){return t&131071|e<<17}function Iy(t){return t|2}function Ga(t){return(t&131068)>>2}function Sv(t,e){return t&-131069|e<<2}function AU(t){return(t&1)===1}function wy(t){return t|1}function PU(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Is(s),c=Ga(s);t[i]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ju(p,h)>0)&&(l=!0)}else h=n;if(r)if(c!==0){let m=Is(t[a+1]);t[i+1]=Ph(m,a),m!==0&&(t[m+1]=Sv(t[m+1],i)),t[a+1]=MU(t[a+1],i)}else t[i+1]=Ph(a,0),a!==0&&(t[a+1]=Sv(t[a+1],i)),a=i;else t[i+1]=Ph(c,0),a===0?a=i:t[c+1]=Sv(t[c+1],i),c=i;l&&(t[i+1]=Iy(t[i+1])),fD(t,h,i,!0),fD(t,h,i,!1),OU(e,h,t,i,o),s=Ph(a,c),o?e.classBindings=s:e.styleBindings=s}function OU(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ju(o,e)>=0&&(n[i+1]=wy(n[i+1]))}function fD(t,e,n,i){let r=t[n+1],o=e===null,s=i?Is(r):Ga(r),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];xU(c,e)&&(a=!0,t[s+1]=i?wy(l):Iy(l)),s=i?Is(l):Ga(l)}a&&(t[n+1]=i?Iy(r):wy(r))}function xU(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ju(t,e)>=0:!1}function N(t,e,n){let i=Le(),r=Es();if(Mi(i,r,e)){let o=Nt(),s=el();Tf(o,s,i,t,e,i[xt],n,!1)}return N}function pD(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";y_(t,n,o[s],s,i)}function fn(t,e,n){return LM(t,e,n,!1),fn}function Ge(t,e){return LM(t,e,null,!0),Ge}function LM(t,e,n,i){let r=Le(),o=Nt(),s=cS(2);if(o.firstUpdatePass&&NU(o,t,s,i),e!==kr&&Mi(r,s,e)){let a=o.data[go()];jU(o,a,r,r[xt],t,r[s+1]=UU(e,n),i,s)}}function RU(t,e){return e>=t.expandoStartIndex}function NU(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[go()],s=RU(t,n);BU(o,i)&&e===null&&!s&&(e=!1),e=kU(r,o,e,i),PU(r,o,e,n,s,i)}}function kU(t,e,n,i){let r=uS(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Mv(null,t,e,n,i),n=Zu(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Mv(r,t,e,n,i),o===null){let c=FU(t,e,i);c!==void 0&&Array.isArray(c)&&(c=Mv(null,t,e,c[1],i),c=Zu(c,e.attrs,i),LU(t,e,i,c))}else o=VU(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function FU(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Ga(i)!==0)return t[Is(i)]}function LU(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Is(r)]=i}function VU(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Zu(i,s,n)}return Zu(i,e.attrs,n)}function Mv(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Zu(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Zu(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),IL(t,s,n?!0:e[++o]))}return t===void 0?null:t}function jU(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],h=AU(l)?mD(c,e,n,r,Ga(l),s):void 0;if(!nf(h)){nf(o)||SU(l)&&(o=mD(c,null,n,r,a,s));let p=eS(go(),n);V2(i,s,p,r,o)}}function mD(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),h=l?c[1]:c,p=h===null,m=n[r+1];m===kr&&(m=p?ai:void 0);let v=p?vv(m,i):h===i?m:void 0;if(l&&!nf(v)&&(v=vv(c,i)),nf(v)&&(a=v,s))return a;let I=t[r+1];r=s?Is(I):Ga(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=vv(c,i))}return a}function nf(t){return t!==void 0}function UU(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=kn(Rr(t)))),t}function BU(t,e){return(t.flags&(e?8:16))!==0}var Ey=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function Av(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function HU(t,e,n){let i,r,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),h=e[o],p=Av(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let m=t.at(s),v=e[c],I=Av(s,m,c,v,n);if(I!==0){I<0&&t.updateValue(s,v),s--,c--;continue}let S=n(o,l),O=n(s,m),F=n(o,h);if(Object.is(F,O)){let Y=n(c,v);Object.is(Y,S)?(t.swap(o,s),t.updateValue(s,v),c--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(i??=new rf,r??=vD(t,o,s,n),by(t,i,o,F))t.updateValue(o,h),o++,s++;else if(r.has(F))i.set(S,t.detach(o)),s--;else{let Y=t.create(o,e[o]);t.attach(o,Y),o++,s++}}for(;o<=c;)gD(t,i,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,m=Av(o,h,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=c.next();else{i??=new rf,r??=vD(t,o,s,n);let v=n(o,p);if(by(t,i,o,v))t.updateValue(o,p),o++,s++,l=c.next();else if(!r.has(v))t.attach(o,t.create(o,p)),o++,s++,l=c.next();else{let I=n(o,h);i.set(I,t.detach(o)),s--}}}for(;!l.done;)gD(t,i,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(c=>{t.destroy(c)})}function by(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function gD(t,e,n,i,r){if(by(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function vD(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var rf=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};var Cy=class{constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-En}};function il(t){return t}var Ty=class{constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function rl(t,e,n,i,r,o,s,a,c,l,h,p,m){Qa("NgControlFlow");let v=Le(),I=Nt(),S=c!==void 0,O=Le(),F=a?s.bind(O[Zn][Fn]):s,Y=new Ty(S,F);O[Cn+t]=Y,tf(v,I,t+1,e,n,i,r,ho(I.consts,o)),S&&tf(v,I,t+2,c,l,h,p,ho(I.consts,m))}var Dy=class extends Ey{constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-En}at(e){return this.getLView(e)[Fn].$implicit}attach(e,n){let i=n[Ha];this.needsIndexUpdate||=e!==this.length,Mf(this.lContainer,n,e,qu(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,$U(this.lContainer,e)}create(e,n){let i=Wu(this.lContainer,this.templateTNode.tView.ssrId),r=Sf(this.hostLView,this.templateTNode,new Cy(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){wf(e[Re],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Fn].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Fn].$index=e}getLView(e){return zU(this.lContainer,e)}};function ol(t){let e=Xe(null),n=go();try{let i=Le(),r=i[Re],o=i[n],s=n+1,a=yD(i,s);if(o.liveCollection===void 0){let l=_D(r,s);o.liveCollection=new Dy(a,i,l)}else o.liveCollection.reset();let c=o.liveCollection;if(HU(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Es(),h=c.length===0;if(Mi(i,l,h)){let p=n+2,m=yD(i,p);if(h){let v=_D(r,p),I=Wu(m,v.tView.ssrId),S=Sf(i,v,void 0,{dehydratedView:I});Mf(m,S,0,qu(v,I))}else gj(m,0)}}}finally{Xe(e)}}function yD(t,e){return t[e]}function $U(t,e){return Gu(t,e)}function zU(t,e){return mj(t,e)}function _D(t,e){return Gy(t,e)}function GU(t,e,n,i,r,o){let s=e.consts,a=ho(s,r),c=Ka(e,t,2,i,a);return v_(e,n,c,ho(s,o)),c.attrs!==null&&Yh(c,c.attrs,!1),c.mergedAttrs!==null&&Yh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function H(t,e,n,i){let r=Le(),o=Nt(),s=Cn+t,a=r[xt],c=o.firstCreatePass?GU(s,o,r,e,n,i):o.data[s],l=qU(o,r,c,a,e,t);r[s]=l;let h=ff(c);return ws(c,!0),rM(a,l,c),!wU(c)&&mf()&&Ef(o,r,l,c),aV()===0&&fo(l,r),cV(),h&&(p_(o,r,c),f_(o,c,r)),i!==null&&m_(r,c),H}function z(){let t=Dn();Ky()?Qy():(t=t.parent,ws(t,!1));let e=t;lV(e)&&dV(),uV();let n=Nt();return n.firstCreatePass&&(vf(n,t),zy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&TV(e)&&pD(n,e,Le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DV(e)&&pD(n,e,Le(),e.stylesWithoutHost,!1),z}function le(t,e,n,i){return H(t,e,n,i),z(),le}var qU=(t,e,n,i,r,o)=>(gf(!0),QS(i,r,wV()));function WU(t,e,n,i,r){let o=e.consts,s=ho(o,i),a=Ka(e,t,8,"ng-container",s);s!==null&&Yh(a,s,!0);let c=ho(o,r);return v_(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Jt(t,e,n){let i=Le(),r=Nt(),o=t+Cn,s=r.firstCreatePass?WU(o,r,i,e,n):r.data[o];ws(s,!0);let a=KU(r,i,s,t);return i[o]=a,mf()&&Ef(r,i,a,s),fo(a,i),ff(s)&&(p_(r,i,s),f_(r,s,i)),n!=null&&m_(i,s),Jt}function en(){let t=Dn(),e=Nt();return Ky()?Qy():(t=t.parent,ws(t,!1)),e.firstCreatePass&&(vf(e,t),zy(t)&&e.queries.elementEnd(t)),en}function Sn(t,e,n){return Jt(t,e,n),en(),Sn}var KU=(t,e,n,i)=>(gf(!0),b2(e[xt],""));function pn(){return Le()}function Oi(t,e,n){let i=Le(),r=Es();if(Mi(i,r,e)){let o=Nt(),s=el();Tf(o,s,i,t,e,i[xt],n,!0)}return Oi}function Cs(t,e,n){let i=Le(),r=Es();if(Mi(i,r,e)){let o=Nt(),s=el(),a=uS(o.data),c=dj(a,s,i);Tf(o,s,i,t,e,c,n,!0)}return Cs}var of="en-US";var QU=of;function YU(t){typeof t=="string"&&(QU=t.toLowerCase().replace(/_/g,"-"))}var ZU=(t,e,n)=>{};function _e(t,e,n,i){let r=Le(),o=Nt(),s=Dn();return VM(o,r,r[xt],s,t,e,i),_e}function XU(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Uu],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function VM(t,e,n,i,r,o,s){let a=ff(i),l=t.firstCreatePass&&mM(t),h=e[Fn],p=pM(e),m=!0;if(i.type&3||s){let S=li(i,e),O=s?s(S):S,F=p.length,Y=s?pe=>s(Xi(pe[i.index])):i.index;ZU(S,r,o);let J=null;if(!s&&a&&(J=XU(t,e,r,i.index)),J!==null){let pe=J.__ngLastListenerFn__||J;pe.__ngNextListenerFn__=o,J.__ngLastListenerFn__=o,m=!1}else{o=wD(i,e,h,o,!1);let pe=n.listen(O,r,o);p.push(o,pe),l&&l.push(r,Y,F,F+1)}}else o=wD(i,e,h,o,!1);let v=i.outputs,I;if(m&&v!==null&&(I=v[r])){let S=I.length;if(S)for(let O=0;O<S;O+=2){let F=I[O],Y=I[O+1],lt=e[F][Y].subscribe(o),me=p.length;p.push(o,lt),l&&l.push(r,i.index,me,-(me+1))}}}function ID(t,e,n,i){let r=Xe(null);try{return Ki(6,e,n),n(i)!==!1}catch(o){return gM(t,o),!1}finally{Ki(7,e,n),Xe(r)}}function wD(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?mo(t.index,e):e;I_(a,5);let c=ID(e,n,i,s),l=o.__ngNextListenerFn__;for(;l;)c=ID(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function ge(t=1){return IV(t)}function JU(t,e){let n=null,i=AL(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){n=r;continue}if(i===null?LD(t,o,!0):xL(i,o))return r}return n}function tn(t){let e=Le()[Zn][$n];if(!e.projection){let n=t?t.length:1,i=e.projection=yL(n,null),r=i.slice(),o=e.child;for(;o!==null;){let s=t?JU(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Et(t,e=0,n,i,r,o){let s=Le(),a=Nt(),c=i?t+1:null;c!==null&&tf(s,a,c,i,r,o,null,n);let l=Ka(a,Cn+t,16,null,n||null);l.projection===null&&(l.projection=e),Qy();let p=!s[Ha]||oS();s[Zn][$n].projection[l.projection]===null&&c!==null?eB(s,a,c):p&&(l.flags&32)!==32&&F2(a,s,l)}function eB(t,e,n){let i=Cn+n,r=e.data[i],o=t[i],s=Wu(o,r.tView.ssrId),a=Sf(t,r,void 0,{dehydratedView:s});Mf(o,a,0,qu(r,s))}function sl(t,e,n,i){cU(t,e,n,i)}function Ts(t,e,n){aU(t,e,n)}function tr(t){let e=Le(),n=Nt(),i=lS();Zy(i+1);let r=b_(n,i);if(t.dirty&&nV(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=dU(e,i);t.reset(o,jV),t.notifyOnChanges()}return!0}return!1}function nr(){return sU(Le(),lS())}function tB(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function Ds(t){let e=fV();return qy(e,Cn+t)}function yt(t,e=""){let n=Le(),i=Nt(),r=t+Cn,o=i.firstCreatePass?Ka(i,r,1,e,null):i.data[r],s=nB(i,n,o,e,t);n[r]=s,mf()&&Ef(i,n,s,o),ws(o,!1)}var nB=(t,e,n,i,r)=>(gf(!0),w2(e[xt],i));function Ya(t){return xi("",t,""),Ya}function xi(t,e,n){let i=Le(),r=TU(i,t,e,n);return r!==kr&&vM(i,go(),r),xi}function T_(t,e,n,i,r){let o=Le(),s=DU(o,t,e,n,i,r);return s!==kr&&vM(o,go(),s),T_}function al(t,e,n){xM(e)&&(e=e());let i=Le(),r=Es();if(Mi(i,r,e)){let o=Nt(),s=el();Tf(o,s,i,t,e,i[xt],n,!1)}return al}function Pf(t,e){let n=xM(t);return n&&t.set(e),n}function cl(t,e){let n=Le(),i=Nt(),r=Dn();return VM(i,n,n[xt],r,t,e),cl}function iB(t,e,n){let i=Nt();if(i.firstCreatePass){let r=Cr(t);Sy(n,i.data,i.blueprint,r,!0),Sy(e,i.data,i.blueprint,r,!1)}}function Sy(t,e,n,i,r){if(t=Nn(t),Array.isArray(t))for(let o=0;o<t.length;o++)Sy(t[o],e,n,i,r);else{let o=Nt(),s=Le(),a=Dn(),c=Ba(t)?t:Nn(t.provide),l=WD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ba(t)||!t.multi){let v=new vs(l,r,_),I=Ov(c,e,r?h:h+m,p);I===-1?(Gv(qh(a,s),o,c),Pv(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[I]=v,s[I]=v)}else{let v=Ov(c,e,h+m,p),I=Ov(c,e,h,h+m),S=v>=0&&n[v],O=I>=0&&n[I];if(r&&!O||!r&&!S){Gv(qh(a,s),o,c);let F=sB(r?oB:rB,n.length,r,i,l);!r&&O&&(n[I].providerFactory=F),Pv(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=jM(n[r?I:v],l,!r&&i);Pv(o,t,v>-1?v:I,F)}!r&&i&&O&&n[I].componentProviders++}}}function Pv(t,e,n,i){let r=Ba(e),o=HL(e);if(r||o){let c=(o?Nn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[i,c]):l[h+1].push(i,c)}else l.push(n,c)}}}function jM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ov(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function rB(t,e,n,i){return My(this.multi,[])}function oB(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ys(n,n[Re],this.providerFactory.index,i);o=a.slice(0,s),My(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],My(r,o);return o}function My(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function sB(t,e,n,i,r){let o=new vs(t,n,_);return o.multi=[],o.index=e,o.componentProviders=0,jM(o,r,i&&!n),o}function ne(t,e=[]){return n=>{n.providersResolver=(i,r)=>iB(i,r?r(t):t,e)}}var aB=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=zD(!1,i.type),o=r.length>0?C_([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(X(ci))});let t=e;return t})();function vo(t){Qa("NgStandalone"),t.getStandaloneInjector=e=>e.get(aB).getOrCreateStandaloneInjector(t)}function Ri(t,e,n,i){return BM(Le(),Yy(),t,e,n,i)}function UM(t,e){let n=t[e];return n===kr?void 0:n}function BM(t,e,n,i,r,o){let s=e+n;return Mi(t,s,r)?kM(t,s+1,o?i.call(o,r):i(r)):UM(t,s+1)}function cB(t,e,n,i,r,o,s){let a=e+n;return FM(t,a,r,o)?kM(t,a+2,s?i.call(s,r,o):i(r,o)):UM(t,a+2)}function Mt(t,e){let n=Nt(),i,r=t+Cn;n.firstCreatePass?(i=uB(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=ds(i.type,!0)),s,a=Hn(_);try{let c=Gh(!1),l=o();return Gh(c),tB(n,Le(),r,l),l}finally{Hn(a)}}function uB(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function kt(t,e,n){let i=t+Cn,r=Le(),o=qy(r,i);return $M(r,i)?BM(r,Yy(),e,o.transform,n,o):o.transform(n)}function HM(t,e,n,i){let r=t+Cn,o=Le(),s=qy(o,r);return $M(o,r)?cB(o,Yy(),e,s.transform,n,i,s):s.transform(n,i)}function $M(t,e){return t[Re].data[e].pure}function Of(t,e){return Af(t,e)}var Ar=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},zM=new Ar("18.0.0"),xf=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var GM=new k("");function yo(t){return!!t&&typeof t.then=="function"}function D_(t){return!!t&&typeof t.subscribe=="function"}var qM=new k(""),WM=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=P(qM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(yo(s))i.push(s);else if(D_(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),S_=new k("");function lB(){sT(()=>{throw new B(600,!1)})}function dB(t){return t.isBoundToModule}var hB=10;function fB(t,e,n){try{let i=n();return yo(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var Za=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(MS),this.afterRenderEffectManager=P(DM),this.zonelessEnabled=P(w_),this.externalTestViews=new Set,this.beforeRender=new ot,this.afterTick=new ot,this.componentTypes=[],this.components=[],this.isStable=P(nl).hasPendingTasks.pipe(L(i=>!i)),this._injector=P(ci)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof Qh;if(!this._injector.get(WM).done){let v=!o&&UD(i),I=!1;throw new B(405,I)}let a;o?a=i:a=this._injector.get(Si).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=dB(a)?void 0:this._injector.get(Mr),l=r||a.selector,h=a.create(Bt.NULL,[],l,c),p=h.location.nativeElement,m=h.injector.get(GM,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),xv(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new B(101,!1);let r=Xe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,Xe(r),this.afterTick.next()}}detectChangesInAttachedViews(i){let r=null;this._injector.destroyed||(r=this._injector.get(Ji,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<hB;){let a=o===0;if(i||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)pB(c,l,a,this.zonelessEnabled)}else r?.begin?.(),r?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>Hu(c))&&(s.execute(),!this.allViews.some(({_lView:c})=>Hu(c))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;xv(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(S_,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>xv(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new B(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xv(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pB(t,e,n,i){if(!n&&!Hu(t))return;_M(t,e,n&&!i?0:1)}var Ay=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},M_=(()=>{let e=class e{compileModuleSync(i){return new _y(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=BD(i),s=KS(o.declarations).reduce((a,c)=>{let l=hs(c);return l&&a.push(new Qu(l)),a},[]);return new Ay(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mB=!0;var gB=(()=>{let e=class e{constructor(){this.appRef=P(Za),this.taskService=P(nl),this.ngZone=P(we),this.zonelessEnabled=P(w_),this.disableScheduling=P(bM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new jt,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dy||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?aD:CM;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=r(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&we.isInAngularZone())}tick(i){if(this.runningTick||this.appRef.destroyed)return;let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(i)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,aD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vB=(()=>{let e=class e{constructor(){this.zone=P(we),this.changeDetectionScheduler=P(Ku,{optional:!0}),this.applicationRef=P(Za)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler?.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KM({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new we(YM()),[{provide:we,useFactory:t},{provide:ja,multi:!0,useFactory:()=>{let n=P(vB,{optional:!0});return()=>n.initialize()}},{provide:ja,multi:!0,useFactory:()=>{let n=P(_B);return()=>{n.initialize()}}},{provide:MS,useFactory:yB},e===!0?{provide:bM,useValue:!0}:[],mB||e===!1?{provide:Ku,useExisting:gB}:[]]}function yB(){let t=P(we),e=P(Tr);return n=>t.runOutsideAngular(()=>e.handleError(n))}function QM(t){let e=t?.ignoreChangesOutsideZone,n=KM({ngZoneFactory:()=>{let i=YM(t);return i.shouldCoalesceEventChangeDetection&&Qa("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e});return po([[],{provide:w_,useValue:!1},n])}function YM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var _B=(()=>{let e=class e{constructor(){this.subscription=new jt,this.initialized=!1,this.zone=P(we),this.pendingTasks=P(nl)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IB(){return typeof $localize<"u"&&$localize.locale||of}var Rf=new k("",{providedIn:"root",factory:()=>P(Rf,Ue.Optional|Ue.SkipSelf)||IB()});var ZM=new k("");var Fh=null;function wB(t=[],e){return Bt.create({name:e,providers:[{provide:lf,useValue:"platform"},{provide:ZM,useValue:new Set([()=>Fh=null])},...t]})}function EB(t=[]){if(Fh)return Fh;let e=wB(t);return Fh=e,lB(),bB(e),e}function bB(t){t.get(n_,null)?.forEach(n=>n())}function XM(){return!1}var st=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CB;let t=e;return t})();function CB(t){return TB(Dn(),Le(),(t&16)===16)}function TB(t,e,n){if(hf(t)&&!n){let i=mo(t.index,e);return new _s(i,i)}else if(t.type&47){let i=e[Zn];return new _s(i,e)}return null}var Py=class{constructor(){}supports(e){return NM(e)}create(e){return new Oy(e)}},DB=(t,e)=>e,Oy=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||DB}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<ED(i,r,o)?n:i,a=ED(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,h=c-r;if(l!=h){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,I=v+m;h<=I&&I<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!NM(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,_U(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new xy(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new sf),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},xy=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ry=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},sf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Ry,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ED(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function bD(){return new A_([new Py])}var A_=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||bD()),deps:[[e,new ui,new At]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new B(901,!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:bD});let t=e;return t})();function JM(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=EB(i),o=[KM({}),...n||[]],a=new ef({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(we);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Tr,null),h;c.runOutsideAngular(()=>{h=c.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),m=r.get(ZM);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),fB(l,c,()=>{let v=a.get(WM);return v.runInitializers(),v.donePromise.then(()=>{let I=a.get(Rf,of);YU(I||of);let S=a.get(Za);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function Nf(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function P_(t){let e=Xe(null);try{return t()}finally{Xe(e)}}var oA=null;function Fr(){return oA}function sA(t){oA??=t}var kf=class{};var Te=new k(""),aA=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>P(AB),providedIn:"platform"});let t=e;return t})();var AB=(()=>{let e=class e extends aA{constructor(){super(),this._doc=P(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fr().getBaseHref(this._doc)}onPopState(i){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function cA(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function eA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Ss(t){return t&&t[0]!=="?"?"?"+t:t}var Lf=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>P(uA),providedIn:"root"});let t=e;return t})(),PB=new k(""),uA=(()=>{let e=class e extends Lf{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return cA(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Ss(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+Ss(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+Ss(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(X(aA),X(PB,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ul=(()=>{let e=class e{constructor(i){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=RB(eA(tA(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Ss(r))}normalize(i){return e.stripTrailingSlash(xB(this._basePath,tA(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ss(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ss(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=Ss,e.joinWithSlash=cA,e.stripTrailingSlash=eA,e.\u0275fac=function(r){return new(r||e)(X(Lf))},e.\u0275prov=q({token:e,factory:()=>OB(),providedIn:"root"});let t=e;return t})();function OB(){return new ul(X(Lf))}function xB(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function tA(t){return t.replace(/\/index.html$/,"")}function RB(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function lA(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var dA=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(i){return i.ngComponentOutletNgModule!==void 0||i.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(i){return i.ngComponentOutlet!==void 0||i.ngComponentOutletContent!==void 0||i.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(i)}ngOnChanges(i){if(this._needToReCreateComponentInstance(i)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(i)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=RM(this.ngComponentOutletNgModule,nA(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(nA(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let i of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(i,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(i){for(let[r,o]of this._inputsUsed)o?(i.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(i.setInput(r,void 0),this._inputsUsed.delete(r))}};e.\u0275fac=function(r){return new(r||e)(_(hn))},e.\u0275dir=$({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[Tn]});let t=e;return t})();function nA(t){return t.get(Mr).injector}var x_=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_o=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new x_(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,a),iA(c,o)}});for(let o=0,s=r.length;o<s;o++){let c=r.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);iA(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(_(hn),_(sn),_(A_))},e.\u0275dir=$({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function iA(t,e){t.context.$implicit=e.item}var Pt=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new R_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){rA("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){rA("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(_(hn),_(sn))},e.\u0275dir=$({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),R_=class{constructor(){this.$implicit=null,this.ngIf=null}};function rA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${kn(e)}'.`)}function NB(t,e){return new B(2100,!1)}var N_=class{createSubscription(e,n){return P_(()=>e.subscribe({next:n,error:i=>{throw i}}))}dispose(e){P_(()=>e.unsubscribe())}},k_=class{createSubscription(e,n){return e.then(n,i=>{throw i})}dispose(e){}},kB=new k_,FB=new N_,nn=(()=>{let e=class e{constructor(i){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if(yo(i))return kB;if(D_(i))return FB;throw NB(e,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(_(st,16))},e.\u0275pipe=uf({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ne=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Q({type:e}),e.\u0275inj=K({});let t=e;return t})(),F_="browser",LB="server";function hA(t){return t===F_}function Ms(t){return t===LB}var Ff=class{};var j_=class extends kf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},U_=class t extends j_{static makeCurrent(){sA(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=VB();return n==null?null:jB(n)}resetBaseElement(){ll=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lA(document.cookie,e)}},ll=null;function VB(){return ll=ll||document.querySelector("base"),ll?ll.getAttribute("href"):null}function jB(t){return new URL(t,document.baseURI).pathname}var UB=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Xa=new k(""),mA=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(X(Xa),X(we))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Vf=class{constructor(e){this._doc=e}},L_="ng-app-id",gA=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ms(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${L_}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(L_),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(L_,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(X(Te),X(t_),X(r_,8),X(zn))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),V_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},H_=/%COMP%/g,vA="%COMP%",BB=`_nghost-${vA}`,HB=`_ngcontent-${vA}`,$B=!0,zB=new k("",{providedIn:"root",factory:()=>$B});function GB(t){return HB.replace(H_,t)}function qB(t){return BB.replace(H_,t)}function yA(t,e){return e.map(n=>n.replace(H_,t))}var jf=(()=>{let e=class e{constructor(i,r,o,s,a,c,l,h=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Ms(c),this.defaultRenderer=new dl(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yi.ShadowDom&&(r=it(Z({},r),{encapsulation:Yi.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof Uf?o.applyToHost(i):o instanceof hl&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Yi.Emulated:s=new Uf(l,h,r,this.appId,p,a,c,m);break;case Yi.ShadowDom:return new B_(l,h,i,r,a,c,this.nonce,m);default:s=new hl(l,h,r,p,a,c,m);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(X(mA),X(gA),X(t_),X(zB),X(Te),X(zn),X(we),X(r_))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),dl=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(V_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fA(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(fA(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new B(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=V_[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=V_[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Sr.DashCase|Sr.Important)?e.style.setProperty(n,i,r&Sr.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Sr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Fr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var B_=class extends dl{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=yA(r.id,r.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},hl=class extends dl{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?yA(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uf=class extends hl{constructor(e,n,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,n,i,o,s,a,c,l),this.contentAttr=GB(l),this.hostAttr=qB(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},WB=(()=>{let e=class e extends Vf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(X(Te))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),pA=["alt","control","meta","shift"],KB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},YB=(()=>{let e=class e extends Vf{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fr().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),pA.forEach(h=>{let p=r.indexOf(h);p>-1&&(r.splice(p,1),a+=h+".")}),a+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let o=KB[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),pA.forEach(a=>{if(a!==o){let c=QB[a];c(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(X(Te))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function _A(t,e){return JM(Z({rootComponent:t},ZB(e)))}function ZB(t){return{appProviders:[...nH,...t?.providers??[]],platformProviders:tH}}function XB(){U_.makeCurrent()}function JB(){return new Tr}function eH(){return kS(document),document}var tH=[{provide:zn,useValue:F_},{provide:n_,useValue:XB,multi:!0},{provide:Te,useFactory:eH,deps:[]}];var nH=[{provide:lf,useValue:"root"},{provide:Tr,useFactory:JB,deps:[]},{provide:Xa,useClass:WB,multi:!0,deps:[Te,we,zn]},{provide:Xa,useClass:YB,multi:!0,deps:[Te]},jf,gA,mA,{provide:Ji,useExisting:jf},{provide:Ff,useClass:UB,deps:[]},[]];var Bf=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(X(Te))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=X(iH),o},providedIn:"root"});let t=e;return t})(),iH=(()=>{let e=class e extends fl{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case Gn.NONE:return r;case Gn.HTML:return bs(r,"HTML")?Rr(r):a_(this._doc,String(r)).toString();case Gn.STYLE:return bs(r,"Style")?Rr(r):r;case Gn.SCRIPT:if(bs(r,"Script"))return Rr(r);throw new B(5200,!1);case Gn.URL:return bs(r,"URL")?Rr(r):s_(String(r));case Gn.RESOURCE_URL:if(bs(r,"ResourceURL"))return Rr(r);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(i){return VS(i)}bypassSecurityTrustStyle(i){return jS(i)}bypassSecurityTrustScript(i){return US(i)}bypassSecurityTrustUrl(i){return BS(i)}bypassSecurityTrustResourceUrl(i){return HS(i)}};e.\u0275fac=function(r){return new(r||e)(X(Te))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xe=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(xe||{}),ir="*";function _t(t,e){return{type:xe.Trigger,name:t,definitions:e,options:{}}}function De(t,e=null){return{type:xe.Animate,styles:e,timings:t}}function IA(t,e=null){return{type:xe.Sequence,steps:t,options:e}}function V(t){return{type:xe.Style,styles:t,offset:null}}function ke(t,e,n=null){return{type:xe.Transition,expr:t,animation:e,options:n}}function ml(t=null){return{type:xe.AnimateChild,options:t}}function Ht(t,e,n=null){return{type:xe.Query,selector:t,animation:e,options:n}}function mn(t,e){return{type:xe.Stagger,timings:t,animation:e}}var Io=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},pl=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Hf="!";function wA(t){return new B(3e3,!1)}function oH(){return new B(3100,!1)}function sH(){return new B(3101,!1)}function aH(t){return new B(3001,!1)}function cH(t){return new B(3003,!1)}function uH(t){return new B(3004,!1)}function lH(t,e){return new B(3005,!1)}function dH(){return new B(3006,!1)}function hH(){return new B(3007,!1)}function fH(t,e){return new B(3008,!1)}function pH(t){return new B(3002,!1)}function mH(t,e,n,i,r){return new B(3010,!1)}function gH(){return new B(3011,!1)}function vH(){return new B(3012,!1)}function yH(){return new B(3200,!1)}function _H(){return new B(3202,!1)}function IH(){return new B(3013,!1)}function wH(t){return new B(3014,!1)}function EH(t){return new B(3015,!1)}function bH(t){return new B(3016,!1)}function CH(t,e){return new B(3404,!1)}function TH(t){return new B(3502,!1)}function DH(t){return new B(3503,!1)}function SH(){return new B(3300,!1)}function MH(t){return new B(3504,!1)}function AH(t){return new B(3301,!1)}function PH(t,e){return new B(3302,!1)}function OH(t){return new B(3303,!1)}function xH(t,e){return new B(3400,!1)}function RH(t){return new B(3401,!1)}function NH(t){return new B(3402,!1)}function kH(t,e){return new B(3505,!1)}function wo(t){switch(t.length){case 0:return new Io;case 1:return t[0];default:return new pl(t)}}function kA(t,e,n=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),h=l==s,p=h&&a||new Map;c.forEach((m,v)=>{let I=v,S=m;if(v!=="offset")switch(I=t.normalizePropertyName(I,r),S){case Hf:S=n.get(v);break;case ir:S=i.get(v);break;default:S=t.normalizeStyleValue(v,I,S,r);break}p.set(I,S)}),h||o.push(p),a=p,s=l}),r.length)throw TH(r);return o}function d0(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&$_(n,"start",t)));break;case"done":t.onDone(()=>i(n&&$_(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&$_(n,"destroy",t)));break}}function $_(t,e,n){let i=n.totalTime,r=!!n.disabled,o=h0(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function h0(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Jn(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function EA(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var FH=typeof document>"u"?null:document.documentElement;function f0(t){let e=t.parentNode||t.host||null;return e===FH?null:e}function LH(t){return t.substring(1,6)=="ebkit"}var As=null,bA=!1;function VH(t){As||(As=jH()||{},bA=As.style?"WebkitAppearance"in As.style:!1);let e=!0;return As.style&&!LH(t)&&(e=t in As.style,!e&&bA&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in As.style)),e}function jH(){return typeof document<"u"?document.body:null}function FA(t,e){for(;e;){if(e===t)return!0;e=f0(e)}return!1}function LA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var p0=(()=>{let e=class e{validateStyleProperty(i){return VH(i)}containsElement(i,r){return FA(i,r)}getParentElement(i){return f0(i)}query(i,r,o){return LA(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,s,a,c=[],l){return new Io(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),y0=class y0{};y0.NOOP=new p0;var xs=y0,Rs=class{};var UH=1e3,VA="{{",BH="}}",jA="ng-enter",Q_="ng-leave",$f="ng-trigger",Kf=".ng-trigger",CA="ng-animating",Y_=".ng-animating";function Lr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Z_(parseFloat(e[1]),e[2])}function Z_(t,e){switch(e){case"s":return t*UH;default:return t}}function Qf(t,e,n){return t.hasOwnProperty("duration")?t:HH(t,e,n)}function HH(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(wA(t)),{duration:0,delay:0,easing:""};r=Z_(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=Z_(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else r=t;if(!n){let a=!1,c=e.length;r<0&&(e.push(oH()),a=!0),o<0&&(e.push(sH()),a=!0),a&&e.splice(c,0,wA(t))}return{duration:r,delay:o,easing:s}}function $H(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function rr(t,e,n){e.forEach((i,r)=>{let o=m0(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function Os(t,e){e.forEach((n,i)=>{let r=m0(i);t.style[r]=""})}function gl(t){return Array.isArray(t)?t.length==1?t[0]:IA(t):t}function zH(t,e,n){let i=e.params||{},r=UA(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(aH(o))})}var X_=new RegExp(`${VA}\\s*(.+?)\\s*${BH}`,"g");function UA(t){let e=[];if(typeof t=="string"){let n;for(;n=X_.exec(t);)e.push(n[1]);X_.lastIndex=0}return e}function yl(t,e,n){let i=`${t}`,r=i.replace(X_,(o,s)=>{let a=e[s];return a==null&&(n.push(cH(s)),a=""),a.toString()});return r==i?t:r}var GH=/-+([a-z0-9])/g;function m0(t){return t.replace(GH,(...e)=>e[1].toUpperCase())}function qH(t,e){return t===0||e===0}function WH(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,g0(t,a)))}}return e}function Xn(t,e,n){switch(e.type){case xe.Trigger:return t.visitTrigger(e,n);case xe.State:return t.visitState(e,n);case xe.Transition:return t.visitTransition(e,n);case xe.Sequence:return t.visitSequence(e,n);case xe.Group:return t.visitGroup(e,n);case xe.Animate:return t.visitAnimate(e,n);case xe.Keyframes:return t.visitKeyframes(e,n);case xe.Style:return t.visitStyle(e,n);case xe.Reference:return t.visitReference(e,n);case xe.AnimateChild:return t.visitAnimateChild(e,n);case xe.AnimateRef:return t.visitAnimateRef(e,n);case xe.Query:return t.visitQuery(e,n);case xe.Stagger:return t.visitStagger(e,n);default:throw uH(e.type)}}function g0(t,e){return window.getComputedStyle(t)[e]}var KH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Yf=class extends Rs{normalizePropertyName(e,n){return m0(e)}normalizeStyleValue(e,n,i,r){let o="",s=i.toString().trim();if(KH.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(lH(e,i))}return s+o}};var Zf="*";function QH(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>YH(i,n,e)):n.push(t),n}function YH(t,e,n){if(t[0]==":"){let c=ZH(t,n);if(typeof c=="function"){e.push(c);return}t=c}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(EH(t)),e;let r=i[1],o=i[2],s=i[3];e.push(TA(r,s));let a=r==Zf&&s==Zf;o[0]=="<"&&!a&&e.push(TA(s,r))}function ZH(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(bH(t)),"* => *"}}var zf=new Set(["true","1"]),Gf=new Set(["false","0"]);function TA(t,e){let n=zf.has(t)||Gf.has(t),i=zf.has(e)||Gf.has(e);return(r,o)=>{let s=t==Zf||t==r,a=e==Zf||e==o;return!s&&n&&typeof r=="boolean"&&(s=r?zf.has(t):Gf.has(t)),!a&&i&&typeof o=="boolean"&&(a=o?zf.has(e):Gf.has(e)),s&&a}}var BA=":self",XH=new RegExp(`s*${BA}s*,?`,"g");function HA(t,e,n,i){return new J_(t).build(e,n,i)}var DA="",J_=class{constructor(e){this._driver=e}build(e,n,i){let r=new e0(n);return this._resetContextStyleTimingState(r),Xn(this,gl(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=DA,e.collectedStyles=new Map,e.collectedStyles.set(DA,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(dH()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==xe.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==xe.Transition){let c=this.visitTransition(a,n);i+=c.queryCount,r+=c.depCount,s.push(c)}else n.errors.push(hH())}),{type:xe.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{UA(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&n.errors.push(fH(e.name,[...o.values()]))}return{type:xe.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Xn(this,gl(e.animation),n),r=QH(e.expr,n.errors);return{type:xe.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:Ps(e.options)}}visitSequence(e,n){return{type:xe.Sequence,steps:e.steps.map(i=>Xn(this,i,n)),options:Ps(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(s=>{n.currentTime=i;let a=Xn(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:xe.Group,steps:o,options:Ps(e.options)}}visitAnimate(e,n){let i=n$(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:V({});if(o.type==xe.Keyframes)r=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};i.easing&&(l.easing=i.easing),s=V(l)}n.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,r=c}return n.currentAnimateTimings=null,{type:xe.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===ir?i.push(a):n.errors.push(pH(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(VA)>=0){o=!0;break}}}),{type:xe.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),h=l.get(c),p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(n.errors.push(mH(c,h.startTime,h.endTime,o,r)),p=!1),o=h.startTime),p&&l.set(c,{startTime:o,endTime:r}),n.options&&zH(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:xe.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(gH()),i;let r=1,o=0,s=[],a=!1,c=!1,l=0,h=e.steps.map(F=>{let Y=this._makeStyleAst(F,n),J=Y.offset!=null?Y.offset:t$(Y.styles),pe=0;return J!=null&&(o++,pe=Y.offset=J),c=c||pe<0||pe>1,a=a||pe<l,l=pe,s.push(pe),Y});c&&n.errors.push(vH()),a&&n.errors.push(yH());let p=e.steps.length,m=0;o>0&&o<p?n.errors.push(_H()):o==0&&(m=r/(p-1));let v=p-1,I=n.currentTime,S=n.currentAnimateTimings,O=S.duration;return h.forEach((F,Y)=>{let J=m>0?Y==v?1:m*Y:s[Y],pe=J*O;n.currentTime=I+S.delay+pe,S.duration=pe,this._validateStyleAst(F,n),F.offset=J,i.styles.push(F)}),i}visitReference(e,n){return{type:xe.Reference,animation:Xn(this,gl(e.animation),n),options:Ps(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:xe.AnimateChild,options:Ps(e.options)}}visitAnimateRef(e,n){return{type:xe.AnimateRef,animation:this.visitReference(e.animation,n),options:Ps(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=JH(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,Jn(n.collectedStyles,n.currentQuerySelector,new Map);let a=Xn(this,gl(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:xe.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ps(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(IH());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Qf(e.timings,n.errors,!0);return{type:xe.Stagger,animation:Xn(this,gl(e.animation),n),timings:i,options:null}}};function JH(t){let e=!!t.split(/\s*,\s*/).find(n=>n==BA);return e&&(t=t.replace(XH,"")),t=t.replace(/@\*/g,Kf).replace(/@\w+/g,n=>Kf+"-"+n.slice(1)).replace(/:animating/g,Y_),[t,e]}function e$(t){return t?Z({},t):null}var e0=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function t$(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function n$(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Qf(t,e).duration;return z_(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=z_(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=Qf(n,e);return z_(r.duration,r.delay,r.easing)}function Ps(t){return t?(t=Z({},t),t.params&&(t.params=e$(t.params))):t={},t}function z_(t,e,n){return{duration:t,delay:e,easing:n}}function v0(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var _l=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},i$=1,r$=":enter",o$=new RegExp(r$,"g"),s$=":leave",a$=new RegExp(s$,"g");function $A(t,e,n,i,r,o=new Map,s=new Map,a,c,l=[]){return new t0().buildKeyframes(t,e,n,i,r,o,s,a,c,l)}var t0=class{buildKeyframes(e,n,i,r,o,s,a,c,l,h=[]){l=l||new _l;let p=new n0(e,n,l,r,o,h,[]);p.options=c;let m=c.delay?Lr(c.delay):0;p.currentTimeline.delayNextStep(m),p.currentTimeline.setStyles([s],null,p.errors,c),Xn(this,i,p);let v=p.timelines.filter(I=>I.containsAnimation());if(v.length&&a.size){let I;for(let S=v.length-1;S>=0;S--){let O=v[S];if(O.element===n){I=O;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([a],null,p.errors,c)}return v.length?v.map(I=>I.buildKeyframes()):[v0(n,[],[],[],0,m,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Lr(yl(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,s=i.duration!=null?Lr(i.duration):null,a=i.delay!=null?Lr(i.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),Xn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==xe.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Xf);let s=Lr(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Xn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?Lr(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),Xn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?yl(i,n.params,n.errors):i;return Qf(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==xe.Keyframes?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?Lr(r.delay):0;o&&(n.previousNode.type===xe.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Xf);let s=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{n.currentQueryIndex=h;let p=n.createSubContext(e.options,l);o&&p.delayNextStep(o),l===n.element&&(c=p.currentTimeline),Xn(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let m=p.currentTimeline.currentTime;s=Math.max(s,m)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let h=n.currentTimeline;c&&h.delayNextStep(c);let p=h.currentTime;Xn(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},Xf={},n0=class t{constructor(e,n,i,r,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Jf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Lr(i.duration)),i.delay!=null&&(r.delay=Lr(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=yl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Xf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new i0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(o$,"."+this._enterClassName),e=e.replace(a$,"."+this._leaveClassName);let c=i!=1,l=this._driver.query(this.element,e,c);i!==0&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&a.length==0&&s.push(wH(n)),a}},Jf=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=i$,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||ir),this._currentKeyframe.set(n,ir);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},s=c$(e,this._globalTimelineStyles);for(let[a,c]of s){let l=yl(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ir),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((h,p)=>{h===Hf?e.add(p):h===ir&&n.add(p)}),i||l.set("offset",c/this.duration),r.push(l)});let o=[...e.values()],s=[...n.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return v0(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},i0=class extends Jf{constructor(e,n,i,r,o,s,a=!1){super(e,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=i+n,a=n/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",SA(a)),o.push(l);let h=e.length-1;for(let p=1;p<=h;p++){let m=new Map(e[p]),v=m.get("offset"),I=n+v*i;m.set("offset",SA(I/s)),o.push(m)}i=s,n=0,r="",e=o}return v0(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function SA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function c$(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)n.set(o,ir)}else for(let[o,s]of r)n.set(o,s)}),n}function MA(t,e,n,i,r,o,s,a,c,l,h,p,m){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:p,errors:m}}var G_={},ep=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return u$(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,s,a,c,l,h){let p=[],m=this.ast.options&&this.ast.options.params||G_,v=a&&a.params||G_,I=this.buildStyles(i,v,p),S=c&&c.params||G_,O=this.buildStyles(r,S,p),F=new Set,Y=new Map,J=new Map,pe=r==="void",lt={params:zA(S,m),delay:this.ast.options?.delay},me=h?[]:$A(e,n,this.ast.animation,o,s,I,O,lt,l,p),C=0;return me.forEach(y=>{C=Math.max(y.duration+y.delay,C)}),p.length?MA(n,this._triggerName,i,r,pe,I,O,[],[],Y,J,C,p):(me.forEach(y=>{let w=y.element,T=Jn(Y,w,new Set);y.preStyleProps.forEach(A=>T.add(A));let D=Jn(J,w,new Set);y.postStyleProps.forEach(A=>D.add(A)),w!==n&&F.add(w)}),MA(n,this._triggerName,i,r,pe,I,O,me,[...F.values()],Y,J,C))}};function u$(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function zA(t,e){let n=Z({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var r0=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=zA(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=yl(s,r,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),i.set(a,s)})}),i}};function l$(t,e,n){return new o0(t,e,n)}var o0=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new r0(r.style,o,i))}),AA(this.states,"true","1"),AA(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new ep(e,r,this.states))}),this.fallbackTransition=d$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(s=>s.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function d$(t,e,n){let i=[(s,a)=>!0],r={type:xe.Sequence,steps:[],options:null},o={type:xe.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new ep(t,o,e)}function AA(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var h$=new _l,s0=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=HA(this._driver,n,i,r);if(i.length)throw DH(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=kA(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=$A(this._driver,n,o,jA,Q_,new Map,new Map,i,h$,r),s.forEach(h=>{let p=Jn(a,h.element,new Map);h.postStyleProps.forEach(m=>p.set(m,null))})):(r.push(SH()),s=[]),r.length)throw MH(r);a.forEach((h,p)=>{h.forEach((m,v)=>{h.set(v,this._driver.computeStyle(p,v,ir))})});let c=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),l=wo(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw AH(e);return n}listen(e,n,i,r){let o=h0(n,"","","");return d0(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},PA="ng-animate-queued",f$=".ng-animate-queued",q_="ng-animate-disabled",p$=".ng-animate-disabled",m$="ng-star-inserted",g$=".ng-star-inserted",v$=[],GA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},y$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ni="__ng_removed",Il=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=I$(r),i){let o=e,{value:s}=o,a=eT(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},vl="void",W_=new Il(vl),a0=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,hi(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw PH(i,n);if(i==null||i.length==0)throw OH(n);if(!w$(i))throw xH(i,n);let o=Jn(this._elementListeners,e,[]),s={name:n,phase:i,callback:r};o.push(s);let a=Jn(this._engine.statesByElement,e,new Map);return a.has(n)||(hi(e,$f),hi(e,$f+"-"+n),a.set(n,W_)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw RH(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),s=new wl(this.id,n,e),a=this._engine.statesByElement.get(e);a||(hi(e,$f),hi(e,$f+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new Il(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=W_),!(l.value===vl)&&c.value===l.value){if(!C$(c.params,l.params)){let S=[],O=o.matchStyles(c.value,c.params,S),F=o.matchStyles(l.value,l.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{Os(e,O),rr(e,F)})}return}let m=Jn(this._engine.playersByElement,e,[]);m.forEach(S=>{S.namespaceId==this.id&&S.triggerName==n&&S.queued&&S.destroy()});let v=o.matchTransition(c.value,l.value,e,l.params),I=!1;if(!v){if(!r)return;v=o.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:v,fromState:c,toState:l,player:s,isFallbackTransition:I}),I||(hi(e,PA),s.onStart(()=>{Ja(e,PA)})),s.onDone(()=>{let S=this.players.indexOf(s);S>=0&&this.players.splice(S,1);let O=this._engine.playersByElement.get(e);if(O){let F=O.indexOf(s);F>=0&&O.splice(F,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,Kf,!0);i.forEach(r=>{if(r[Ni])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let h=this.trigger(e,l,vl,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),i&&wo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,l=i.get(s)||W_,h=new Il(vl),p=new wl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[Ni];(!o||o===GA)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){hi(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=h0(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,d0(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},c0=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new a0(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=r.get(a);if(c){let l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(qf(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!qf(n))return;let o=n[Ni];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),hi(e,q_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ja(e,q_))}removeNode(e,n,i){if(qf(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[Ni]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return qf(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,Kf,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Y_,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Ni];if(n&&n.setForRemoval){if(e[Ni]=GA,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(q_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,p$,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];hi(r,m$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?wo(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw NH(e)}_flushAnimations(e,n){let i=new _l,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(re=>{h.add(re);let ce=this.driver.query(re,f$,!0);for(let he=0;he<ce.length;he++)h.add(ce[he])});let p=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=RA(m,this.collectedEnterElements),I=new Map,S=0;v.forEach((re,ce)=>{let he=jA+S++;I.set(ce,he),re.forEach(Ke=>hi(Ke,he))});let O=[],F=new Set,Y=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let ce=this.collectedLeaveElements[re],he=ce[Ni];he&&he.setForRemoval&&(O.push(ce),F.add(ce),he.hasAnimation?this.driver.query(ce,g$,!0).forEach(Ke=>F.add(Ke)):Y.add(ce))}let J=new Map,pe=RA(m,Array.from(F));pe.forEach((re,ce)=>{let he=Q_+S++;J.set(ce,he),re.forEach(Ke=>hi(Ke,he))}),e.push(()=>{v.forEach((re,ce)=>{let he=I.get(ce);re.forEach(Ke=>Ja(Ke,he))}),pe.forEach((re,ce)=>{let he=J.get(ce);re.forEach(Ke=>Ja(Ke,he))}),O.forEach(re=>{this.processLeaveNode(re)})});let lt=[],me=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(n).forEach(he=>{let Ke=he.player,qt=he.element;if(lt.push(Ke),this.collectedEnterElements.length){let Lt=qt[Ni];if(Lt&&Lt.setForMove){if(Lt.previousTriggersValues&&Lt.previousTriggersValues.has(he.triggerName)){let vr=Lt.previousTriggersValues.get(he.triggerName),jn=this.statesByElement.get(he.element);if(jn&&jn.has(he.triggerName)){let yr=jn.get(he.triggerName);yr.value=vr,jn.set(he.triggerName,yr)}}Ke.destroy();return}}let oi=!p||!this.driver.containsElement(p,qt),Ft=J.get(qt),Tt=I.get(qt),Dt=this._buildInstruction(he,i,Tt,Ft,oi);if(Dt.errors&&Dt.errors.length){me.push(Dt);return}if(oi){Ke.onStart(()=>Os(qt,Dt.fromStyles)),Ke.onDestroy(()=>rr(qt,Dt.toStyles)),r.push(Ke);return}if(he.isFallbackTransition){Ke.onStart(()=>Os(qt,Dt.fromStyles)),Ke.onDestroy(()=>rr(qt,Dt.toStyles)),r.push(Ke);return}let Jr=[];Dt.timelines.forEach(Lt=>{Lt.stretchStartingKeyframe=!0,this.disabledNodes.has(Lt.element)||Jr.push(Lt)}),Dt.timelines=Jr,i.append(qt,Dt.timelines);let Eg={instruction:Dt,player:Ke,element:qt};s.push(Eg),Dt.queriedElements.forEach(Lt=>Jn(a,Lt,[]).push(Ke)),Dt.preStyleProps.forEach((Lt,vr)=>{if(Lt.size){let jn=c.get(vr);jn||c.set(vr,jn=new Set),Lt.forEach((yr,eo)=>jn.add(eo))}}),Dt.postStyleProps.forEach((Lt,vr)=>{let jn=l.get(vr);jn||l.set(vr,jn=new Set),Lt.forEach((yr,eo)=>jn.add(eo))})});if(me.length){let re=[];me.forEach(ce=>{re.push(kH(ce.triggerName,ce.errors))}),lt.forEach(ce=>ce.destroy()),this.reportError(re)}let C=new Map,y=new Map;s.forEach(re=>{let ce=re.element;i.has(ce)&&(y.set(ce,ce),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,C))}),r.forEach(re=>{let ce=re.element;this._getPreviousPlayers(ce,!1,re.namespaceId,re.triggerName,null).forEach(Ke=>{Jn(C,ce,[]).push(Ke),Ke.destroy()})});let w=O.filter(re=>NA(re,c,l)),T=new Map;xA(T,this.driver,Y,l,ir).forEach(re=>{NA(re,c,l)&&w.push(re)});let A=new Map;v.forEach((re,ce)=>{xA(A,this.driver,new Set(re),c,Hf)}),w.forEach(re=>{let ce=T.get(re),he=A.get(re);T.set(re,new Map([...ce?.entries()??[],...he?.entries()??[]]))});let E=[],ri=[],Xr={};s.forEach(re=>{let{element:ce,player:he,instruction:Ke}=re;if(i.has(ce)){if(h.has(ce)){he.onDestroy(()=>rr(ce,Ke.toStyles)),he.disabled=!0,he.overrideTotalTime(Ke.totalTime),r.push(he);return}let qt=Xr;if(y.size>1){let Ft=ce,Tt=[];for(;Ft=Ft.parentNode;){let Dt=y.get(Ft);if(Dt){qt=Dt;break}Tt.push(Ft)}Tt.forEach(Dt=>y.set(Dt,qt))}let oi=this._buildAnimation(he.namespaceId,Ke,C,o,A,T);if(he.setRealPlayer(oi),qt===Xr)E.push(he);else{let Ft=this.playersByElement.get(qt);Ft&&Ft.length&&(he.parentPlayer=wo(Ft)),r.push(he)}}else Os(ce,Ke.fromStyles),he.onDestroy(()=>rr(ce,Ke.toStyles)),ri.push(he),h.has(ce)&&r.push(he)}),ri.forEach(re=>{let ce=o.get(re.element);if(ce&&ce.length){let he=wo(ce);re.setRealPlayer(he)}}),r.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<O.length;re++){let ce=O[re],he=ce[Ni];if(Ja(ce,Q_),he&&he.hasAnimation)continue;let Ke=[];if(a.size){let oi=a.get(ce);oi&&oi.length&&Ke.push(...oi);let Ft=this.driver.query(ce,Y_,!0);for(let Tt=0;Tt<Ft.length;Tt++){let Dt=a.get(Ft[Tt]);Dt&&Dt.length&&Ke.push(...Dt)}}let qt=Ke.filter(oi=>!oi.destroyed);qt.length?E$(this,ce,qt):this.processLeaveNode(ce)}return O.length=0,E.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let ce=this.players.indexOf(re);this.players.splice(ce,1)}),re.play()}),E}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==vl;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let c of n.timelines){let l=c.element,h=l!==o,p=Jn(i,l,[]);this._getPreviousPlayers(l,h,s,a,n.toState).forEach(v=>{let I=v.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),v.destroy(),p.push(v)})}Os(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,s){let a=n.triggerName,c=n.element,l=[],h=new Set,p=new Set,m=n.timelines.map(I=>{let S=I.element;h.add(S);let O=S[Ni];if(O&&O.removedBeforeQueried)return new Io(I.duration,I.delay);let F=S!==c,Y=b$((i.get(S)||v$).map(C=>C.getRealPlayer())).filter(C=>{let y=C;return y.element?y.element===S:!1}),J=o.get(S),pe=s.get(S),lt=kA(this._normalizer,I.keyframes,J,pe),me=this._buildPlayer(I,lt,Y);if(I.subTimeline&&r&&p.add(S),F){let C=new wl(e,a,S);C.setRealPlayer(me),l.push(C)}return me});l.forEach(I=>{Jn(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>_$(this.playersByQueriedElement,I.element,I))}),h.forEach(I=>hi(I,CA));let v=wo(m);return v.onDestroy(()=>{h.forEach(I=>Ja(I,CA)),rr(c,n.toStyles)}),p.forEach(I=>{Jn(r,I,[]).push(v)}),v}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Io(e.duration,e.delay)}},wl=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Io,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>d0(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Jn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function _$(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function I$(t){return t??null}function qf(t){return t&&t.nodeType===1}function w$(t){return t=="start"||t=="done"}function OA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function xA(t,e,n,i,r){let o=[];n.forEach(c=>o.push(OA(c)));let s=[];i.forEach((c,l)=>{let h=new Map;c.forEach(p=>{let m=e.computeStyle(l,p,r);h.set(p,m),(!m||m.length==0)&&(l[Ni]=y$,s.push(l))}),t.set(l,h)});let a=0;return n.forEach(c=>OA(c,o[a++])),s}function RA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:r.has(l)?c=i:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==i&&n.get(c).push(a)}),n}function hi(t,e){t.classList?.add(e)}function Ja(t,e){t.classList?.remove(e)}function E$(t,e,n){wo(n).onDone(()=>t.processLeaveNode(e))}function b$(t){let e=[];return qA(t,e),e}function qA(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof pl?qA(i.players,e):e.push(i)}}function C$(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function NA(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var Eo=class{constructor(e,n,i){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new c0(e.body,n,i),this._timelineEngine=new s0(e.body,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],l=[],h=HA(this._driver,o,c,l);if(c.length)throw CH(r,c);l.length&&void 0,a=l$(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,s]=EA(i),a=r;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[s,a]=EA(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function T$(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=K_(e[0]),e.length>1&&(i=K_(e[e.length-1]))):e instanceof Map&&(n=K_(e)),n||i?new u0(t,n,i):null}var ec=class ec{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=ec.initialStylesByElement.get(e);r||ec.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&rr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rr(this._element,this._initialStyles),this._endStyles&&(rr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ec.initialStylesByElement.delete(this._element),this._startStyles&&(Os(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Os(this._element,this._endStyles),this._endStyles=null),rr(this._element,this._initialStyles),this._state=3)}};ec.initialStylesByElement=new WeakMap;var u0=ec;function K_(t){let e=null;return t.forEach((n,i)=>{D$(i)&&(e=e||new Map,e.set(i,n))}),e}function D$(t){return t==="display"||t==="position"}var tp=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:g0(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},np=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,n){return FA(e,n)}getParentElement(e){return f0(e)}query(e,n,i){return LA(e,n,i)}computeStyle(e,n,i){return g0(e,n)}animate(e,n,i,r,o,s=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};o&&(c.easing=o);let l=new Map,h=s.filter(v=>v instanceof tp);qH(i,r)&&h.forEach(v=>{v.currentSnapshot.forEach((I,S)=>l.set(S,I))});let p=$H(n).map(v=>new Map(v));p=WH(e,p,l);let m=T$(e,p);return new tp(e,p,c,m)}};var Wf="@",WA="@.disabled",ip=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==Wf&&n==WA?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},l0=class extends ip{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==Wf?n.charAt(1)=="."&&n==WA?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==Wf){let r=S$(e),o=n.slice(1),s="";return o.charAt(0)!=Wf&&([o,s]=M$(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,n,i)}};function S$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function M$(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var rp=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,h=l.get(r);if(!h){let p=()=>l.delete(r);h=new ip(i,r,this.engine,p),l.set(r,h)}return h}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new l0(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var P$=(()=>{let e=class e extends Eo{constructor(i,r,o){super(i,r,o)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(X(Te),X(xs),X(Rs))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function O$(){return new Yf}function x$(t,e,n){return new rp(t,e,n)}var KA=[{provide:Rs,useFactory:O$},{provide:Eo,useClass:P$},{provide:Ji,useFactory:x$,deps:[jf,Eo,we]}],R$=[{provide:xs,useFactory:()=>new np},{provide:i_,useValue:"BrowserAnimations"},...KA],_ie=[{provide:xs,useClass:p0},{provide:i_,useValue:"NoopAnimations"},...KA];function QA(){return Qa("NgEagerAnimations"),[...R$]}var iP=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(_(Pi),_(se))},e.\u0275dir=$({type:e});let t=e;return t})(),rP=(()=>{let e=class e extends iP{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ze(e)))(o||e)}})(),e.\u0275dir=$({type:e,features:[Ce]});let t=e;return t})(),fp=new k("");var N$={provide:fp,useExisting:Rt(()=>oc),multi:!0};function k$(){let t=Fr()?Fr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var F$=new k(""),oc=(()=>{let e=class e extends iP{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!k$())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(_(Pi),_(se),_(F$,8))},e.\u0275dir=$({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&_e("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ne([N$]),Ce]});let t=e;return t})();function bo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function oP(t){return t!=null&&typeof t.length=="number"}var b0=new k(""),C0=new k(""),L$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ic=class{static min(e){return V$(e)}static max(e){return j$(e)}static required(e){return U$(e)}static requiredTrue(e){return B$(e)}static email(e){return H$(e)}static minLength(e){return $$(e)}static maxLength(e){return z$(e)}static pattern(e){return G$(e)}static nullValidator(e){return sP(e)}static compose(e){return hP(e)}static composeAsync(e){return pP(e)}};function V$(t){return e=>{if(bo(e.value)||bo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function j$(t){return e=>{if(bo(e.value)||bo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function U$(t){return bo(t.value)?{required:!0}:null}function B$(t){return t.value===!0?null:{required:!0}}function H$(t){return bo(t.value)||L$.test(t.value)?null:{email:!0}}function $$(t){return e=>bo(e.value)||!oP(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function z$(t){return e=>oP(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function G$(t){if(!t)return sP;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(bo(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function sP(t){return null}function aP(t){return t!=null}function cP(t){return yo(t)?ft(t):t}function uP(t){let e={};return t.forEach(n=>{e=n!=null?Z(Z({},e),n):e}),Object.keys(e).length===0?null:e}function lP(t,e){return e.map(n=>n(t))}function q$(t){return!t.validate}function dP(t){return t.map(e=>q$(e)?e:n=>e.validate(n))}function hP(t){if(!t)return null;let e=t.filter(aP);return e.length==0?null:function(n){return uP(lP(n,e))}}function fP(t){return t!=null?hP(dP(t)):null}function pP(t){if(!t)return null;let e=t.filter(aP);return e.length==0?null:function(n){let i=lP(n,e).map(cP);return uv(i).pipe(L(uP))}}function mP(t){return t!=null?pP(dP(t)):null}function YA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function gP(t){return t._rawValidators}function vP(t){return t._rawAsyncValidators}function _0(t){return t?Array.isArray(t)?t:[t]:[]}function sp(t,e){return Array.isArray(t)?t.includes(e):t===e}function ZA(t,e){let n=_0(e);return _0(t).forEach(r=>{sp(n,r)||n.push(r)}),n}function XA(t,e){return _0(e).filter(n=>!sp(t,n))}var ap=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ns=class extends ap{get formDirective(){return null}get path(){return null}},qn=class extends ap{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},cp=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},W$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fie=it(Z({},W$),{"[class.ng-submitted]":"isSubmitted"}),pp=(()=>{let e=class e extends cp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(_(qn,2))},e.\u0275dir=$({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ge("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ce]});let t=e;return t})(),yP=(()=>{let e=class e extends cp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(_(Ns,10))},e.\u0275dir=$({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ge("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ce]});let t=e;return t})();var El="VALID",op="INVALID",tc="PENDING",bl="DISABLED",Co=class{},up=class extends Co{constructor(e,n){super(),this.value=e,this.source=n}},Cl=class extends Co{constructor(e,n){super(),this.pristine=e,this.source=n}},Tl=class extends Co{constructor(e,n){super(),this.touched=e,this.source=n}},nc=class extends Co{constructor(e,n){super(),this.status=e,this.source=n}},I0=class extends Co{constructor(e){super(),this.source=e}},w0=class extends Co{constructor(e){super(),this.source=e}};function T0(t){return(mp(t)?t.validators:t)||null}function K$(t){return Array.isArray(t)?fP(t):t||null}function D0(t,e){return(mp(e)?e.asyncValidators:t)||null}function Q$(t){return Array.isArray(t)?mP(t):t||null}function mp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _P(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new B(1e3,"");if(!i[n])throw new B(1001,"")}function IP(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new B(1002,"")})}var Dl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new ot,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===El}get invalid(){return this.status===op}get pending(){return this.status==tc}get disabled(){return this.status===bl}get enabled(){return this.status!==bl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XA(e,this._rawAsyncValidators))}hasValidator(e){return sp(this._rawValidators,e)}hasAsyncValidator(e){return sp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(it(Z({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Tl(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Tl(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(it(Z({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Cl(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Cl(!0,i))}markAsPending(e={}){this.status=tc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(it(Z({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bl,this.errors=null,this._forEachChild(r=>{r.disable(it(Z({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new up(this.value,i)),this._events.next(new nc(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(it(Z({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=El,this._forEachChild(i=>{i.enable(it(Z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(it(Z({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===El||this.status===tc)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new up(this.value,n)),this._events.next(new nc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(it(Z({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bl:El}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=tc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=cP(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new nc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?bl:this.errors?op:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tc)?tc:this._anyControlsHaveStatus(op)?op:El}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Cl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Tl(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=K$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Q$(this._rawAsyncValidators)}},rc=class extends Dl{constructor(e,n,i){super(T0(n),D0(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){IP(this,!0,e),Object.keys(e).forEach(i=>{_P(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var gp=new k("CallSetDisabledState",{providedIn:"root",factory:()=>vp}),vp="always";function wP(t,e){return[...e.path,t]}function E0(t,e,n=vp){S0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Z$(t,e),J$(t,e),X$(t,e),Y$(t,e)}function JA(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),dp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function lp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Y$(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function S0(t,e){let n=gP(t);e.validator!==null?t.setValidators(YA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=vP(t);e.asyncValidator!==null?t.setAsyncValidators(YA(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();lp(e._rawValidators,r),lp(e._rawAsyncValidators,r)}function dp(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=gP(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=vP(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return lp(e._rawValidators,i),lp(e._rawAsyncValidators,i),n}function Z$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&EP(t,e)})}function X$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&EP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function EP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function J$(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function ez(t,e){t==null,S0(t,e)}function tz(t,e){return dp(t,e)}function bP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function nz(t){return Object.getPrototypeOf(t.constructor)===rP}function iz(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function CP(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===oc?n=o:nz(o)?i=o:r=o}),r||i||n||null}function rz(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function eP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var sc=class extends Dl{constructor(e=null,n,i){super(T0(n),D0(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(tP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var oz=t=>t instanceof sc;var sz={provide:qn,useExisting:Rt(()=>Vr)},nP=Promise.resolve(),Vr=(()=>{let e=class e extends qn{constructor(i,r,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new sc,this._registered=!1,this.name="",this.update=new rt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=CP(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),bP(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){E0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){nP.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Nf(r);nP.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?wP(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(_(Ns,9),_(b0,10),_(C0,10),_(fp,10),_(st,8),_(gp,8))},e.\u0275dir=$({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ne([sz]),Ce,Tn]});let t=e;return t})(),TP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=$({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var az={provide:fp,useExisting:Rt(()=>M0),multi:!0},M0=(()=>{let e=class e extends rP{writeValue(i){this.setProperty("value",parseFloat(i))}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ze(e)))(o||e)}})(),e.\u0275dir=$({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,o){r&1&&_e("change",function(a){return o.onChange(a.target.value)})("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[ne([az]),Ce]});let t=e;return t})(),DP=new k("");var cz={provide:Ns,useExisting:Rt(()=>A0)},A0=(()=>{let e=class e extends Ns{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rt,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return E0(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){JA(i.control||null,i,!1),rz(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,iz(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new I0(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1,this.form._events.next(new w0(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(JA(r||null,i),oz(o)&&(E0(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);ez(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&tz(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){S0(this.form,this),this._oldForm&&dp(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(_(b0,10),_(C0,10),_(gp,8))},e.\u0275dir=$({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&_e("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ne([cz]),Ce,Tn]});let t=e;return t})();var uz={provide:qn,useExisting:Rt(()=>P0)},P0=(()=>{let e=class e extends qn{set isDisabled(i){}constructor(i,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new rt,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=CP(this,s)}ngOnChanges(i){this._added||this._setUpControl(),bP(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return wP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(_(Ns,13),_(b0,10),_(C0,10),_(fp,10),_(DP,8))},e.\u0275dir=$({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ne([uz]),Ce,Tn]});let t=e;return t})();var SP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Q({type:e}),e.\u0275inj=K({});let t=e;return t})(),hp=class extends Dl{constructor(e,n,i){super(T0(n),D0(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){IP(this,!1,e),e.forEach((i,r)=>{_P(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var ac=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:gp,useValue:i.callSetDisabledState??vp}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Q({type:e}),e.\u0275inj=K({imports:[SP]});let t=e;return t})(),MP=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:DP,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:gp,useValue:i.callSetDisabledState??vp}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Q({type:e}),e.\u0275inj=K({imports:[SP]});let t=e;return t})();var cc=()=>!1,ks=()=>!0,PP=79,AP={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},Bie=new zu;var x0=()=>{},uc=Object.assign(Object.assign({},AP),{toJSON(){return AP}});var Sl=_t("tuiParentAnimation",[ke(":leave",[Ht(":scope > *",[ml()],{optional:!0})])]),Hie=_t("tuiParentStop",[ke(":enter",[])]),yp=1e3/15,OP=t=>"ownerSVGElement"in t?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT,xP="\xA0";var RP="3.80.0";var NP="edge/";function kP(t,e){return parseInt(e.slice(e.toLowerCase().indexOf(NP)+NP.length),10)<t}function FP(t){return t.toLowerCase().includes("firefox")}function LP({ownerDocument:t}){var e,n,i,r,o,s,a,c;let l=t?.defaultView,h=typeof l.safari<"u"&&((n=(e=l.safari)===null||e===void 0?void 0:e.pushNotification)===null||n===void 0?void 0:n.toString())==="[object SafariRemoteNotification]",p=!!(!((r=(i=l.navigator)===null||i===void 0?void 0:i.vendor)===null||r===void 0)&&r.includes("Apple"))&&!(!((s=(o=l.navigator)===null||o===void 0?void 0:o.userAgent)===null||s===void 0)&&s.includes("CriOS"))&&!(!((c=(a=l.navigator)===null||a===void 0?void 0:a.userAgent)===null||c===void 0)&&c.includes("FxiOS"));return h||p}function gn(t,e,n){return Math.min(n,Math.max(e,t))}var lz=292;function dz(t,e,n){if(t===1/0)return t;e=Math.min(e,lz);let i=`${t}e`.split("e"),o=`${n(+`${i[0]}e${Number(i[1])+e}`)}e`.split("e");return+`${o[0]}e${Number(o[1])-e}`}function VP(t,e=0){return dz(t,e,Math.round)}function jP(...t){return t.reduce((e,n)=>e+n,0)}function UP(t){return t?1:0}function R0(t){return t*Math.PI/180}function BP(t,e){return t.slice(0,Math.max(e,0)).concat(t.slice(Math.max(e+1,0)))}function jr(t){return typeof t=="string"}function We(t){return de(()=>t)}function de(t){return new k("",{factory:t})}function HP(t){return t<.5?2*t*t:-1+(4-2*t)*t}function $P(t){return typeof t=="number"}function To(t){return t!=null}function _p(t){t instanceof hp&&t.controls.forEach(e=>{_p(e)}),t instanceof rc&&Object.values(t.controls).forEach(e=>{_p(e)}),t.markAsTouched(),t.updateValueAndValidity()}function hz(t,e,n){let i=t;for(;i!==e.parentElement;){if(Math.floor(i.scrollTop)>0&&!n||Math.ceil(i.scrollTop+i.clientHeight)<i.scrollHeight&&n)return!0;if(i.parentElement)i=i.parentElement;else return!1}return!1}function fz(t,e,n){let i=t;for(;i!==e.parentElement;){if(Math.floor(i.scrollLeft)>0&&!n||Math.ceil(i.scrollLeft+i.clientWidth)<i.scrollWidth&&n)return!0;if(i.parentElement)i=i.parentElement;else return!1}return!1}function Ml(t,e,n,i){return n?hz(t,e,i):fz(t,e,i)}function Ip(t,e){try{return t.contains(e)||!!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING)}catch{return!1}}function Fs(t){return!!t&&"nodeType"in t&&t.nodeType===Node.ELEMENT_NODE}function Do(t){return!!t&&t instanceof t.ownerDocument.defaultView.HTMLElement}function So(t){return t.composedPath()[0]}function lc(t){return"getRootNode"in t&&t.isConnected?t.getRootNode():t.ownerDocument}function zP(t){let{ownerDocument:e}=t;if(!e?.defaultView||!t.getBoundingClientRect)return null;let{innerWidth:n,innerHeight:i}=e.defaultView,r=lc(t),o=t.getBoundingClientRect();if(o.width===0&&o.height===0)return null;let s=gn(Math.round(o.left)+2,0,n),a=gn(Math.round(o.top)+2,0,i),c=gn(Math.round(o.right)-2,0,n),l=gn(Math.round(o.bottom)-2,0,i),h=gn(Math.round(o.left+o.width/2),0,n),p=gn(Math.round(o.top+o.height/2),0,i),v=[r.elementFromPoint(h,a),r.elementFromPoint(h,l),r.elementFromPoint(s,p),r.elementFromPoint(c,p)].filter(To);if(!v.length)return v;let I=v.filter(S=>!t.contains(S)&&!S.contains(t));return I.length===4?I:null}function GP(t,e){let{offsetTop:n,offsetLeft:i,offsetParent:r}=e;for(;Do(r)&&r!==t;)n+=r.offsetTop,i+=r.offsetLeft,r=r.offsetParent;return{offsetTop:n,offsetLeft:i}}function wp(t,e=!0){return t===null?null:e&&t.scrollHeight>t.clientHeight||!e&&t.scrollWidth>t.clientWidth?t:wp(t.parentElement,e)}function qP(t=0,e=0){let n={x:t,y:e,left:t,right:t,top:e,bottom:e,width:0,height:0};return Object.assign(Object.assign({},n),{toJSON(){return n}})}function Al({activeElement:t}){if(!t?.shadowRoot)return t;let e=t.shadowRoot.activeElement;for(;e?.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Ep(t){let e=Al(t);Do(e)&&e.blur()}function WP(t){if(t.hasAttribute("disabled")||t.getAttribute("tabIndex")==="-1")return!1;if(Do(t)&&t.isContentEditable||t.getAttribute("tabIndex")==="0")return!0;switch(t.tagName){case"BUTTON":case"SELECT":case"TEXTAREA":return!0;case"VIDEO":case"AUDIO":return t.hasAttribute("controls");case"INPUT":return t.getAttribute("type")!=="hidden";case"A":case"LINK":return t.hasAttribute("href");default:return!1}}function pz(t){return!t.hasAttribute("disabled")&&(t.getAttribute("tabIndex")==="-1"||WP(t))}function KP({initial:t,root:e,previous:n=!1,keyboard:i=!0}){if(!e.ownerDocument)return null;let r=i?WP:pz,o=e.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,OP);for(o.currentNode=t;n?o.previousNode():o.nextNode();)if(Do(o.currentNode)&&(t=o.currentNode),Do(t)&&r(t))return t;return null}function Mo(t){return!!t?.ownerDocument&&Al(t.ownerDocument)===t&&t.ownerDocument.hasFocus()}function N0(t){if(!t.ownerDocument||!t.contains)return!1;let e=Al(t.ownerDocument);return e!==null&&t.contains(e)&&t.ownerDocument.hasFocus()}function ki(t){return`${t}px`}function mz(t){return t.platform.startsWith("Mac")||t.platform==="iPhone"}var gz=/ipad|iphone|ipod/;function k0(t){return gz.test(t.userAgent.toLowerCase())||mz(t)&&t.maxTouchPoints>1}var vz=/^((?!chrome|android).)*safari/i;function QP(t){return k0(t)||vz.test(t.userAgent.toLowerCase())}function yz(){return Math.floor(Math.random()*Date.now())}function _z(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function Iz(t){var e;let n=((e=t.match(/url\(("?)('*)#(.*?)('*)\)/g))!==null&&e!==void 0?e:[]).map(i=>i.slice(4,i.length-1).replace(/['"#]+/g,""));return Array.from(new Set(n))}function wz(t,e){try{let n=new DOMParser().parseFromString(t,"text/html");return n.body.querySelectorAll("[fill^=url]").forEach(i=>i.setAttribute("fill",`${i.getAttribute("fill")} ${e}`.trim())),n.body.innerHTML.trim()}catch{return t}}function bp(t,e=yz(),n="rgba(0, 0, 0, 0.7)"){if(jr(t)){let r=Iz(t).reduce((o,s)=>{let a=_z(s),c=`id_${e}_${s}`;return o.replace(new RegExp(`"${a}"`,"g"),`"${c}"`).replace(new RegExp(`'${a}'`,"g"),`'${c}'`).replace(new RegExp(`url\\('#${a}'\\)`,"g"),`url('#${c}')`).replace(new RegExp(`url\\("#${a}"\\)`,"g"),`url("#${c}")`).replace(new RegExp(`url\\(#${a}\\)`,"g"),`url(#${c})`)},t);return wz(r,n)}return t}var Cp=class extends Error{constructor(){super("")}};var Pl=class extends Error{constructor(){super("")}};function He(t,e,n={}){return si(t,e,n)}function ZP(t,e=Boolean){return ns(je(n=>e(n)?t(n):dt))}function XP(t){var e,n;return"observed"in t?t.observed:!!(!((n=(e=t)===null||e===void 0?void 0:e.observers)===null||n===void 0)&&n.length)}function JP(t){return He(t===t.ownerDocument.documentElement?t.ownerDocument:t,"scroll")}function Tp(t){return gt(()=>{t.markForCheck()})}function Ez(t){return e=>new oe(n=>e.subscribe({next:i=>t.run(()=>n.next(i)),error:i=>t.run(()=>n.error(i)),complete:()=>t.run(()=>n.complete())}))}function Fi(t){return e=>new oe(n=>t.runOutsideAngular(()=>e.subscribe(n)))}function fi(t){return ns(Fi(t),Ez(t))}var Ur=new k("POLYMORPHEUS_CONTEXT"),Li=class{constructor(e,n){this.component=e,this.i=n}createInjector(e,n){return Bt.create({parent:this.i||e,providers:[{provide:Ur,useValue:n}]})}},bz=(()=>{class t{constructor(n,i){this.template=n,this.cdr=i,this.polymorpheus=""}check(){this.cdr.markForCheck()}static ngTemplateContextGuard(n,i){return!0}}return t.\u0275fac=function(n){return new(n||t)(_(sn,2),_(st))},t.\u0275dir=$({type:t,selectors:[["ng-template","polymorpheus",""]],inputs:{polymorpheus:"polymorpheus"},exportAs:["polymorpheus"]}),t})(),Dp=class{constructor(e){this.$implicit=e}get polymorpheusOutlet(){return this.$implicit}};var Kt=(()=>{class t{constructor(n,i,r){this.vcr=n,this.i=i,this.t=r,this.content=""}get template(){return F0(this.content)?this.content.template:this.content instanceof sn?this.content:this.t}ngOnChanges({content:n}){var i;let r=this.getContext();if((i=this.c)===null||i===void 0||i.injector.get(st).markForCheck(),!n)return;this.vcr.clear();let o=r&&new Proxy(r,{get:(s,a)=>{var c;return(c=this.getContext())===null||c===void 0?void 0:c[a]}});eO(this.content)?this.process(this.content,o):(r instanceof Dp&&r.$implicit)!=null&&this.vcr.createEmbeddedView(this.template,o)}ngDoCheck(){F0(this.content)&&this.content.check()}static ngTemplateContextGuard(n,i){return!0}getContext(){return Cz(this.content)||eO(this.content)?this.context:new Dp(typeof this.content=="function"?this.content(this.context):this.content)}process(n,i){let r=n.createInjector(this.i,i);this.c=this.vcr.createComponent(r.get(Si).resolveComponentFactory(n.component),0,r)}}return t.\u0275fac=function(n){return new(n||t)(_(hn),_(Bt),_(sn))},t.\u0275dir=$({type:t,selectors:[["","polymorpheusOutlet",""]],inputs:{content:[0,"polymorpheusOutlet","content"],context:[0,"polymorpheusOutletContext","context"]},features:[Tn]}),t})();function F0(t){return t instanceof bz}function eO(t){return t instanceof Li}function Cz(t){return F0(t)||t instanceof sn}var bt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var Qe=new k("An abstraction over global window object",{factory:()=>{let{defaultView:t}=P(Te);if(!t)throw new Error("Window is not available");return t}}),Vi=new k("Shared Observable based on `window.requestAnimationFrame`",{factory:()=>{let{requestAnimationFrame:t,cancelAnimationFrame:e}=P(Qe);return new oe(i=>{let r=NaN,o=s=>{i.next(s),r=t(o)};return r=t(o),()=>{e(r)}}).pipe(Bn())}}),vre=new k("An abstraction over window.caches object",{factory:()=>P(Qe).caches}),yre=new k("An abstraction over window.crypto object",{factory:()=>P(Qe).crypto}),tO=new k("An abstraction over window.CSS object",{factory:()=>P(Qe).CSS||{escape:t=>t,supports:()=>!1}}),nO=new k("An abstraction over window.history object",{factory:()=>P(Qe).history}),_re=new k("An abstraction over window.localStorage object",{factory:()=>P(Qe).localStorage}),Ire=new k("An abstraction over window.location object",{factory:()=>P(Qe).location}),dc=new k("An abstraction over window.navigator object",{factory:()=>P(Qe).navigator}),wre=new k("An abstraction over window.navigator.mediaDevices object",{factory:()=>P(dc).mediaDevices}),Ere=new k("An abstraction over window.navigator.connection object",{factory:()=>P(dc).connection||null}),bre=new k("Shared Observable based on `document visibility changed`",{factory:()=>{let t=P(Te);return si(t,"visibilitychange").pipe(ht(0),L(()=>t.visibilityState!=="hidden"),wt(),Ci({refCount:!1,bufferSize:1}))}}),L0=new k("An abstraction over window.performance object",{factory:()=>P(Qe).performance}),Cre=new k("An abstraction over window.screen object",{factory:()=>P(Qe).screen}),Tre=new k("An abstraction over window.sessionStorage object",{factory:()=>P(Qe).sessionStorage}),Dre=new k("An abstraction over SpeechRecognition class",{factory:()=>{let t=P(Qe);return t.speechRecognition||t.webkitSpeechRecognition||null}}),Sre=new k("An abstraction over window.speechSynthesis object",{factory:()=>P(Qe).speechSynthesis}),Ls=new k("An abstraction over window.navigator.userAgent object",{factory:()=>P(dc).userAgent});function V0(t,e={}){let{selector:n}=e,i=Au(e,["selector"]);return new oe(r=>{let o=new AbortController,{signal:s}=o,a=!0,{signal:c}=i;if(c)if(c.aborted)o.abort();else{let p=()=>{s.aborted||o.abort()};c.addEventListener("abort",p),r.add(()=>c.removeEventListener("abort",p))}let l=Object.assign(Object.assign({},i),{signal:s}),h=p=>{a=!1,r.error(p)};return fetch(t,l).then(p=>{n?Oe(n(p)).subscribe(te(r,void 0,()=>{a=!1,r.complete()},h)):(a=!1,r.next(p),r.complete())}).catch(h),()=>{a&&o.abort()}})}var Tz=de(()=>{let t={onRemovalComplete:()=>{}},e=new mt(null),n=P(Eo,Ue.Optional)||t,{onRemovalComplete:i=t.onRemovalComplete}=n;return n.onRemovalComplete=(r,o)=>{e.next(r),i.call(n,r,o)},e.pipe(je(r=>Yt(0).pipe(L(()=>null),ht(r))),Bn())});function iO(t,e=null){return lc(t).activeElement!==t&&!t.matches(":disabled")&&!e?.contains(t)}function Dz(t){return It(He(t,"focusin").pipe(L(({target:e})=>e)),He(t,"focusout").pipe(Je(({target:e,relatedTarget:n})=>!!n&&iO(e)),L(({relatedTarget:e})=>e)))}var rO=de(()=>{let t=P(Tz),e=P(Qe),n=P(Te),i=He(e,"focusout"),r=He(e,"focusin"),o=He(e,"blur"),s=He(e,"mousedown"),a=He(e,"mouseup");return It(i.pipe(be(s),Ru(()=>a),Ch(t),Je(([c,l])=>iO(So(c),l)),L(([{relatedTarget:c}])=>c)),o.pipe(L(()=>n.activeElement),Je(c=>!!c?.matches("iframe"))),r.pipe(je(c=>{let l=So(c),h=lc(l);return h===n?ee(l):Dz(h).pipe(ht(l))})),s.pipe(je(c=>{let l=So(c);return!n.activeElement||n.activeElement===n.body?ee(l):i.pipe(Wt(1),L(()=>l),be(Yt(0)))}))).pipe(wt(),Bn())}),j0=We([]);function oO(t){return{provide:j0,multi:!0,useExisting:t}}var sO=de(()=>{var t,e;return(e=(t=P(Te).querySelector("base"))===null||t===void 0?void 0:t.href)!==null&&e!==void 0?e:""}),Gre=de(()=>P(Ji).createRenderer(null,null)),Ol=We([]);function aO(t){return{provide:Ol,multi:!0,useExisting:t}}var qre=de(()=>{var t;let e=(t=P(Te).querySelector("base"))===null||t===void 0?void 0:t.href;if(e)return e;let n=P(Te).createElement("a");return n.href="",n.pathname}),hc=new k("[TUI_FOCUSABLE_ITEM_ACCESSOR]");function xl(t){return{provide:hc,useExisting:t}}var Sz=new k("[TUI_FONTS_READY]",{factory:()=>{var t;return ft(((t=P(Te).fonts)===null||t===void 0?void 0:t.ready)||dt).pipe(Ci({bufferSize:1,refCount:!1}))}}),ji=de(()=>k0(P(dc))),Mz=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/,Az=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/,Ui=de(()=>Mz.test(P(Ls).toLowerCase())||Az.test(P(Ls).slice(0,4).toLowerCase())),cO=de(()=>P(Ui)&&!P(ji)),Wre=de(()=>QP(P(dc))),Kre=de(()=>!!P(Qe).chrome),Pz=de(()=>!!P(Qe).Cypress),Oz=de(cc),Qre=de(()=>P(Pz)||P(Oz)),Yre=de(()=>{var t;return typeof((t=P(Qe))===null||t===void 0?void 0:t.mozCancelFullScreen)<"u"}),Zre=de(()=>P(Qe).location.host.endsWith("stackblitz.io")),uO=de(()=>{var t;return!!(!((t=P(Qe))===null||t===void 0)&&t.webkitConvertPointFromNodeToPage)}),Xre=We("web");var Jre=de(()=>hA(P(zn))?new Range:{}),Vs=de(()=>new se(P(Te).documentElement)),eoe=We({timeout:500,threshold:30}),toe=de(ks),noe=de(()=>P(Qe).matchMedia("(any-pointer: coarse)").matches),U0=new k("[TUI_WINDOW_SIZE]",{factory:()=>{let t=P(Qe);return He(t,"resize").pipe(ht(null),L(()=>{var e,n;let i=Math.max(t.document.documentElement.clientWidth||0,t.innerWidth||0,((e=t.visualViewport)===null||e===void 0?void 0:e.width)||0),r=Math.max(t.document.documentElement.clientHeight||0,t.innerHeight||0,((n=t.visualViewport)===null||n===void 0?void 0:n.height)||0);return{width:i,height:r,top:0,left:0,right:i,bottom:r}}),Ci({bufferSize:1,refCount:!0}))}}),ioe=de(()=>P(U0).pipe(L(({height:t})=>t))),roe=We({wheelSensitivity:.01});var Se=(()=>{class t extends wi{constructor(){super(1)}ngOnDestroy(){this.next()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();var xz="tui_",Ao=(()=>{class t{generate(){return`${xz}${t.autoId++}${Date.now()}`}}return t.autoId=0,t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var lO=(()=>{class t{constructor(n,i){this.win=n,this.platformId=i,this.cache=new Map}request(n){let i=this.cache.get(n);if(i)return i;let o=("AbortController"in this.win||Ms(this.platformId)?V0(n):so(()=>ft(fetch(n)))).pipe(je(s=>uh(this,void 0,void 0,function*(){if(s.ok)return s.text();throw new Error(`Failed to load ${n} (${s.statusText})`)})),Ci({bufferSize:1,refCount:!1}));return this.cache.set(n,o),o}}return t.\u0275fac=function(n){return new(n||t)(X(Qe),X(zn))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Rz=["viewContainer"],Nz="tui_interactive_",Sp=(()=>{class t{constructor(){this.pseudoHover=null,this.pseudoActive=null,this.pseudoFocus=null,this.focusable=!0,this.nativeId="",this.focusedChange=new rt,this.focusVisibleChange=new rt,this.focusVisible=!1,this.autoIdString=`${Nz}${t.autoId++}${Date.now()}`}get computedDisabled(){return this.disabled}get computedFocusable(){return!this.computedDisabled&&(this.focusable||this.focused)}get computedFocused(){var n;return!this.computedDisabled&&((n=this.pseudoFocus)!==null&&n!==void 0?n:this.focused)}get computedFocusVisible(){var n;return!this.computedDisabled&&((n=this.pseudoFocus)!==null&&n!==void 0?n:this.focusVisible)}get id(){return this.nativeId||this.autoIdString}updateFocused(n){this.focusedChange.emit(n)}updateFocusVisible(n){this.focusVisible!==n&&(this.focusVisible=n,this.focusVisibleChange.emit(n))}}return t.autoId=0,t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=$({type:t,hostVars:7,hostBindings:function(n,i){n&2&&(qe("data-focused",i.pseudoFocus),Ge("_disabled",i.computedDisabled)("_focused",i.computedFocused)("_focus-visible",i.computedFocusVisible))},inputs:{pseudoHover:"pseudoHover",pseudoActive:"pseudoActive",pseudoFocus:"pseudoFocus",focusable:"focusable",nativeId:"nativeId"},outputs:{focusedChange:"focusedChange",focusVisibleChange:"focusVisibleChange"}}),t})(),B0=class{},js=(()=>{class t extends Sp{constructor(n,i,r){super(),this.ngControl=n,this.cdr=i,this.valueTransformer=r,this.refresh$=new ot,this.onTouched=x0,this.onChange=x0,this.fallbackValue=this.getFallbackValue(),this.destroy$=new ot,this.readOnly=!1,this.pseudoInvalid=null,this.ngControl&&(this.ngControl.valueAccessor=this)}get computedInvalid(){return this.interactive&&(this.pseudoInvalid!==null?this.pseudoInvalid:this.touched&&this.invalid)}get value(){var n;return(n=this.previousInternalValue)!==null&&n!==void 0?n:this.fallbackValue}set value(n){this.updateValue(n)}get safeCurrentValue(){var n;return(n=this.rawValue)!==null&&n!==void 0?n:this.fallbackValue}get invalid(){return this.safeNgControlData(({invalid:n})=>n,!1)}get valid(){return this.safeNgControlData(({valid:n})=>n,!1)}get touched(){return this.safeNgControlData(({touched:n})=>n,!1)}get disabled(){return this.safeNgControlData(({disabled:n})=>n,!1)}get interactive(){return!this.readOnly&&!this.computedDisabled}get control(){return this.safeNgControlData(({control:n})=>n,null)}get computedName(){var n,i;return(i=(n=this.controlName)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:null}get controlName(){var n,i,r;return(r=(i=(n=this.ngControl)===null||n===void 0?void 0:n.name)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:null}get rawValue(){let{ngControl:n}=this;if(n===null)return;let i=n instanceof Vr&&this.previousInternalValue===void 0?n.viewModel:n.value;return this.fromControlValue(i)}ngOnInit(){this.refresh$.pipe(os(0),ht(null),L(()=>{var n;return(n=this.ngControl)===null||n===void 0?void 0:n.control}),Je(To),wt(),je(n=>It(n.valueChanges,n.statusChanges)),be(this.destroy$)).subscribe(()=>{this.refreshLocalValue(this.safeCurrentValue)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkControlUpdate(){this.cdr.markForCheck()}registerOnChange(n){this.onChange=i=>{n(this.toControlValue(i))},this.refresh$.next()}registerOnTouched(n){this.onTouched=n}setDisabledState(){this.checkControlUpdate()}writeValue(n){let i=this.ngControl instanceof Vr&&this.previousInternalValue===void 0?this.ngControl.model:n;this.refreshLocalValue(this.fromControlValue(i))}updateFocused(n){n||this.controlMarkAsTouched(),super.updateFocused(n)}updateValue(n){this.disabled||this.valueIdenticalComparator(this.value,n)||(this.previousInternalValue=n,this.controlSetValue(n))}valueIdenticalComparator(n,i){return n===i}safeNgControlData(n,i){var r;return(r=this.ngControl&&n(this.ngControl))!==null&&r!==void 0?r:i}controlMarkAsTouched(){this.onTouched(),this.checkControlUpdate()}controlSetValue(n){this.onChange(n),this.checkControlUpdate()}refreshLocalValue(n){this.previousInternalValue=n,this.checkControlUpdate()}fromControlValue(n){return this.valueTransformer?this.valueTransformer.fromControlValue(n):n}toControlValue(n){return this.valueTransformer?this.valueTransformer.toControlValue(n):n}}return t.\u0275fac=function(n){return new(n||t)(_(qn,8),_(st),_(B0,8))},t.\u0275dir=$({type:t,hostVars:4,hostBindings:function(n,i){n&2&&Ge("_readonly",i.readOnly)("_invalid",i.computedInvalid)},inputs:{readOnly:"readOnly",pseudoInvalid:"pseudoInvalid"},features:[Ce]}),t})();function dO(t){return{provide:js,useExisting:t}}var Ln=(()=>{class t{constructor(){this.change$=new ot}ngOnChanges(){this.change$.next()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=$({type:t,features:[Tn]}),t})(),Mp=(()=>{class t extends oe{constructor(n){super(i=>this.dialogs$.subscribe(i)),this.idService=n,this.dialogs$=new mt([])}open(n,i={}){return new oe(r=>{let o=a=>{r.next(a),r.complete()},s=Object.assign(Object.assign(Object.assign({},this.defaultOptions),i),{content:n,completeWith:o,$implicit:r,component:this.component,createdAt:Date.now(),id:this.idService.generate()});return this.dialogs$.next([...this.dialogs$.value,s]),()=>{this.dialogs$.next(this.dialogs$.value.filter(a=>a!==s))}})}}return t.\u0275fac=function(n){return new(n||t)(X(Ao))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();var Ap=(()=>{class t{get safeHost(){if(!this.host)throw new Cp;return this.host}attach(n){this.host=n}add(n){return this.safeHost.addComponentChild(n)}remove({hostView:n}){n.destroyed||n.destroy()}addTemplate(n,i){return this.safeHost.addTemplateChild(n,i)}removeTemplate(n){n.destroyed||n.destroy()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),H0=(()=>{class t{constructor(n,i,r){this.injector=n,this.el=i,r.attach(this)}get clientRect(){return this.el.nativeElement.getBoundingClientRect()}addComponentChild(n){let i=n.createInjector(this.injector),o=i.get(Si).resolveComponentFactory(n.component),s=[{provide:t,useValue:this}],a=Bt.create({parent:i,providers:s}),c=this.vcr.createComponent(o,void 0,a);return c.changeDetectorRef.detectChanges(),c}addTemplateChild(n,i){return this.vcr.createEmbeddedView(n,i)}}return t.\u0275fac=function(n){return new(n||t)(_(Pr),_(se),_(Ap))},t.\u0275dir=$({type:t,viewQuery:function(n,i){if(n&1&&Ts(Rz,5,hn),n&2){let r;tr(r=nr())&&(i.vcr=r.first)}}}),t})();function $0(t){return t!==null&&typeof t<"u"&&`${t}`!="false"}var hO=(()=>{class t{transform(n,i,...r){return i(n,...r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=uf({name:"tuiMapper",type:t,pure:!0}),t})(),fO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();function kz(t,e){if(t&1&&(Sn(0,3),Mt(1,"tuiMapper")),t&2){let n=e.$implicit,i=ge(2);N("ngComponentOutlet",n.component.component)("ngComponentOutletInjector",HM(1,2,n,i.mapper))}}function Fz(t,e){if(t&1&&(H(0,"div",1),ie(1,kz,2,5,"ng-container",2),z()),t&2){let n=e.$implicit;N("@tuiParentAnimation",void 0),U(),N("ngForOf",n)}}var pO=(()=>{class t{constructor(n,i,r,o){this.allAlerts=n,this.injector=i,this.destroy$=r,this.cdr=o,this.alerts=[],this.trackBy=s=>s,this.mapper=s=>Bt.create({providers:[{provide:Ur,useValue:s}],parent:this.injector})}ngOnInit(){qi(this.allAlerts).pipe(be(this.destroy$)).subscribe(n=>{this.alerts=n,this.cdr.detectChanges()})}}return t.\u0275fac=function(n){return new(n||t)(_(j0),_(Pr),_(Se,2),_(st))},t.\u0275cmp=ye({type:t,selectors:[["tui-alert-host"]],features:[ne([Se])],decls:1,vars:2,consts:[["class","t-wrapper",4,"ngFor","ngForOf","ngForTrackBy"],[1,"t-wrapper"],[3,"ngComponentOutlet","ngComponentOutletInjector",4,"ngFor","ngForOf"],[3,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(n,i){n&1&&ie(0,Fz,2,2,"div",0),n&2&&N("ngForOf",i.alerts)("ngForTrackBy",i.trackBy)},dependencies:[_o,dA,hO],styles:[`tui-alert-host>.t-wrapper{position:fixed;top:0;left:0;display:flex;width:100%;height:100%;flex-direction:column;pointer-events:none}tui-alert-host>.t-wrapper>*{pointer-events:auto}
`],encapsulation:2,data:{animation:[Sl]}}),t})(),mO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,fO]]}),t})();function Lz(t,e){if(t&1&&(H(0,"div",3),le(1,"div",4),z()),t&2){let n=ge().ngIf;Ge("t-bar_has-horizontal",n[1])}}function Vz(t,e){if(t&1&&(H(0,"div",5),le(1,"div",6),z()),t&2){let n=ge().ngIf;Ge("t-bar_has-vertical",n[0])}}function jz(t,e){if(t&1&&(Jt(0),ie(1,Lz,2,2,"div",1)(2,Vz,2,2,"div",2),en()),t&2){let n=e.ngIf;U(),N("ngIf",n[0]),U(),N("ngIf",n[1])}}var Pp=24;function Uz({clientY:t},{top:e,height:n}){return(t-e)/n}function Bz({clientX:t},{left:e,width:n}){return(t-e)/n}var Hz=(()=>{class t{constructor(n,i,r,o,s,a){this.container=o,this.doc=s,this.el=a,this.tuiScrollbar="vertical";let{nativeElement:c}=this.el,l=He(c,"mousedown"),h=He(this.doc,"mousemove"),p=He(this.doc,"mouseup"),m=He(this.wrapper,"mousedown");It(m.pipe(L(v=>this.getScrolled(v,.5,.5))),l.pipe(je(v=>{let I=c.getBoundingClientRect(),S=Uz(v,I),O=Bz(v,I);return h.pipe(L(F=>this.getScrolled(F,S,O)),be(p))}))).pipe(Fi(n),be(i)).subscribe(([v,I])=>{this.tuiScrollbar==="vertical"?this.element.scrollTop=v:this.element.scrollLeft=I}),It(r.pipe(as(yp)),JP(this.element)).pipe(Fi(n),be(i)).subscribe(()=>{this.tuiScrollbar==="vertical"?(c.style.top=`${this.thumb*100}%`,c.style.height=`${this.view*100}%`):(c.style.left=`${this.thumb*100}%`,c.style.width=`${this.view*100}%`)})}get wrapper(){return this.el.nativeElement.parentElement}get scrolled(){let{scrollTop:n,scrollHeight:i,clientHeight:r,scrollLeft:o,scrollWidth:s,clientWidth:a}=this.element;return this.tuiScrollbar==="vertical"?n/(i-r):o/(s-a)}get compensation(){let{clientHeight:n,scrollHeight:i,clientWidth:r,scrollWidth:o}=this.element;return n*n/i>Pp&&this.tuiScrollbar==="vertical"||r*r/o>Pp&&this.tuiScrollbar==="horizontal"?0:this.tuiScrollbar==="vertical"?Pp/n:Pp/r}get thumb(){let n=this.compensation||this.view;return this.scrolled*(1-n)}get view(){let{clientHeight:n,scrollHeight:i,clientWidth:r,scrollWidth:o}=this.element;return this.tuiScrollbar==="vertical"?Math.ceil(n/i*100)/100:Math.ceil(r/o*100)/100}get element(){return this.container.nativeElement}getScrolled({clientY:n,clientX:i},r,o){let{offsetHeight:s,offsetWidth:a}=this.el.nativeElement,{top:c,left:l,width:h,height:p}=this.wrapper.getBoundingClientRect(),m=this.element.scrollHeight-p,v=this.element.scrollWidth-h,I=(n-c-s*r)/(p-s),S=(i-l-a*o)/(h-a);return[m*I,v*S]}}return t.\u0275fac=function(n){return new(n||t)(_(we),_(Se,2),_(Vi),_(Vs),_(Te),_(se))},t.\u0275dir=$({type:t,selectors:[["","tuiScrollbar",""]],inputs:{tuiScrollbar:"tuiScrollbar"},features:[ne([Se])]}),t})(),fc=(()=>{class t{constructor(n,i,r){this.zone=n,this.scrollRef=i,this.animationFrame$=r,this.refresh$=this.animationFrame$.pipe(as(300),L(()=>this.scrollbars),ht([!1,!1]),wt((o,s)=>o[0]===s[0]&&o[1]===s[1]),fi(this.zone))}get scrollbars(){let{clientHeight:n,scrollHeight:i,clientWidth:r,scrollWidth:o}=this.scrollRef.nativeElement;return[Math.ceil(n/i*100)<100,Math.ceil(r/o*100)<100]}}return t.\u0275fac=function(n){return new(n||t)(_(we),_(Vs),_(Vi))},t.\u0275cmp=ye({type:t,selectors:[["tui-scroll-controls"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","t-bar t-bar_vertical",3,"t-bar_has-horizontal",4,"ngIf"],["class","t-bar t-bar_horizontal",3,"t-bar_has-vertical",4,"ngIf"],[1,"t-bar","t-bar_vertical"],["tuiScrollbar","vertical",1,"t-thumb"],[1,"t-bar","t-bar_horizontal"],["tuiScrollbar","horizontal",1,"t-thumb"]],template:function(n,i){n&1&&(ie(0,jz,3,2,"ng-container",0),Mt(1,"async")),n&2&&N("ngIf",kt(1,1,i.refresh$))},dependencies:[Pt,Hz,nn],styles:["[_nghost-%COMP%]{position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;min-width:calc(100% - 1px);min-height:calc(100% - 1px);max-width:calc(100% - 1px);max-height:calc(100% - 1px);float:left;-webkit-margin-end:calc(-100% + 1px);margin-inline-end:calc(-100% + 1px);pointer-events:none}.t-bar[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;pointer-events:auto;animation:tuiFadeIn var(--tui-duration, .3s) ease-in-out}.t-bar_vertical[_ngcontent-%COMP%]{top:0;width:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]{left:0;height:.875rem}.t-bar_has-horizontal[_ngcontent-%COMP%]{bottom:.5rem}.t-bar_has-vertical[_ngcontent-%COMP%]{right:.5rem}.t-thumb[_ngcontent-%COMP%]{position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;background:currentColor;background-clip:content-box;box-sizing:border-box;transition:all var(--tui-duration, .3s) ease-in-out;transition-property:width,height,opacity;opacity:.2}.t-thumb[_ngcontent-%COMP%]:hover{opacity:.24}.t-thumb[_ngcontent-%COMP%]:active{opacity:.48}.t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{right:0;width:.75rem;min-height:1.25rem}.t-bar_vertical[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{width:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{bottom:0;height:.75rem;min-width:1.25rem}.t-bar_horizontal[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{height:.875rem}"],changeDetection:0}),t})();var gO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=$({type:t,selectors:[["","tuiScrollRef",""]],features:[ne([{provide:Vs,useExisting:se}])]}),t})(),pc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne]]}),t})();function zz(t){let e=[],n=!1,i;return function(...o){return n&&e.length===o.length&&o.every((a,c)=>a===e[c])||(e=o,i=t.apply(this,o),n=!0),i}}function vO(t,e,n=!0){return function(){let r=t.call(this);return Object.defineProperty(this,e,{enumerable:n,value:r}),r}}function Wn(t,e,n){if(typeof t=="function"){let c=e;if(c.kind==="getter")return vO(t,c.name);if(c.kind==="method")return zz(t);throw new Pl}let{get:i,enumerable:r,value:o}=n,s=e;if(i)return{configurable:!0,enumerable:r,get:vO(i,s,r)};if(typeof o!="function")throw new Pl;let a=o;return{configurable:!0,enumerable:r,get(){let c=[],l=!1,h,p=(...m)=>(l&&c.length===m.length&&m.every((I,S)=>I===c[S])||(c=m,h=a.apply(this,m),l=!0),h);return Object.defineProperty(this,s,{configurable:!0,value:p}),p}}}var Op=(()=>{class t{constructor(n,i,r,o){var s;this.active$=n,this.zone=i,this.el=r,this.directParentActiveZone=o,this.subActiveZones=[],this.tuiActiveZoneParent=null,this.tuiActiveZoneChange=this.active$.pipe(L(a=>!!a&&this.contains(a)),ht(!1),wt(),ku(1),fi(this.zone)),(s=this.directParentActiveZone)===null||s===void 0||s.addSubActiveZone(this)}set tuiActiveZoneParentSetter(n){this.setZone(n)}ngOnDestroy(){var n,i;(n=this.directParentActiveZone)===null||n===void 0||n.removeSubActiveZone(this),(i=this.tuiActiveZoneParent)===null||i===void 0||i.removeSubActiveZone(this)}contains(n){return this.el.nativeElement.contains(n)||this.subActiveZones.some((i,r,o)=>o.indexOf(i)===r&&i.contains(n))}setZone(n){var i;(i=this.tuiActiveZoneParent)===null||i===void 0||i.removeSubActiveZone(this),n?.addSubActiveZone(this),this.tuiActiveZoneParent=n}addSubActiveZone(n){this.subActiveZones=[...this.subActiveZones,n]}removeSubActiveZone(n){this.subActiveZones=BP(this.subActiveZones,this.subActiveZones.indexOf(n))}}return t.\u0275fac=function(n){return new(n||t)(_(rO),_(we),_(se),_(t,12))},t.\u0275dir=$({type:t,selectors:[["","tuiActiveZone","",5,"ng-container"],["","tuiActiveZoneChange","",5,"ng-container"],["","tuiActiveZoneParent","",5,"ng-container"]],hostBindings:function(n,i){n&1&&_e("mousedown.silent",function(){return 0},!1,If)},inputs:{tuiActiveZoneParentSetter:[0,"tuiActiveZoneParent","tuiActiveZoneParentSetter"]},outputs:{tuiActiveZoneChange:"tuiActiveZoneChange"},exportAs:["tuiActiveZone"]}),Yn([Wn],t.prototype,"setZone",null),t})(),yO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var _O=(()=>{class t{constructor(n,i){this.focusable=n,this.el=i}get element(){var n;return((n=this.focusable)===null||n===void 0?void 0:n.nativeFocusableElement)||this.el.nativeElement}get isTextFieldElement(){return this.element.matches("input, textarea, [contenteditable]")}}return t.\u0275fac=function(n){h_()},t.\u0275dir=$({type:t}),t})(),Gz=1e3,qz=".ng-animating",Wz=(()=>{class t extends _O{constructor(n,i,r){super(n,i),this.animationFrame$=r}setFocus(){this.isTextFieldElement?dv(Yt(Gz),this.animationFrame$.pipe(as(yp),L(()=>this.element.closest(qz)),gv(Boolean),Wt(1))).subscribe(()=>this.element.focus({preventScroll:!0})):this.element.focus({preventScroll:!0})}}return t.\u0275fac=function(n){return new(n||t)(_(hc,10),_(se),_(Vi))},t.\u0275dir=$({type:t,features:[Ce]}),t})(),Kz=["type","inputMode","autocomplete","accept","min","max","step","pattern","size","maxlength"],Qz=(()=>{class t extends _O{constructor(n,i,r,o,s){super(n,i),this.renderer=r,this.zone=o,this.win=s,this.patchCssStyles()}setFocus(){this.isTextFieldElement?this.zone.runOutsideAngular(()=>this.iosWebkitAutofocus()):this.element.focus({preventScroll:!0})}iosWebkitAutofocus(){var n;let i=this.makeFakeInput(),r=this.getDurationTimeBeforeFocus(),o=0,s=0,a=()=>i.focus({preventScroll:!0}),c=()=>{clearTimeout(o),o=this.win.setTimeout(()=>{clearTimeout(s),i.removeEventListener("blur",a),i.removeEventListener("focus",c),s=this.win.setTimeout(()=>{this.element.focus({preventScroll:!1}),i.remove()},r)})};i.addEventListener("blur",a,{once:!0}),i.addEventListener("focus",c),this.insideDialog()?this.win.document.body.appendChild(i):(n=this.element.parentElement)===null||n===void 0||n.appendChild(i),i.focus({preventScroll:!0})}makeFakeInput(){let n=this.renderer.createElement("input"),i=this.element.getBoundingClientRect();return this.patchFakeInputFromFocusableElement(n),n.style.height=ki(i.height),n.style.width=ki(i.width/2),n.style.position="fixed",n.style.zIndex="-99999999",n.style.caretColor="transparent",n.style.border="none",n.style.outline="none",n.style.color="transparent",n.style.background="transparent",n.style.cursor="none",n.style.fontSize=ki(16),n.style.top=ki(i.top),n.style.left=ki(i.left),n}getDurationTimeBeforeFocus(){return parseFloat(this.win.getComputedStyle(this.element).getPropertyValue("--tui-duration"))||0}insideDialog(){return!!this.element.closest("tui-dialog")}patchCssStyles(){[this.win.document.documentElement,this.win.document.body].forEach(n=>{n.style.setProperty("overflow","auto"),n.style.setProperty("height","100%")})}patchFakeInputFromFocusableElement(n){Kz.forEach(i=>{let r=this.element.getAttribute(i);To(r)&&n.setAttribute(i,r)})}}return t.\u0275fac=function(n){return new(n||t)(_(hc,10),_(se),_(Pi),_(we),_(Qe))},t.\u0275dir=$({type:t,features:[Ce]}),t})(),Yz={delay:NaN},Zz=We(Yz);var IO=new k("[TUI_AUTOFOCUS_HANDLER]"),Xz=[{provide:IO,useFactory:(t,e,n,i,r,o,s)=>s?new Qz(t,e,i,r,o):new Wz(t,e,n),deps:[[new At,new xD,hc],se,Vi,Pi,we,Qe,ji]},Se],wO=(()=>{class t{constructor(n,i,r){this.handler=n,this.options=i,this.destroy$=r,this.autoFocus=!0}ngAfterViewInit(){$0(this.autoFocus)&&this.focus()}focus(){Number.isNaN(this.options.delay)?Promise.resolve().then(()=>this.handler.setFocus()):Yt(this.options.delay).pipe(be(this.destroy$)).subscribe(()=>this.handler.setFocus())}}return t.\u0275fac=function(n){return new(n||t)(_(IO),_(Zz),_(Se,2))},t.\u0275dir=$({type:t,selectors:[["","tuiAutoFocus",""]],inputs:{autoFocus:[0,"tuiAutoFocus","autoFocus"]},features:[ne(Xz)]}),t})(),EO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var bO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var CO=(()=>{class t{constructor(n,i,r){this.doc=n,this.el=i,this.renderer=r,this.activeElement=Al(this.doc),Promise.resolve().then(()=>this.el.nativeElement.focus())}onBlur(){this.renderer.removeAttribute(this.el.nativeElement,"tabIndex")}onFocusIn(n){let{nativeElement:i}=this.el;if(Ip(i,n))return;let r=KP({initial:i,root:i});r&&r.focus()}ngOnDestroy(){Ep(this.doc),Promise.resolve().then(()=>{Do(this.activeElement)&&this.activeElement.focus()})}}return t.\u0275fac=function(n){return new(n||t)(_(Te),_(se),_(Pi))},t.\u0275dir=$({type:t,selectors:[["","tuiFocusTrap",""]],hostAttrs:["tabIndex","0"],hostBindings:function(n,i){n&1&&_e("blur",function(){return i.onBlur()})("focusin.silent",function(o){return i.onFocusIn(o.target)},!1,_f)}}),t})(),TO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var DO=(()=>{class t{constructor(){this.focusable=!0}get tabIndex(){return this.focusable?0:-1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=$({type:t,selectors:[["","tuiFocusable",""]],hostVars:1,hostBindings:function(n,i){n&2&&Oi("tabIndex",i.tabIndex)},inputs:{focusable:[0,"tuiFocusable","focusable"]}}),t})(),xp=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();function Jz({currentTarget:t,relatedTarget:e}){return!Fs(e)||!Fs(t)||!t.contains(e)}var Us=(()=>{class t extends oe{constructor(n,i){super(r=>this.stream$.subscribe(r)),this.el=n,this.zone=i,this.stream$=It(He(this.el.nativeElement,"mouseenter").pipe(L(ks)),He(this.el.nativeElement,"mouseleave").pipe(L(cc)),He(this.el.nativeElement,"mouseout").pipe(Je(Jz),L(cc))).pipe(wt(),fi(this.zone))}}return t.\u0275fac=function(n){return new(n||t)(X(se),X(we))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),SO=(()=>{class t{constructor(n){this.tuiHoveredChange=n}}return t.\u0275fac=function(n){return new(n||t)(_(Us))},t.\u0275dir=$({type:t,selectors:[["","tuiHoveredChange",""]],outputs:{tuiHoveredChange:"tuiHoveredChange"},features:[ne([Us])]}),t})(),MO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var z0=class{constructor(e){this.internalDirectiveInstance=e}get $implicit(){return this.internalDirectiveInstance.tuiLet}get tuiLet(){return this.internalDirectiveInstance.tuiLet}},Rp=(()=>{class t{constructor(n,i){n.createEmbeddedView(i,new z0(this))}static ngTemplateContextGuard(n,i){return!0}}return t.\u0275fac=function(n){return new(n||t)(_(hn),_(sn))},t.\u0275dir=$({type:t,selectors:[["","tuiLet",""]],inputs:{tuiLet:"tuiLet"}}),t})(),gc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var AO=(()=>{class t{constructor({nativeElement:n},i,r){this.mode="scroll",He(n,"wheel",{passive:!1}).pipe(Je(()=>this.enabled),Fi(i),be(r)).subscribe(o=>{this.processEvent(o,!!o.deltaY,o.deltaY?o.deltaY<0:o.deltaX<0)}),He(n,"touchstart",{passive:!0}).pipe(je(({touches:o})=>{let{clientX:s,clientY:a}=o[0],c=0,l=0,h;return He(n,"touchmove",{passive:!1}).pipe(Je(()=>this.enabled),gt(p=>{let m=p.changedTouches[0];c=s-m.clientX,l=a-m.clientY,s=m.clientX,a=m.clientY,h===void 0&&(h=Math.abs(l)>Math.abs(c)),this.processEvent(p,h,h?l<0:c<0)}))}),Fi(i),be(r)).subscribe()}get enabled(){return this.mode!=="none"}get overscrollBehavior(){return this.enabled?"contain":null}processEvent(n,i,r){var o;let{target:s,currentTarget:a,cancelable:c}=n;if(!(!c||!Fs(s)||((o=s)===null||o===void 0?void 0:o.type)==="range")){if(this.mode==="all"&&(i&&!a.contains(wp(s))||!i&&!a.contains(wp(s,!1)))){n.preventDefault();return}if(i&&(r&&!Ml(s,a,!0,!1)||!r&&!Ml(s,a,!0,!0))){n.preventDefault();return}!i&&(r&&!Ml(s,a,!1,!1)||!r&&!Ml(s,a,!1,!0))&&n.preventDefault()}}}return t.\u0275fac=function(n){return new(n||t)(_(se),_(we),_(Se,2))},t.\u0275dir=$({type:t,selectors:[["","tuiOverscroll",""]],hostVars:2,hostBindings:function(n,i){n&2&&fn("overscroll-behavior",i.overscrollBehavior)},inputs:{mode:[0,"tuiOverscroll","mode"]},features:[ne([Se])]}),t})(),PO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var e4=["*"],t4=(()=>{class t extends Ap{}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),OO=(()=>{class t extends H0{}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275cmp=ye({type:t,selectors:[["tui-dropdown-host"]],features:[ne([{provide:Ap,useExisting:t4},{provide:H0,useExisting:t}]),Ce],ngContentSelectors:e4,decls:3,vars:0,consts:[["viewContainer",""]],template:function(n,i){n&1&&(tn(),Et(0),Sn(1,null,0))},styles:['[_nghost-%COMP%]{position:relative;z-index:0;display:block;height:100%}[_nghost-%COMP%]:before{content:"";display:block;overflow:hidden}.t-position-fixed-offset[_ngcontent-%COMP%]{position:fixed;left:0;top:0;pointer-events:none;visibility:hidden;width:100%;height:100%}'],changeDetection:0}),t})(),xO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var n4=65536,G0=class{constructor(e){this.$implicit=e}},RO=(()=>{class t{constructor(n,i){this.viewContainer=n,this.templateRef=i}set tuiRepeatTimesOf(n){let i=Math.floor(gn(n,0,n4)),{length:r}=this.viewContainer;n<r?this.removeContainers(r-n):this.addContainers(i)}addContainers(n){for(let i=this.viewContainer.length;i<n;i++)this.viewContainer.createEmbeddedView(this.templateRef,new G0(i))}removeContainers(n){for(let i=0;i<n;i++)this.viewContainer.remove()}}return t.\u0275fac=function(n){return new(n||t)(_(hn),_(sn))},t.\u0275dir=$({type:t,selectors:[["","tuiRepeatTimes","","tuiRepeatTimesOf",""]],inputs:{tuiRepeatTimesOf:"tuiRepeatTimesOf"}}),t})(),NO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();function i4(t,e){t&1&&Sn(0)}function r4(t,e){t&1&&le(0,"tui-scroll-controls",5)}function o4(t,e){if(t&1&&(H(0,"section",2),ie(1,i4,1,0,"ng-container",3)(2,r4,1,0,"tui-scroll-controls",4),z()),t&2){let n=e.$implicit,i=ge();N("@host",void 0),qe("aria-labelledby",n.id),U(),N("polymorpheusOutlet",n.component)("polymorpheusOutletContext",n),U(),N("ngIf",!i.isMobile)}}function s4(t,e){if(t&1){let n=pn();H(0,"div",6),_e("transitionend",function(r){let o=Zt(n).tuiLet,s=ge();return Xt(s.onDialog(r,!!s.dialogs.length,!!o))})("popstate",function(){let r=Zt(n).tuiLet,o=ge();return Xt(o.closeLast(o.dialogs,!!r))},!1,_f),z()}if(t&2){let n=ge();Ge("t-overlay_visible",n.dialogs.length)}}var q0={label:"ignoreMe"},a4=t=>t?.label===q0.label,c4=We(ee(!1)),kO=(()=>{class t{constructor(n,i,r,o,s,a,c,l){this.isMobile=n,this.isDialogClosesOnBack$=i,this.dialogsByType=r,this.historyRef=o,this.titleService=s,this.destroy$=a,this.cdr=c,this.doc=l,this.dialogs=[]}ngOnInit(){qi(this.dialogsByType).pipe(L(n=>[].concat(...n).sort((i,r)=>i.createdAt-r.createdAt)),be(this.destroy$)).subscribe(n=>{var i;this.dialogs=n,this.cdr.markForCheck(),(i=this.doc.defaultView)===null||i===void 0||i.document.documentElement.classList.toggle("t-overscroll-none",!!n.length)})}closeLast(n,i){if(!i)return;let[r]=n.slice(-1);r&&(n.length>1&&this.historyRef.pushState(q0,this.titleService.getTitle()),r.$implicit.complete())}onDialog({propertyName:n},i,r){!r||n!=="letter-spacing"||(i?this.historyRef.pushState(q0,this.titleService.getTitle()):a4(this.historyRef.state)&&this.historyRef.back())}}return t.\u0275fac=function(n){return new(n||t)(_(Ui),_(c4),_(Ol),_(nO),_(Bf),_(Se,2),_(st),_(Te))},t.\u0275cmp=ye({type:t,selectors:[["tui-dialog-host"]],features:[ne([Se])],decls:3,vars:4,consts:[["aria-modal","true","role","dialog","tuiFocusTrap","","tuiOverscroll","all","tuiScrollRef","","class","t-dialog",4,"ngFor","ngForOf"],["class","t-overlay",3,"t-overlay_visible","transitionend","popstate",4,"tuiLet"],["aria-modal","true","role","dialog","tuiFocusTrap","","tuiOverscroll","all","tuiScrollRef","",1,"t-dialog"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],["class","t-scrollbars",4,"ngIf"],[1,"t-scrollbars"],[1,"t-overlay",3,"transitionend","popstate"]],template:function(n,i){n&1&&(ie(0,o4,3,5,"section",0)(1,s4,1,2,"div",1),Mt(2,"async")),n&2&&(N("ngForOf",i.dialogs),U(),N("tuiLet",kt(2,2,i.isDialogClosesOnBack$)))},dependencies:[fc,_o,CO,AO,gO,Kt,Pt,Rp,nn],styles:["[_nghost-%COMP%]{position:fixed;left:0;bottom:0;width:100%;height:0}.t-overlay[_ngcontent-%COMP%], .t-dialog[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:flex-start;outline:none;overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.t-overlay.ng-animating[_ngcontent-%COMP%], .t-dialog.ng-animating[_ngcontent-%COMP%]{overflow:clip}.t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar, .t-overlay[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .t-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-dialog[_ngcontent-%COMP%]{bottom:auto;height:100%}.t-overlay[_ngcontent-%COMP%]{height:100%;pointer-events:none;touch-action:none;opacity:0;letter-spacing:normal;transition:opacity var(--tui-duration, .3s),letter-spacing .01s;background:rgba(0,0,0,.75);-webkit-backdrop-filter:var(--tui-backdrop, none);backdrop-filter:var(--tui-backdrop, none)}.t-overlay_visible[_ngcontent-%COMP%]{opacity:1;letter-spacing:1px}.t-dialog[_ngcontent-%COMP%]:last-of-type{z-index:1}.t-scrollbars[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;margin:0;color:#747474}"],data:{animation:[_t("host",[ke(":enter",[V({overflow:"clip"}),Ht(":scope > *",[ml()],{optional:!0})]),ke(":leave",[Ht(":scope > *",[ml()],{optional:!0})])])]}}),t})(),FO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,bt,PO,TO,gc,pc]]}),t})();var W0=function(t){return t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t}(W0||{});var Po=class extends oe{};function Np(t){return{provide:Po,multi:!0,useExisting:t}}var vc=class{};function LO(t){return{provide:vc,multi:!0,useExisting:t}}var VO=(()=>{class t{constructor(n,i,r){this.destroy$=n,this.drivers=i,this.vehicles=r}ngOnInit(){let n=this.vehicles.find(({type:i})=>i===this.type);It(...this.drivers.filter(({type:i})=>i===this.type)).pipe(wt(),be(this.destroy$)).subscribe(i=>{n?.toggle(i)})}}return t.\u0275fac=function(n){return new(n||t)(_(Se,2),_(Po),_(vc))},t.\u0275dir=$({type:t}),t})(),jO=(()=>{class t{constructor(n){this.host=n}get readOnly(){return this.host.readOnly}get disabled(){return this.host.computedDisabled}get invalid(){return this.host.computedInvalid}get focusable(){return this.host.computedFocusable}get inputMode(){return"text"}get value(){var n;return((n=this.host.value)===null||n===void 0?void 0:n.toString())||""}process(n){}}return t.\u0275fac=function(n){return new(n||t)(_(js))},t.\u0275dir=$({type:t}),t})();function K0(t){return(e,n)=>e?.find(i=>i!==n&&i.type===t)||n}var Br=class{};function UO(t,e){return{provide:Br,deps:e?[[new ui,new At,Br],e]:[[new ui,new At,Br]],useFactory:K0(t)}}var Oo=class{};function BO(t,e){return{provide:Oo,deps:[[new ui,new At,Oo],e],useFactory:K0(t)}}var HO=K0;function Q0(t){return{provide:Oo,multi:!0,useExisting:t}}var Pe="{{duration}}ms ease-in-out",et={params:{duration:300}},An=300,$O=_t("tuiHeightCollapse",[ke(":enter",[V({height:0}),De(Pe,V({height:"*"}))],et),ke(":leave",[V({height:"*"}),De(Pe,V({height:0}))],et)]),yce=_t("tuiHeightCollapseList",[ke("* => *",[Ht(":enter",[V({height:0}),mn(An,[De(Pe,V({height:"*"}))])],{optional:!0}),Ht(":leave",[V({height:"*"}),mn(An,[De(Pe,V({height:0}))])],{optional:!0})],et)]),_ce=_t("tuiWidthCollapse",[ke(":enter",[V({width:0}),De(Pe,V({width:"*"}))],et),ke(":leave",[V({width:"*"}),De(Pe,V({width:0}))],et)]),Ice=_t("tuiWidthCollapseList",[ke("* => *",[Ht(":enter",[V({width:0}),mn(An,[De(Pe,V({width:"*"}))])],{optional:!0}),Ht(":leave",[V({width:"*"}),mn(An,[De(Pe,V({width:0}))])],{optional:!0})],et)]),yc=_t("tuiFadeIn",[ke(":enter",[V({opacity:0}),De(Pe,V({opacity:1}))],et),ke(":leave",[V({opacity:1}),De(Pe,V({opacity:0}))],et)]),wce=_t("tuiFadeInList",[ke("* => *",[Ht(":enter",[V({opacity:0}),mn(An,[De(Pe,V({opacity:1}))])],{optional:!0}),Ht(":leave",[V({opacity:1}),mn(An,[De(Pe,V({opacity:0}))])],{optional:!0})],et)]),Ece=_t("tuiFadeInTop",[ke(":enter",[V({transform:"translateY(-10px)",opacity:0}),De(Pe,V({transform:"translateY(0)",opacity:1}))],et),ke(":leave",[V({transform:"translateY(0)",opacity:1}),De(Pe,V({transform:"translateY(-10px)",opacity:0}))],et)]),bce=_t("tuiFadeInBottom",[ke(":enter",[V({transform:"translateY(10px)",opacity:0}),De(Pe,V({transform:"translateY(0)",opacity:1}))],et),ke(":leave",[V({transform:"translateY(0)",opacity:1}),De(Pe,V({transform:"translateY(10px)",opacity:0}))],et)]),Cce=_t("tuiDropdownAnimation",[ke(":enter",[V({transform:"translateY(-10px)",opacity:0}),De(Pe,V({transform:"translateY(0)",opacity:1}))],et),ke(":leave",[V({transform:"translateY(0)",opacity:1}),De(Pe,V({transform:"translateY(-10px)",opacity:0}))],et)]),Tce=_t("tuiScaleIn",[ke(":enter",[V({transform:"scale(0)"}),De(Pe,V({transform:"scale(1)"}))],et),ke(":leave",[V({transform:"scale(1)"}),De(Pe,V({transform:"scale(0)"}))],et)]),Dce=_t("tuiPop",[ke(":enter",[V({transform:"scale(0)"}),De(Pe,V({transform:"scale(1.1)"})),De(Pe,V({transform:"scale(1)"}))],et),ke(":leave",[V({transform:"scale(1)"}),De(Pe,V({transform:"scale(1.1)"})),De(Pe,V({transform:"scale(0)"}))],et)]),Sce=_t("tuiScaleInList",[ke("* => *",[Ht(":enter",[V({transform:"scale(0)"}),mn(An,[De(Pe,V({transform:"scale(1)"}))])],{optional:!0}),Ht(":leave",[V({transform:"scale(1)"}),mn(An,[De(Pe,V({transform:"scale(0)"}))])],{optional:!0})],et)]),zO=_t("tuiSlideIn",[ke("* => left",[V({transform:"translateX(-100%)"}),De(Pe,V({transform:"translateX(0)"}))],et),ke("left => *",[V({transform:"translateX(0)"}),De(Pe,V({transform:"translateX(-100%)"}))],et),ke("* => right",[V({transform:"translateX(100%)"}),De(Pe,V({transform:"translateX(0)"}))],et),ke("right => *",[V({transform:"translateX(0)"}),De(Pe,V({transform:"translateX(100%)"}))],et)]),Mce=_t("tuiSlideInLeft",[ke(":enter",[V({transform:"translateX(-100%)"}),De(Pe,V({transform:"translateX(0)"}))],et),ke(":leave",[V({transform:"translateX(0)"}),De(Pe,V({transform:"translateX(-100%)"}))],et)]),Ace=_t("tuiSlideInLeftList",[ke("* => *",[Ht(":enter",[V({transform:"translateX(-100%)"}),mn(An,[De(Pe,V({transform:"translateX(0)"}))])],{optional:!0}),Ht(":leave",[V({transform:"translateX(0)"}),mn(An,[De(Pe,V({transform:"translateX(-100%)"}))])],{optional:!0})],et)]),Pce=_t("tuiSlideInRight",[ke(":enter",[V({transform:"translateX(100%)"}),De(Pe,V({transform:"translateX(0)"}))],et),ke(":leave",[V({transform:"translateX(0)"}),De(Pe,V({transform:"translateX(100%)"}))],et)]),Oce=_t("tuiSlideInRightList",[ke("* => *",[Ht(":enter",[V({transform:"translateX(100%)"}),mn(An,[De(Pe,V({transform:"translateX(0)"}))])],{optional:!0}),Ht(":leave",[V({transform:"translateX(0)"}),mn(An,[De(Pe,V({transform:"translateX(100%)"}))])],{optional:!0})],et)]),GO=_t("tuiSlideInTop",[ke(":enter",[V({transform:"translate3d(0,{{start}},0)"}),De(Pe,V({transform:"translate3d(0,{{end}},0)"}))],{params:{end:0,start:"100%",duration:300}}),ke(":leave",[V({transform:"translate3d(0,{{end}},0)",pointerEvents:"none"}),De(Pe,V({transform:"translate3d(0,{{start}},0)"}))],{params:{end:0,start:"100%",duration:300}})]),xce=_t("tuiSlideInTopList",[ke("* => *",[Ht(":enter",[V({transform:"translateY(100%)"}),mn(An,[De(Pe,V({transform:"translateY(0)"}))])],{optional:!0}),Ht(":leave",[V({transform:"translateY(0)"}),mn(An,[De(Pe,V({transform:"translateY(100%)"}))])],{optional:!0})],et)]),Rce=_t("tuiSlideInBottom",[ke(":enter",[V({transform:"translateY(-100%)"}),De(Pe,V({transform:"translateY(0)"}))],et),ke(":leave",[V({transform:"translateY(0)"}),De(Pe,V({transform:"translateY(-100%)"}))],et)]),Nce=_t("tuiSlideInBottomList",[ke("* => *",[Ht(":enter",[V({transform:"translateY(-100%)"}),mn(An,[De(Pe,V({transform:"translateY(0)"}))])],{optional:!0}),Ht(":leave",[V({transform:"translateY(0)"}),mn(An,[De(Pe,V({transform:"translateY(-100%)"}))])],{optional:!0})],et)]);var b=function(t){return t.AD="AD",t.AE="AE",t.AF="AF",t.AG="AG",t.AI="AI",t.AL="AL",t.AM="AM",t.AO="AO",t.AR="AR",t.AT="AT",t.AU="AU",t.AW="AW",t.AZ="AZ",t.BA="BA",t.BB="BB",t.BD="BD",t.BE="BE",t.BF="BF",t.BG="BG",t.BH="BH",t.BI="BI",t.BJ="BJ",t.BL="BL",t.BM="BM",t.BN="BN",t.BO="BO",t.BQ="BQ",t.BR="BR",t.BS="BS",t.BT="BT",t.BW="BW",t.BY="BY",t.BZ="BZ",t.CA="CA",t.CD="CD",t.CF="CF",t.CG="CG",t.CH="CH",t.CI="CI",t.CL="CL",t.CM="CM",t.CN="CN",t.CO="CO",t.CR="CR",t.CU="CU",t.CV="CV",t.CW="CW",t.CY="CY",t.CZ="CZ",t.DE="DE",t.DJ="DJ",t.DK="DK",t.DM="DM",t.DO="DO",t.DZ="DZ",t.EC="EC",t.EE="EE",t.EG="EG",t.ER="ER",t.ES="ES",t.ET="ET",t.FI="FI",t.FJ="FJ",t.FK="FK",t.FM="FM",t.FR="FR",t.GA="GA",t.GB="GB",t.GD="GD",t.GE="GE",t.GF="GF",t.GH="GH",t.GI="GI",t.GL="GL",t.GM="GM",t.GN="GN",t.GP="GP",t.GQ="GQ",t.GR="GR",t.GT="GT",t.GW="GW",t.GY="GY",t.HK="HK",t.HN="HN",t.HR="HR",t.HT="HT",t.HU="HU",t.ID="ID",t.IE="IE",t.IL="IL",t.IN="IN",t.IQ="IQ",t.IR="IR",t.IS="IS",t.IT="IT",t.JM="JM",t.JO="JO",t.JP="JP",t.KE="KE",t.KG="KG",t.KH="KH",t.KM="KM",t.KN="KN",t.KP="KP",t.KR="KR",t.KW="KW",t.KY="KY",t.KZ="KZ",t.LA="LA",t.LB="LB",t.LC="LC",t.LI="LI",t.LK="LK",t.LR="LR",t.LS="LS",t.LT="LT",t.LU="LU",t.LV="LV",t.LY="LY",t.MA="MA",t.MC="MC",t.MD="MD",t.ME="ME",t.MF="MF",t.MG="MG",t.MK="MK",t.ML="ML",t.MM="MM",t.MN="MN",t.MO="MO",t.MQ="MQ",t.MR="MR",t.MS="MS",t.MT="MT",t.MU="MU",t.MV="MV",t.MW="MW",t.MX="MX",t.MY="MY",t.MZ="MZ",t.NA="NA",t.NC="NC",t.NE="NE",t.NG="NG",t.NI="NI",t.NL="NL",t.NO="NO",t.NP="NP",t.NZ="NZ",t.OM="OM",t.PA="PA",t.PE="PE",t.PF="PF",t.PG="PG",t.PH="PH",t.PK="PK",t.PL="PL",t.PT="PT",t.PW="PW",t.PY="PY",t.QA="QA",t.RE="RE",t.RO="RO",t.RS="RS",t.RU="RU",t.RW="RW",t.SA="SA",t.SB="SB",t.SC="SC",t.SD="SD",t.SE="SE",t.SG="SG",t.SH="SH",t.SI="SI",t.SK="SK",t.SL="SL",t.SM="SM",t.SN="SN",t.SO="SO",t.SR="SR",t.ST="ST",t.SV="SV",t.SX="SX",t.SY="SY",t.SZ="SZ",t.TC="TC",t.TD="TD",t.TG="TG",t.TH="TH",t.TJ="TJ",t.TL="TL",t.TM="TM",t.TN="TN",t.TO="TO",t.TR="TR",t.TT="TT",t.TW="TW",t.TZ="TZ",t.UA="UA",t.UG="UG",t.US="US",t.UY="UY",t.UZ="UZ",t.VC="VC",t.VE="VE",t.VG="VG",t.VN="VN",t.VU="VU",t.WS="WS",t.XK="XK",t.YE="YE",t.YT="YT",t.ZA="ZA",t.ZM="ZM",t.ZW="ZW",t}(b||{});var u4={cardNumber:["Number","Card number"],cardExpiry:["Expires","Valid through"]},l4={colorSelectorModeNames:["Solid color","Gradient"],toolbarTools:{undo:"Undo",redo:"Redo",font:"Font",fontStyle:"Font style",fontSize:"Font size",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strike through",justify:"Justify",justifyLeft:"Justify left",justifyCenter:"Justify center",justifyRight:"Justify right",justifyFull:"Justify full",list:"List",indent:"Indent",outdent:"Outdent",unorderedList:"Unordered list",orderedList:"Ordered list",quote:"Quote",foreColor:"Color",backColor:"Background color",hiliteColor:"Highlight color",clear:"Clear",link:"Link",attach:"Attach file",tex:"Insert TeX",code:"Code",image:"Insert image",insertHorizontalRule:"Insert horizontal rule",superscript:"Superscript",subscript:"Subscript",insertTable:"Insert table",insertGroup:"Insert group",hiliteGroup:"Hilite group",removeGroup:"Remove group",insertAnchor:"Insert anchor",mergeCells:"Merge cells",splitCells:"Split cells",rowsColumnsManaging:"Managing rows and columns",cellColor:"Cell color",setDetails:"Details",removeDetails:"Remove details"},editorEditLink:{urlExample:"example.com",anchorExample:"anchor"},editorTableCommands:[["Insert column before","Insert column after"],["Insert row before","Insert row after"],["Delete column","Delete row"]],editorCodeOptions:["Code in the text","Code in block"],editorFontOptions:{small:"Small",large:"Large",normal:"Normal",title:"Title",subtitle:"Subtitle"}},d4={previewTexts:{rotate:"Rotate"},zoomTexts:{zoomOut:"Zoom out",zoomIn:"Zoom in",reset:"Reset"}},h4={showHideText:"Show/Hide",paginationTexts:{pages:"Pages",linesPerPage:"Lines per page",of:"of"}},f4={[b.AD]:"Andorra",[b.AE]:"United Arab Emirates",[b.AF]:"Afghanistan",[b.AG]:"Antigua and Barbuda",[b.BL]:"Saint Barth\xE9lemy",[b.AI]:"Anguilla",[b.AL]:"Albania",[b.AM]:"Armenia",[b.AO]:"Angola",[b.AR]:"Argentina",[b.AT]:"Austria",[b.AU]:"Australia",[b.AW]:"Aruba",[b.AZ]:"Azerbaijan",[b.BA]:"Bosnia and Herzegovina",[b.BB]:"Barbados",[b.BD]:"Bangladesh",[b.BE]:"Belgium",[b.BF]:"Burkina Faso",[b.BG]:"Bulgaria",[b.BH]:"Bahrain",[b.BI]:"Burundi",[b.BJ]:"Benin",[b.GF]:"Guyana",[b.BM]:"Bermuda",[b.BN]:"Brunei Darussalam",[b.BO]:"Bolivia",[b.BQ]:"Bonaire, Sint Eustatius and Saba",[b.BR]:"Brazil",[b.BS]:"Bahamas",[b.BT]:"Bhutan",[b.BW]:"Botswana",[b.BY]:"Belarus",[b.BZ]:"Belize",[b.CA]:"Canada",[b.CD]:"Dem. Rep. Congo (Kinshasa)",[b.CF]:"Central African Republic",[b.CG]:"Congo (Brazzaville)",[b.CH]:"Switzerland",[b.CI]:"Ivory Coast",[b.CL]:"Chile",[b.CM]:"Cameroon",[b.CN]:"China",[b.CO]:"Colombia",[b.CR]:"Costa Rica",[b.CU]:"Cuba",[b.CV]:"Cape Verde",[b.CW]:"Cura\xE7ao",[b.CY]:"Cyprus",[b.CZ]:"Czech Republic",[b.DE]:"Germany",[b.DJ]:"Djibouti",[b.DK]:"Denmark",[b.DM]:"Dominica",[b.DO]:"Dominican Republic",[b.DZ]:"Algeria",[b.EC]:"Ecuador",[b.EE]:"Estonia",[b.EG]:"Egypt",[b.ER]:"Eritrea",[b.ES]:"Spain",[b.ET]:"Ethiopia",[b.FI]:"Finland",[b.FJ]:"Fiji",[b.FK]:"Falkland Islands",[b.FM]:"F.S. of Micronesia",[b.FR]:"France",[b.GA]:"Gabon",[b.GB]:"United Kingdom",[b.GD]:"Grenada",[b.GE]:"Georgia",[b.GP]:"Guadeloupe",[b.GH]:"Ghana",[b.GI]:"Gibraltar",[b.GL]:"Greenland",[b.GM]:"Gambia",[b.GN]:"Guinea",[b.MF]:"Saint-Martin",[b.GQ]:"Equatorial Guinea",[b.GR]:"Greece",[b.GT]:"Guatemala",[b.GW]:"Guinea-Bissau",[b.GY]:"Guyana",[b.HK]:"Hong Kong",[b.HN]:"Honduras",[b.HR]:"Croatia",[b.HT]:"Haiti",[b.HU]:"Hungary",[b.ID]:"Indonesia",[b.IE]:"Ireland",[b.IL]:"Israel",[b.IN]:"India",[b.IQ]:"Iraq",[b.IR]:"Iran",[b.IS]:"Iceland",[b.IT]:"Italy",[b.JM]:"Jamaica",[b.JO]:"Jordan",[b.JP]:"Japan",[b.KE]:"Kenya",[b.KG]:"Kyrgyzstan",[b.KH]:"Cambodia",[b.KM]:"Comoros",[b.KN]:"Saint Kitts and Nevis",[b.KP]:"Korean PDR",[b.KR]:"Rep. Korea",[b.KW]:"Kuwait",[b.KY]:"Cayman Islands",[b.KZ]:"Kazakhstan",[b.LA]:"Laos",[b.LB]:"Lebanon",[b.LC]:"Saint Lucia",[b.LI]:"Liechtenstein",[b.LK]:"Sri Lanka",[b.LR]:"Liberia",[b.LS]:"Lesotho",[b.LT]:"Lithuania",[b.LU]:"Luxembourg",[b.LV]:"Latvia",[b.LY]:"Libya",[b.MA]:"Morocco",[b.MC]:"Monaco",[b.MD]:"Moldova",[b.ME]:"Montenegro",[b.MQ]:"Martinique",[b.MG]:"Madagascar",[b.MK]:"Rep. of North Macedonia",[b.ML]:"Mali",[b.MM]:"Burma (Myanmar)",[b.MN]:"Mongolia",[b.MO]:"Macau",[b.RE]:"R\xE9union",[b.MR]:"Mauritania",[b.MS]:"Montserrat",[b.MT]:"Malta",[b.MU]:"Mauritius",[b.MV]:"Maldives",[b.MW]:"Malawi",[b.MX]:"Mexico",[b.MY]:"Malaysia",[b.MZ]:"Mozambique",[b.NA]:"Namibia",[b.NC]:"New Caledonia",[b.NE]:"Niger",[b.NG]:"Nigeria",[b.NI]:"Nicaragua",[b.NL]:"Netherlands",[b.NO]:"Norway",[b.NP]:"Nepal",[b.NZ]:"New Zealand",[b.OM]:"Oman",[b.PA]:"Panama",[b.PE]:"Peru",[b.PF]:"French Polynesia (Tahiti)",[b.PG]:"Papua New Guinea",[b.PH]:"Philippines",[b.PK]:"Pakistan",[b.PL]:"Poland",[b.PT]:"Portugal",[b.PW]:"Palau",[b.PY]:"Paraguay",[b.QA]:"Qatar",[b.YT]:"Mayotte",[b.RO]:"Romania",[b.RS]:"Serbia",[b.RU]:"Russia",[b.RW]:"Rwanda",[b.SA]:"Saudi Arabia",[b.SB]:"Solomon Islands",[b.SC]:"Seychelles",[b.SD]:"Sudan",[b.SE]:"Sweden",[b.SG]:"Singapore",[b.SH]:"Saint Helena",[b.SI]:"Slovenia",[b.SK]:"Slovakia",[b.SL]:"Sierra Leone",[b.SM]:"San Marino",[b.SN]:"Senegal",[b.SO]:"Somalia",[b.SR]:"Suriname",[b.ST]:"Sao Tome and Principe",[b.SV]:"El Salvador",[b.SX]:"Sint Maarten",[b.SY]:"Syrian Arab Republic",[b.SZ]:"Swaziland",[b.TC]:"Turks and Caicos",[b.TD]:"Chad",[b.TG]:"Togo",[b.TH]:"Thailand",[b.TJ]:"Tajikistan",[b.TL]:"East Timor",[b.TM]:"Turkmenistan",[b.TN]:"Tunisia",[b.TO]:"Tonga",[b.TR]:"Turkey",[b.TT]:"Trinidad and Tobago",[b.TW]:"Taiwan",[b.TZ]:"Tanzania",[b.UA]:"Ukraine",[b.UG]:"Uganda",[b.US]:"USA",[b.UY]:"Uruguay",[b.UZ]:"Uzbekistan",[b.VC]:"Saint Vincent and the Grenadines",[b.VE]:"Venezuela",[b.VG]:"British Virgin Islands",[b.VN]:"Vietnam",[b.VU]:"Vanuatu",[b.WS]:"Samoa",[b.XK]:"Kosovo",[b.YE]:"Yemen",[b.ZA]:"South Africa",[b.ZM]:"Zambia",[b.ZW]:"Zimbabwe"},p4={months:["January","February","March","April","May","June","July","August","September","October","November","December"],close:"Close",nothingFoundMessage:"Nothing found",defaultErrorMessage:"Value is invalid",spinTexts:["Previous","Next"],shortWeekDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],countries:f4},m4={cancel:"Cancel",done:"Done",more:"More",otherDate:"Other date...",showAll:"Show all",hide:"Hide",mobileCalendarTexts:["Choose day","Choose range","Choose days"],range:["from","to"],countTexts:["Plus","Minus"],time:{"HH:MM":"HH:MM","HH:MM:SS":"HH:MM:SS","HH:MM:SS.MSS":"HH:MM:SS.MSS"},dateTexts:{DMY:"dd.mm.yyyy",MDY:"mm.dd.yyyy",YMD:"yyyy.mm.dd"},digitalInformationUnits:["B","KiB","MiB"],passwordTexts:["Show password","Hide password"],copyTexts:["Copy","Copied"],shortCalendarMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pagination:["Previous page","Next page"],fileTexts:{loadingError:"Upload failed",preview:"Preview",remove:"Remove"},inputFileTexts:{defaultLabelSingle:"or drop\xA0it\xA0here",defaultLabelMultiple:"or drop\xA0them\xA0here",defaultLinkSingle:"Choose a file",defaultLinkMultiple:"Choose files",maxSizeRejectionReason:"File is larger than ",formatRejectionReason:"Wrong file type",drop:"Drop file here",dropMultiple:"Drop files here"},multiSelectTexts:{all:"Select all",none:"Select none"},prompt:{yes:"Yes",no:"No"}},qO=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:"english"},p4),m4),h4),u4),l4),d4);var g4=new k("[TUI_DEFAULT_LANGUAGE]",{factory:()=>qO}),WO=new k("[TUI_LANGUAGE]",{factory:()=>ee(P(g4))}),Hce=new k("[TUI_LANGUAGE_LOADER]"),$ce=new k("[TUI_LANGUAGE_STORAGE_KEY]",{factory:()=>"tuiLanguage"});function Bs(t){return()=>P(WO).pipe(je(e=>rs(e)?e:ee(e)),L(e=>e[t]))}function kp({document:t,innerWidth:e}){return Math.max(t.documentElement.clientWidth||0,e||0)}var Y0='width="',Z0='height="',X0="<svg";function KO(t,e){if(t.includes(`id="${e}"`))return t;let n=t.slice(Math.max(0,t.indexOf(X0))),i=n.slice(0,Math.max(0,n.indexOf(">")));if(!i?.includes(Y0)||!i.includes(Z0))return`${n.replace(X0,`<svg xmlns="http://www.w3.org/2000/svg"><g id="${e}" xmlns="http://www.w3.org/2000/svg"><svg`)}</g></svg>`;let r=i.indexOf(Y0),o=i.indexOf(Z0),s=r+Y0.length,a=o+Z0.length,c=i.slice(s,i.indexOf('"',s)),l=i.slice(a,i.indexOf('"',a));if(!l||!c||c.includes("%")||l.includes("%")||c.includes("em")||l.includes("em"))return n.replace(X0,`<svg id="${e}"`);let h=parseInt(c,10),p=parseInt(l,10);return`<g id="${e}" xmlns="http://www.w3.org/2000/svg"><svg  x="50%" y="50%" width="${h/16}em" height="${p/16}em" overflow="visible" viewBox="0 0 ${h} ${p}"><svg x="${-h/2}" y="${-p/2}">${n}</svg></svg></g>`}var Rl=`?v=${RP}`;var QO=t=>t.includes(".svg#")?t:`#${t}`;var J0={decimalLimit:1/0,decimalSeparator:",",thousandSeparator:xP,zeroPadding:!0,rounding:"truncate",decimal:"not-zero"};var YO="tui-icon-error",eI=["bottom-left","bottom","bottom-right","top-left","top","top-right","left-top","left","left-bottom","right-top","right","right-bottom"];var tI=1.5,v4=2.5;function XO(t,e=!1,n=!1,i=!1,r="m"){let o=r==="s"?0:.25,s=0;return t&&(s+=tI+o),e&&(s+=tI+o),n&&(s+=tI+o),i&&(s+=v4+o),s}function Fp(t){let e=t.endsWith("/")?t:`${t}/`;return n=>n.startsWith("tuiIcon")?`${e}${n}.svg${Rl}#${n}`:QO(n)}function nI(t,e="tui-hints-host"){var n;return!!(!((n=zP(t))===null||n===void 0)&&n.some(i=>!i.closest(e)))}function JO(t){let e=t.trim();return e.startsWith("<")&&e.endsWith(">")}function ex(t,e){return(n,i)=>{let r=n||Object.assign({},i||e);return Object.keys(t).forEach(o=>{r[o]=t[o]}),r}}var ZO={xxs:0,xs:1,s:2,m:3,l:4,xl:5,xxl:6};function tx(t,e="s"){return ZO[t]>ZO[e]}function nx(t,{mobile:e}){return kp(t)<e}var Nl=function(t){return t.Accent="accent",t.Flat="flat",t.Icon="icon",t.Outline="outline",t.Primary="primary",t.Secondary="secondary",t.SecondaryDestructive="secondary-destructive",t.Table="table",t.Textfield="textfield",t.Whiteblock="whiteblock",t.WhiteblockActive="whiteblock-active",t}(Nl||{});var _c=function(t){return t.Active="active",t.Disabled="disabled",t.Hover="hover",t.Readonly="readonly",t}(_c||{});var iI=de(()=>{var t,e,n;return(n=(e=(t=P(Te).defaultView)===null||t===void 0?void 0:t.matchMedia)===null||e===void 0?void 0:e.call(t,"(prefers-reduced-motion: reduce)").matches)!==null&&n!==void 0?n:!1}),y4=300,Hs=de(()=>P(iI)?0:y4),Lp=de(()=>({value:"",params:{duration:P(Hs)}})),vue=de(()=>XM()),_4={check:"tuiIconCheck",close:"tuiIconClose",error:"tuiIconAlertCircle",more:"tuiIconChevronRight"},Vp=We(_4);var yue=new k("[TUI_DATA_LIST_ACCESSOR]");var _ue=new k("[TUI_DATA_LIST_HOST]");var Iue=We(t=>t.isWeekend?"weekend":"weekday"),wue=new k("[TUI_DOCUMENT_OR_SHADOW_ROOT]"),Eue=new k("[TUI_ELEMENT_REF]"),I4=We(W0.Monday),bue=de(Bs("months")),jp=de(Bs("close")),Cue=de(Bs("nothingFoundMessage")),Tue=de(Bs("defaultErrorMessage")),Due=de(Bs("spinTexts")),w4=de(Bs("shortWeekDays")),Up="assets/taiga-ui/icons",rI=We(Up),ix=We({}),rx=de(()=>Fp(P(rI))),oI=We({mobile:768,desktopSmall:1024,desktopLarge:1280}),sI=de(()=>{let t=P(Qe),e=P(oI);return He(t,"resize").pipe(Bn(),ht(null),L(()=>nx(t,e)),wt(),fi(P(we)))}),ox=new k("[TUI_LEGACY_MASK]"),xo=new k("[TUI_MODE]"),E4={info:"tuiIconInfo",success:"tuiIconCheckCircle",error:"tuiIconXCircle",warning:"tuiIconAlertCircle",neutral:"tuiIconInfo"},b4={autoClose:3e3,label:"",status:"info",hasCloseButton:!0,icon:({$implicit:t})=>E4[t],size:"m",hasIcon:!0,defaultAutoCloseTime:3e3},Bp=We(b4);var Sue=We(J0);var Mue=We(ee(Object.assign(Object.assign({},J0),{decimalLimit:NaN}))),Aue=new k("[TUI_OPTION_CONTENT]");var C4=t=>{let e=t.length-1;return[t[e],...t.slice(0,e)]},Pue=de(()=>{let t=P(I4);return P(w4).pipe(L(C4),L(e=>[...e.slice(t),...e.slice(0,t)]))}),Hp=new k("[TUI_SANITIZER]");var Oue=de(()=>{let t=P(Te);return It(He(t,"selectionchange"),He(t,"mouseup"),He(t,"mousedown").pipe(je(()=>He(t,"mousemove").pipe(be(He(t,"mouseup"))))),He(t,"keydown"),He(t,"keyup")).pipe(Bn())}),xue=We({decrement:"tuiIconChevronLeft",increment:"tuiIconChevronRight"}),sx=We(bp),ax=We(Ut),cx=We(Nl.Textfield),aI=new k("[TUI_TEXTFIELD_HOST]");function cI(t){return{provide:aI,useExisting:t}}var ux=We("Taiga"),Rue=new k("[TUI_VALUE_ACCESSOR]"),uI=de(()=>{let t=P(Qe);return{type:"viewport",getClientRect(){return{top:0,left:0,right:t.innerWidth,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}}}});var $e="primary",Zl=Symbol("RouteTitle"),pI=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Tc(t){return new pI(t)}function T4(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function D4(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sr(t[n],e[n]))return!1;return!0}function sr(t,e){let n=t?mI(t):void 0,i=e?mI(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!vx(t[r],e[r]))return!1;return!0}function mI(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function vx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function yx(t){return t.length>0?t[t.length-1]:null}function No(t){return rs(t)?t:yo(t)?ft(Promise.resolve(t)):ee(t)}var S4={exact:Ix,subset:wx},_x={exact:M4,subset:A4,ignored:()=>!0};function lx(t,e,n){return S4[n.paths](t.root,e.root,n.matrixParams)&&_x[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function M4(t,e){return sr(t,e)}function Ix(t,e,n){if(!zs(t.segments,e.segments)||!Gp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!Ix(t.children[i],e.children[i],n))return!1;return!0}function A4(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vx(t[n],e[n]))}function wx(t,e,n){return Ex(t,e,e.segments,n)}function Ex(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!zs(r,n)||e.hasChildren()||!Gp(r,n,i))}else if(t.segments.length===n.length){if(!zs(t.segments,n)||!Gp(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!wx(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!zs(t.segments,r)||!Gp(t.segments,r,i)||!t.children[$e]?!1:Ex(t.children[$e],e,o,i)}}function Gp(t,e,n){return e.every((i,r)=>_x[n](t[r].parameters,i.parameters))}var Ro=class{constructor(e=new ut([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Tc(this.queryParams),this._queryParamMap}toString(){return x4.serialize(this)}},ut=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qp(this)}},$s=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Tc(this.parameters),this._parameterMap}toString(){return Cx(this)}};function P4(t,e){return zs(t,e)&&t.every((n,i)=>sr(n.parameters,e[i].parameters))}function zs(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function O4(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===$e&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==$e&&(n=n.concat(e(r,i)))}),n}var BI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>new Bl,providedIn:"root"});let t=e;return t})(),Bl=class{parse(e){let n=new vI(e);return new Ro(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${kl(e.root,!0)}`,i=k4(e.queryParams),r=typeof e.fragment=="string"?`#${R4(e.fragment)}`:"";return`${n}${i}${r}`}},x4=new Bl;function qp(t){return t.segments.map(e=>Cx(e)).join("/")}function kl(t,e){if(!t.hasChildren())return qp(t);if(e){let n=t.children[$e]?kl(t.children[$e],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==$e&&i.push(`${r}:${kl(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=O4(t,(i,r)=>r===$e?[kl(t.children[$e],!1)]:[`${r}:${kl(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[$e]!=null?`${qp(t)}/${n[0]}`:`${qp(t)}/(${n.join("//")})`}}function bx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $p(t){return bx(t).replace(/%3B/gi,";")}function R4(t){return encodeURI(t)}function gI(t){return bx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wp(t){return decodeURIComponent(t)}function dx(t){return Wp(t.replace(/\+/g,"%20"))}function Cx(t){return`${gI(t.path)}${N4(t.parameters)}`}function N4(t){return Object.entries(t).map(([e,n])=>`;${gI(e)}=${gI(n)}`).join("")}function k4(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${$p(n)}=${$p(r)}`).join("&"):`${$p(n)}=${$p(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var F4=/^[^\/()?;#]+/;function lI(t){let e=t.match(F4);return e?e[0]:""}var L4=/^[^\/()?;=#]+/;function V4(t){let e=t.match(L4);return e?e[0]:""}var j4=/^[^=?&#]+/;function U4(t){let e=t.match(j4);return e?e[0]:""}var B4=/^[^&#]+/;function H4(t){let e=t.match(B4);return e?e[0]:""}var vI=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[$e]=new ut(e,n)),i}parseSegment(){let e=lI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new $s(Wp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=V4(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=lI(this.remaining);r&&(i=r,this.capture(i))}e[Wp(n)]=Wp(i)}parseQueryParam(e){let n=U4(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=H4(this.remaining);s&&(i=s,this.capture(i))}let r=dx(n),o=dx(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=lI(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new B(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=$e);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[$e]:new ut([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function Tx(t){return t.segments.length>0?new ut([],{[$e]:t}):t}function Dx(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=Dx(r);if(i===$e&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new ut(t.segments,e);return $4(n)}function $4(t){if(t.numberOfChildren===1&&t.children[$e]){let e=t.children[$e];return new ut(t.segments.concat(e.segments),e.children)}return t}function Hl(t){return t instanceof Ro}function z4(t,e,n=null,i=null){let r=Sx(t);return Mx(r,e,n,i)}function Sx(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ut(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=Tx(i);return e??r}function Mx(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return dI(r,r,r,n,i);let o=G4(e);if(o.toRoot())return dI(r,r,new ut([],{}),n,i);let s=q4(o,r,t),a=s.processChildren?Vl(s.segmentGroup,s.index,o.commands):Px(s.segmentGroup,s.index,o.commands);return dI(r,s.segmentGroup,a,n,i)}function Kp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $l(t){return typeof t=="object"&&t!=null&&t.outlets}function dI(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=Ax(t,e,n);let a=Tx(Dx(s));return new Ro(a,o,r)}function Ax(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=Ax(o,e,n)}),new ut(t.segments,i)}var Qp=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Kp(i[0]))throw new B(4003,!1);let r=i.find($l);if(r&&r!==yx(i))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function G4(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Qp(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Qp(n,e,i)}var Ec=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function q4(t,e,n){if(t.isAbsolute)return new Ec(e,!0,0);if(!n)return new Ec(e,!1,NaN);if(n.parent===null)return new Ec(n,!0,0);let i=Kp(t.commands[0])?0:1,r=n.segments.length-1+i;return W4(n,r,t.numberOfDoubleDots)}function W4(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new B(4005,!1);r=i.segments.length}return new Ec(i,!1,r-o)}function K4(t){return $l(t[0])?t[0].outlets:{[$e]:t}}function Px(t,e,n){if(t??=new ut([],{}),t.segments.length===0&&t.hasChildren())return Vl(t,e,n);let i=Q4(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new ut(t.segments.slice(0,i.pathIndex),{});return o.children[$e]=new ut(t.segments.slice(i.pathIndex),t.children),Vl(o,0,r)}else return i.match&&r.length===0?new ut(t.segments,{}):i.match&&!t.hasChildren()?yI(t,e,n):i.match?Vl(t,0,r):yI(t,e,n)}function Vl(t,e,n){if(n.length===0)return new ut(t.segments,{});{let i=K4(n),r={};if(Object.keys(i).some(o=>o!==$e)&&t.children[$e]&&t.numberOfChildren===1&&t.children[$e].segments.length===0){let o=Vl(t.children[$e],e,n);return new ut(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Px(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new ut(t.segments,r)}}function Q4(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if($l(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!fx(c,l,s))return o;i+=2}else{if(!fx(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function yI(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if($l(o)){let c=Y4(o.outlets);return new ut(i,c)}if(r===0&&Kp(n[0])){let c=t.segments[e];i.push(new $s(c.path,hx(n[0]))),r++;continue}let s=$l(o)?o.outlets[$e]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Kp(a)?(i.push(new $s(s,hx(a))),r+=2):(i.push(new $s(s,{})),r++)}return new ut(i,{})}function Y4(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=yI(new ut([],{}),0,i))}),e}function hx(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function fx(t,e,n){return t==n.path&&sr(e,n.parameters)}var jl="imperative",vn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(vn||{}),pi=class{constructor(e,n){this.id=e,this.url=n}},zl=class extends pi{constructor(e,n,i="imperative",r=null){super(e,n),this.type=vn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gs=class extends pi{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=vn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ti=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ti||{}),_I=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(_I||{}),Hr=class extends pi{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=vn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qs=class extends pi{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=vn.NavigationSkipped}},Gl=class extends pi{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=vn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yp=class extends pi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=vn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},II=class extends pi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=vn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wI=class extends pi{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=vn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},EI=class extends pi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=vn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bI=class extends pi{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=vn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},CI=class{constructor(e){this.route=e,this.type=vn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},TI=class{constructor(e){this.route=e,this.type=vn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},DI=class{constructor(e){this.snapshot=e,this.type=vn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},SI=class{constructor(e){this.snapshot=e,this.type=vn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},MI=class{constructor(e){this.snapshot=e,this.type=vn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},AI=class{constructor(e){this.snapshot=e,this.type=vn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ql=class{},Dc=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var PI=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new im(this.injector),this.attachRef=null}},im=(()=>{let e=class e{constructor(i){this.parentInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new PI(this.parentInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(X(ci))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=OI(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=OI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=xI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return xI(e,this._root).map(n=>n.value)}};function OI(t,e){if(t===e.value)return e;for(let n of e.children){let i=OI(t,n);if(i)return i}return null}function xI(t,e){if(t===e.value)return[e];for(let n of e.children){let i=xI(t,n);if(i.length)return i.unshift(e),i}return[]}var ei=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function wc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Xp=class extends Zp{constructor(e,n){super(e),this.snapshot=n,HI(this,e)}toString(){return this.snapshot.toString()}};function Ox(t){let e=Z4(t),n=new mt([new $s("",{})]),i=new mt({}),r=new mt({}),o=new mt({}),s=new mt(""),a=new Sc(n,i,o,s,r,$e,t,e.root);return a.snapshot=e.root,new Xp(new ei(a,[]),e)}function Z4(t){let e={},n={},i={},r="",o=new bc([],e,i,r,n,$e,t,null,{});return new em("",new ei(o,[]))}var Sc=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[Zl]))??ee(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Tc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Tc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jp(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Z(Z({},e.params),t.params),data:Z(Z({},e.data),t.data),resolve:Z(Z(Z(Z({},t.data),e.data),r?.data),t._resolvedData)}:i={params:Z({},t.params),data:Z({},t.data),resolve:Z(Z({},t.data),t._resolvedData??{})},r&&Rx(r)&&(i.resolve[Zl]=r.title),i}var bc=class{get title(){return this.data?.[Zl]}constructor(e,n,i,r,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Tc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Tc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},em=class extends Zp{constructor(e,n){super(n),this.url=e,HI(this,n)}toString(){return xx(this._root)}};function HI(t,e){e.value._routerState=t,e.children.forEach(n=>HI(t,n))}function xx(t){let e=t.children.length>0?` { ${t.children.map(xx).join(", ")} } `:"";return`${t.value}${e}`}function hI(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sr(e.params,n.params)||t.paramsSubject.next(n.params),D4(e.url,n.url)||t.urlSubject.next(n.url),sr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function RI(t,e){let n=sr(t.params,e.params)&&P4(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||RI(t.parent,e.parent))}function Rx(t){return typeof t.title=="string"||t.title===null}var $I=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$e,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=P(im),this.location=P(hn),this.changeDetector=P(st),this.inputBinder=P(zI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new NI(i,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=$({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Tn]});let t=e;return t})(),NI=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Sc?this.route:e===im?this.childContexts:this.parent.get(e,n)}},zI=new k("");function X4(t,e,n){let i=Wl(t,e._root,n?n._root:void 0);return new Xp(i,e)}function Wl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=J4(t,e,n);return new ei(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wl(t,a)),s}}let i=e3(e.value),r=e.children.map(o=>Wl(t,o));return new ei(i,r)}}function J4(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Wl(t,i,r);return Wl(t,i)})}function e3(t){return new Sc(new mt(t.url),new mt(t.params),new mt(t.queryParams),new mt(t.fragment),new mt(t.data),t.outlet,t.component,t)}var Kl=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Nx="ngNavigationCancelingError";function tm(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Hl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=kx(!1,ti.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function kx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Nx]=!0,n.cancellationCode=e,n}function t3(t){return Fx(t)&&Hl(t.url)}function Fx(t){return!!t&&t[Nx]}var n3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ye({type:e,selectors:[["ng-component"]],standalone:!0,features:[vo],decls:1,vars:0,template:function(r,o){r&1&&le(0,"router-outlet")},dependencies:[$I],encapsulation:2});let t=e;return t})();function i3(t,e){return t.providers&&!t._injector&&(t._injector=C_(t.providers,e,`Route: ${t.path}`)),t._injector??e}function GI(t){let e=t.children&&t.children.map(GI),n=e?it(Z({},t),{children:e}):Z({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==$e&&(n.component=n3),n}function Bi(t){return t.outlet||$e}function r3(t,e){let n=t.filter(i=>Bi(i)===e);return n.push(...t.filter(i=>Bi(i)!==e)),n}function Xl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var o3=(t,e,n,i)=>L(r=>(new kI(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),kI=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),hI(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=wc(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=wc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=wc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=wc(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new AI(o.value.snapshot))}),e.children.length&&this.forwardEvent(new SI(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(hI(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hI(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Xl(r.snapshot);s.attachRef=null,s.route=r,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},nm=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cc=class{constructor(e,n){this.component=e,this.route=n}};function s3(t,e,n){let i=t._root,r=e?e._root:null;return Fl(i,r,n,[i.value])}function a3(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ac(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!DD(t)?t:e.get(t):i}function Fl(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=wc(e);return t.children.forEach(s=>{c3(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ul(a,n.getContext(s),r)),r}function c3(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=u3(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new nm(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Fl(t,e,a?a.children:null,i,r):Fl(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Cc(a.outlet.component,s))}else s&&Ul(e,a,r),r.canActivateChecks.push(new nm(i)),o.component?Fl(t,null,a?a.children:null,i,r):Fl(t,null,n,i,r);return r}function u3(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!zs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!zs(t.url,e.url)||!sr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RI(t,e)||!sr(t.queryParams,e.queryParams);case"paramsChange":default:return!RI(t,e)}}function Ul(t,e,n){let i=wc(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Ul(s,e.children.getContext(o),n):Ul(s,null,n):Ul(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Cc(e.outlet.component,r)):n.canDeactivateChecks.push(new Cc(null,r)):n.canDeactivateChecks.push(new Cc(null,r))}function Jl(t){return typeof t=="function"}function l3(t){return typeof t=="boolean"}function d3(t){return t&&Jl(t.canLoad)}function h3(t){return t&&Jl(t.canActivate)}function f3(t){return t&&Jl(t.canActivateChild)}function p3(t){return t&&Jl(t.canDeactivate)}function m3(t){return t&&Jl(t.canMatch)}function Lx(t){return t instanceof Er||t?.name==="EmptyError"}var zp=Symbol("INITIAL_VALUE");function Mc(){return je(t=>qi(t.map(e=>e.pipe(Wt(1),ht(zp)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===zp)return zp;if(n===!1||g3(n))return n}return!0}),Je(e=>e!==zp),Wt(1)))}function g3(t){return Hl(t)||t instanceof Kl}function v3(t,e){return Ot(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ee(it(Z({},n),{guardsResult:!0})):y3(s,i,r,t).pipe(Ot(a=>a&&l3(a)?_3(i,o,t,e):ee(a)),L(a=>it(Z({},n),{guardsResult:a})))})}function y3(t,e,n,i){return ft(t).pipe(Ot(r=>C3(r.component,r.route,n,e,i)),Wi(r=>r!==!0,!0))}function _3(t,e,n,i){return ft(e).pipe(Ma(r=>Ei(w3(r.route.parent,i),I3(r.route,i),b3(t,r.path,n),E3(t,r.route,n))),Wi(r=>r!==!0,!0))}function I3(t,e){return t!==null&&e&&e(new MI(t)),ee(!0)}function w3(t,e){return t!==null&&e&&e(new DI(t)),ee(!0)}function E3(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ee(!0);let r=i.map(o=>so(()=>{let s=Xl(e)??n,a=Ac(o,s),c=h3(a)?a.canActivate(e,t):Or(s,()=>a(e,t));return No(c).pipe(Wi())}));return ee(r).pipe(Mc())}function b3(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>a3(s)).filter(s=>s!==null).map(s=>so(()=>{let a=s.guards.map(c=>{let l=Xl(s.node)??n,h=Ac(c,l),p=f3(h)?h.canActivateChild(i,t):Or(l,()=>h(i,t));return No(p).pipe(Wi())});return ee(a).pipe(Mc())}));return ee(o).pipe(Mc())}function C3(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let c=Xl(e)??r,l=Ac(a,c),h=p3(l)?l.canDeactivate(t,e,n,i):Or(c,()=>l(t,e,n,i));return No(h).pipe(Wi())});return ee(s).pipe(Mc())}function T3(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return ee(!0);let o=r.map(s=>{let a=Ac(s,t),c=d3(a)?a.canLoad(e,n):Or(t,()=>a(e,n));return No(c)});return ee(o).pipe(Mc(),Vx(i))}function Vx(t){return ns(gt(e=>{if(typeof e!="boolean")throw tm(t,e)}),L(e=>e===!0))}function D3(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return ee(!0);let o=r.map(s=>{let a=Ac(s,t),c=m3(a)?a.canMatch(e,n):Or(t,()=>a(e,n));return No(c)});return ee(o).pipe(Mc(),Vx(i))}var Ql=class{constructor(e){this.segmentGroup=e||null}},Yl=class extends Error{constructor(e){super(),this.urlTree=e}};function Ic(t){return Da(new Ql(t))}function S3(t){return Da(new B(4e3,!1))}function M3(t){return Da(kx(!1,ti.GuardRejected))}var FI=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ee(i);if(r.numberOfChildren>1||!r.children[$e])return S3(`${e.redirectTo}`);r=r.children[$e]}}applyRedirectCommands(e,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:I,title:S}=r,O=Or(o,()=>a({params:v,data:I,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:m,title:S}));if(O instanceof Ro)throw new Yl(O);n=O}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new Yl(s);return s}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Ro(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new ut(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new B(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},LI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function A3(t,e,n,i,r){let o=qI(t,e,n);return o.matched?(i=i3(e,i),D3(i,e,n,r).pipe(L(s=>s===!0?o:Z({},LI)))):ee(o)}function qI(t,e,n){if(e.path==="**")return P3(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?Z({},LI):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||T4)(n,t,e);if(!r)return Z({},LI);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?Z(Z({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function P3(t){return{matched:!0,parameters:t.length>0?yx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function px(t,e,n,i){return n.length>0&&R3(t,n,i)?{segmentGroup:new ut(e,x3(i,new ut(n,t.children))),slicedSegments:[]}:n.length===0&&N3(t,n,i)?{segmentGroup:new ut(t.segments,O3(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new ut(t.segments,t.children),slicedSegments:n}}function O3(t,e,n,i){let r={};for(let o of n)if(rm(t,e,o)&&!i[Bi(o)]){let s=new ut([],{});r[Bi(o)]=s}return Z(Z({},i),r)}function x3(t,e){let n={};n[$e]=e;for(let i of t)if(i.path===""&&Bi(i)!==$e){let r=new ut([],{});n[Bi(i)]=r}return n}function R3(t,e,n){return n.some(i=>rm(t,e,i)&&Bi(i)!==$e)}function N3(t,e,n){return n.some(i=>rm(t,e,i))}function rm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function k3(t,e,n,i){return Bi(t)!==i&&(i===$e||!rm(e,n,t))?!1:qI(e,t,n).matched}function F3(t,e,n){return e.length===0&&!t.children[n]}var VI=class{};function L3(t,e,n,i,r,o,s="emptyOnly"){return new jI(t,e,n,i,r,s,o).recognize()}var V3=31,jI=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new FI(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=px(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(({children:n,rootSnapshot:i})=>{let r=new ei(i,n),o=new em("",r),s=z4(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new bc([],Object.freeze({}),Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$e,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,$e,n).pipe(L(i=>({children:i,rootSnapshot:n})),bi(i=>{if(i instanceof Yl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ql?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,o):this.processSegment(e,n,i,i.segments,r,!0,o).pipe(L(s=>s instanceof ei?[s]:[]))}processChildren(e,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ft(o).pipe(Ma(s=>{let a=i.children[s],c=r3(n,s);return this.processSegmentGroup(e,c,a,s,r)}),Nu((s,a)=>(s.push(...a),s)),ao(null),pv(),Ot(s=>{if(s===null)return Ic(i);let a=jx(s);return j3(a),ee(a)}))}processSegment(e,n,i,r,o,s,a){return ft(n).pipe(Ma(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,o,s,a).pipe(bi(l=>{if(l instanceof Ql)return ee(null);throw l}))),Wi(c=>!!c),bi(c=>{if(Lx(c))return F3(i,r,o)?ee(new VI):Ic(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,o,s,a,c){return k3(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,c):Ic(r):Ic(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=qI(n,r,o);if(!c)return Ic(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>V3&&(this.allowRedirects=!1));let v=new bc(o,l,Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,mx(r),Bi(r),r.component??r._loadedComponent??null,r,gx(r)),I=Jp(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(I.params),v.data=Object.freeze(I.data);let S=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(r,S).pipe(Ot(O=>this.processSegment(e,i,n,O.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,o,s){let a=A3(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(je(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(je(({routes:l})=>{let h=i._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=c,I=new bc(m,p,Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,mx(i),Bi(i),i.component??i._loadedComponent??null,i,gx(i)),S=Jp(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(S.params),I.data=Object.freeze(S.data);let{segmentGroup:O,slicedSegments:F}=px(n,m,v,l);if(F.length===0&&O.hasChildren())return this.processChildren(h,l,O,I).pipe(L(J=>new ei(I,J)));if(l.length===0&&F.length===0)return ee(new ei(I,[]));let Y=Bi(i)===o;return this.processSegment(h,l,O,F,Y?$e:o,!0,I).pipe(L(J=>new ei(I,J instanceof ei?[J]:[])))}))):Ic(n)))}getChildConfig(e,n,i){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):T3(e,n,i,this.urlSerializer).pipe(Ot(r=>r?this.configLoader.loadChildren(e,n).pipe(gt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):M3(n))):ee({routes:[],injector:e})}};function j3(t){t.sort((e,n)=>e.value.outlet===$e?-1:n.value.outlet===$e?1:e.value.outlet.localeCompare(n.value.outlet))}function U3(t){let e=t.value.routeConfig;return e&&e.path===""}function jx(t){let e=[],n=new Set;for(let i of t){if(!U3(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=jx(i.children);e.push(new ei(i.value,r))}return e.filter(i=>!n.has(i))}function mx(t){return t.data||{}}function gx(t){return t.resolve||{}}function B3(t,e,n,i,r,o){return Ot(s=>L3(t,e,n,i,s.extractedUrl,r,o).pipe(L(({state:a,tree:c})=>it(Z({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function H3(t,e){return Ot(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return ee(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Ux(c))s.add(l);let a=0;return ft(s).pipe(Ma(c=>o.has(c)?$3(c,i,t,e):(c.data=Jp(c,c.parent,t).resolve,ee(void 0))),gt(()=>a++),Aa(1),Ot(c=>a===s.size?ee(n):dt))})}function Ux(t){let e=t.children.map(n=>Ux(n)).flat();return[t,...e]}function $3(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!Rx(r)&&(o[Zl]=r.title),z3(o,t,e,i).pipe(L(s=>(t._resolvedData=s,t.data=Jp(t,t.parent,n).resolve,null)))}function z3(t,e,n,i){let r=mI(t);if(r.length===0)return ee({});let o={};return ft(r).pipe(Ot(s=>G3(t[s],e,n,i).pipe(Wi(),gt(a=>{if(a instanceof Kl)throw tm(new Bl,a);o[s]=a}))),Aa(1),Ou(o),bi(s=>Lx(s)?dt:Da(s)))}function G3(t,e,n,i){let r=Xl(e)??i,o=Ac(t,r),s=o.resolve?o.resolve(e,n):Or(r,()=>o(e,n));return No(s)}function fI(t){return je(e=>{let n=t(e);return n?ft(n).pipe(L(()=>e)):ee(e)})}var Bx=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===$e);return r}getResolvedTitleForRoute(i){return i.data[Zl]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>P(q3),providedIn:"root"});let t=e;return t})(),q3=(()=>{let e=class e extends Bx{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(X(Bf))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WI=new k("",{providedIn:"root",factory:()=>({})}),KI=new k(""),W3=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(M_)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ee(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=No(i.loadComponent()).pipe(L(Hx),gt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),ss(()=>{this.componentLoaders.delete(i)})),o=new Ia(r,()=>new ot).pipe(_a());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=K3(r,this.compiler,i,this.onLoadEndListener).pipe(ss(()=>{this.childrenLoaders.delete(r)})),a=new Ia(s,()=>new ot).pipe(_a());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K3(t,e,n,i){return No(t.loadChildren()).pipe(L(Hx),Ot(r=>r instanceof Yu||Array.isArray(r)?ee(r):ft(e.compileModuleAsync(r))),L(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(KI,[],{optional:!0,self:!0}).flat()),{routes:s.map(GI),injector:o}}))}function Q3(t){return t&&typeof t=="object"&&"default"in t}function Hx(t){return Q3(t)?t.default:t}var QI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>P(Y3),providedIn:"root"});let t=e;return t})(),Y3=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z3=new k("");var X3=new k(""),J3=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=P(W3),this.environmentInjector=P(ci),this.urlSerializer=P(BI),this.rootContexts=P(im),this.location=P(ul),this.inputBindingEnabled=P(zI,{optional:!0})!==null,this.titleStrategy=P(Bx),this.options=P(WI,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(QI),this.createViewTransition=P(Z3,{optional:!0}),this.navigationErrorHandler=P(X3,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let i=o=>this.events.next(new CI(o)),r=o=>this.events.next(new TI(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(it(Z(Z({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new mt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:jl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Je(s=>s.id!==0),L(s=>it(Z({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),je(s=>{let a=!1,c=!1;return ee(s).pipe(je(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ti.SupersededByNewNavigation),dt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?it(Z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new qs(l.id,this.urlSerializer.serialize(l.rawUrl),m,_I.IgnoredSameUrlNavigation)),l.resolve(!1),dt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ee(l).pipe(je(m=>{let v=this.transitions?.getValue();return this.events.next(new zl(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?dt:Promise.resolve(m)}),B3(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),gt(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=it(Z({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Yp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:I,restoredState:S,extras:O}=l,F=new zl(m,this.urlSerializer.serialize(v),I,S);this.events.next(F);let Y=Ox(this.rootComponentType).snapshot;return this.currentTransition=s=it(Z({},l),{targetSnapshot:Y,urlAfterRedirects:v,extras:it(Z({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,ee(s)}else{let m="";return this.events.next(new qs(l.id,this.urlSerializer.serialize(l.extractedUrl),m,_I.IgnoredByUrlHandlingStrategy)),l.resolve(!1),dt}}),gt(l=>{let h=new II(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),L(l=>(this.currentTransition=s=it(Z({},l),{guards:s3(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),v3(this.environmentInjector,l=>this.events.next(l)),gt(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw tm(this.urlSerializer,l.guardsResult);let h=new wI(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Je(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ti.GuardRejected),!1)),fI(l=>{if(l.guards.canActivateChecks.length)return ee(l).pipe(gt(h=>{let p=new EI(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),je(h=>{let p=!1;return ee(h).pipe(H3(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",ti.NoDataFromResolver)}}))}),gt(h=>{let p=new bI(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),fI(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(gt(v=>{p.component=v}),L(()=>{})));for(let v of p.children)m.push(...h(v));return m};return qi(h(l.targetSnapshot.root)).pipe(ao(null),Wt(1))}),fI(()=>this.afterPreactivation()),je(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?ft(p).pipe(L(()=>s)):ee(s)}),L(l=>{let h=X4(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=it(Z({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),gt(()=>{this.events.next(new ql)}),o3(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Wt(1),gt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),be(this.transitionAbortSubject.pipe(gt(l=>{throw l}))),ss(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",ti.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),bi(l=>{if(c=!0,Fx(l))this.events.next(new Hr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),t3(l)?this.events.next(new Dc(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Gl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=Or(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Kl){let{message:m,cancellationCode:v}=tm(this.urlSerializer,p);this.events.next(new Hr(s.id,this.urlSerializer.serialize(s.extractedUrl),m,v)),this.events.next(new Dc(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=i.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return dt}))}))}cancelNavigationTransition(i,r,o){let s=new Hr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eG(t){return t!==jl}var tG=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>P(nG),providedIn:"root"});let t=e;return t})(),UI=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},nG=(()=>{let e=class e extends UI{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ze(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$x=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:()=>P(iG),providedIn:"root"});let t=e;return t})(),iG=(()=>{let e=class e extends $x{constructor(){super(...arguments),this.location=P(ul),this.urlSerializer=P(BI),this.options=P(WI,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(QI),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ro,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ox(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof zl)this.stateMemento=this.createStateMemento();else if(i instanceof qs)this.rawUrlTree=r.initialUrl;else if(i instanceof Yp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof ql?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Hr&&(i.code===ti.GuardRejected||i.code===ti.NoDataFromResolver)?this.restoreHistory(r):i instanceof Gl?this.restoreHistory(r,!0):i instanceof Gs&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=Z(Z({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=Z(Z({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ze(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ll=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ll||{});function rG(t,e){t.events.pipe(Je(n=>n instanceof Gs||n instanceof Hr||n instanceof Gl||n instanceof qs),L(n=>n instanceof Gs||n instanceof qs?Ll.COMPLETE:(n instanceof Hr?n.code===ti.Redirect||n.code===ti.SupersededByNewNavigation:!1)?Ll.REDIRECTING:Ll.FAILED),Je(n=>n!==Ll.REDIRECTING),Wt(1)).subscribe(()=>{e()})}function oG(t){throw t}var sG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zx=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(xf),this.stateManager=P($x),this.options=P(WI,{optional:!0})||{},this.pendingTasks=P(nl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(J3),this.urlSerializer=P(BI),this.location=P(ul),this.urlHandlingStrategy=P(QI),this._events=new ot,this.errorHandler=this.options.errorHandler||oG,this.navigated=!1,this.routeReuseStrategy=P(tG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(KI,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(zI,{optional:!0}),this.eventsSubscription=new jt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Hr&&r.code!==ti.Redirect&&r.code!==ti.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gs)this.navigated=!0;else if(r instanceof Dc){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=Z({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eG(o.source)},a);this.scheduleNavigation(c,jl,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}uG(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=Z({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(GI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,h=l?this.currentUrlTree.fragment:a,p=null;switch(c){case"merge":p=Z(Z({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=o?o.snapshot:this.routerState.snapshot.root;m=Sx(v)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return Mx(m,i,p,h??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Hl(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,jl,null,r)}navigate(i,r={skipLocationChange:!1}){return cG(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=Z({},sG):r===!1?o=Z({},aG):o=r,Hl(i))return lx(this.currentUrlTree,i,o);let s=this.parseUrl(i);return lx(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{c=m,l=v});let p=this.pendingTasks.add();return rG(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cG(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function uG(t){return!(t instanceof ql)&&!(t instanceof Dc)}var lG=new k("");function Gx(t,...e){return po([{provide:KI,multi:!0,useValue:t},[],{provide:Sc,useFactory:dG,deps:[zx]},{provide:S_,multi:!0,useFactory:hG},e.map(n=>n.\u0275providers)])}function dG(t){return t.routerState.root}function hG(){let t=P(Bt);return e=>{let n=t.get(Za);if(e!==n.components[0])return;let i=t.get(zx),r=t.get(fG);t.get(pG)===1&&i.initialNavigation(),t.get(mG,null,Ue.Optional)?.setUpPreloading(),t.get(lG,null,Ue.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var fG=new k("",{factory:()=>new ot}),pG=new k("",{providedIn:"root",factory:()=>1});var mG=new k("");var qx=(()=>{class t extends oe{constructor(n,i,r){super(o=>this.stream$.subscribe(o)),this.media=n,this.ngZone=i,this.size$=r,this.sorted=Object.values(this.media).sort((o,s)=>o-s),this.invert=Object.keys(this.media).reduce((o,s)=>Object.assign(Object.assign({},o),{[this.media[s]]:s}),{}),this.stream$=this.size$.pipe(L(({width:o})=>this.sorted.find(s=>s>o)),L(o=>this.invert[o||this.sorted[this.sorted.length-1]]),wt(),fi(this.ngZone),Ci({bufferSize:1,refCount:!0}))}}return t.\u0275fac=function(n){return new(n||t)(X(oI),X(we),X(U0))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var om=(()=>{class t extends mt{constructor(){super([])}add(n){this.next(this.value.concat(n))}remove(n){this.value.includes(n)&&this.next(this.value.filter(i=>i!==n))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var YI=(()=>{class t extends oe{constructor(n,i,r,o){super(s=>i.pipe(L(()=>n.nativeElement.getBoundingClientRect()),L(a=>o.getPosition(a)),Fi(r),ss(()=>o.getPosition(uc))).subscribe(s))}}return t.\u0275fac=function(n){return new(n||t)(X(se),X(Vi),X(we),X(Br))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})();var sm=(()=>{class t{constructor(n,i,r){this.tuiSanitizer=n,this.sanitizer=i,this.originals={},this.items$=new mt(new Map),this.define(r)}define(n){let{value:i}=this.items$;Object.keys(n).forEach(r=>{this.defineIcon(r,n[r],i)}),this.items$.next(i)}getOriginal(n){return this.originals[n]||null}defineIcon(n,i,r){if(r.has(n))return;let o=this.parseSrc(n,i);o&&(r.set(n,o),this.originals=Object.assign(Object.assign({},this.originals),{[n]:i}))}parseSrc(n,i){return this.sanitize(KO(i,n))}sanitize(n){return this.sanitizer.bypassSecurityTrustHtml((this.tuiSanitizer?this.tuiSanitizer.sanitize(Gn.HTML,n):this.sanitizer.sanitize(Gn.HTML,n))||"")}}return t.\u0275fac=function(n){return new(n||t)(X(Hp,8),X(fl),X(ix))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Wx=(()=>{class t{constructor(n,i){this.win=n,this.isWebkit=i}correct([n,i]){return[this.correctY(n),this.correctX(i)]}correctX(n){var i,r;return this.isWebkit?n+((r=(i=this.win.visualViewport)===null||i===void 0?void 0:i.offsetLeft)!==null&&r!==void 0?r:0):n}correctY(n){var i,r;return this.isWebkit?n+((r=(i=this.win.visualViewport)===null||i===void 0?void 0:i.offsetTop)!==null&&r!==void 0?r:0):n}}return t.\u0275fac=function(n){return new(n||t)(X(Qe),X(uO))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gG(t,e){if(t&1&&le(0,"div",3),t&2){let n=ge().tuiLet;N("innerHTML",n,Ai)}}function vG(t,e){if(t&1){let n=pn();di(),H(0,"svg",4),_e("error",function(){Zt(n);let r=ge(2);return Xt(r.onError())}),le(1,"use"),z()}if(t&2){let n=ge(2);U(),qe("href",n.use,null,"xlink")}}function yG(t,e){if(t&1&&(Jt(0),ie(1,gG,1,1,"div",2)(2,vG,2,1,"ng-template",null,0,Of),en()),t&2){let n=Ds(3),i=ge();U(),N("ngIf",i.isInnerHTML)("ngIfElse",n)}}var _G={tuiIconAttach:"tuiIconPaperclip",tuiIconAttention:"tuiIconAlertCircle",tuiIconBackCircle:"tuiIconArrowLeftCircle",tuiIconCall:"tuiIconPhone",tuiIconCallIn:"tuiIconPhoneIncoming",tuiIconCallOut:"tuiIconPhoneOutgoing",tuiIconCallTransfer:"tuiIconPhoneForwarded",tuiIconCancel:"tuiIconXCircle",tuiIconCancelCircle:"tuiIconSlash",tuiIconCard:"tuiIconCreditCard",tuiIconCards:"tuiIconCreditCard",tuiIconChartBar:"tuiIconBarChart",tuiIconChart:"tuiIconBarChart",tuiIconCheckList:"tuiIconClipboard",tuiIconCloseCircle:"tuiIconXCircle",tuiIconCollapse:"tuiIconMinimize",tuiIconComment:"tuiIconMessageSquare",tuiIconCommentFw:"tuiIconMessageForward",tuiIconCompany:"tuiIconBriefcase",tuiIconDefaultDoc:"tuiIconFile",tuiIconDesktop:"tuiIconMonitor",tuiIconDesktopOff:"tuiIconMonitorOff",tuiIconDislike:"tuiIconThumbsDown",tuiIconDone:"tuiIconCheckCircle",tuiIconDraft:"tuiIconEdit2",tuiIconEyeOpen:"tuiIconEye",tuiIconEyeClosed:"tuiIconEyeOff",tuiIconExpand:"tuiIconMaximize",tuiIconExternal:"tuiIconExternalLink",tuiIconFrame:"tuiIconLayout",tuiIconGeo:"tuiIconMapPin",tuiIconHeartFilled:"tuiIconHeart",tuiIconHide:"tuiIconEyeOff",tuiIconImg:"tuiIconImage",tuiIconInfoCircle:"tuiIconInfo",tuiIconLike:"tuiIconThumbsUp",tuiIconLockOpen:"tuiIconUnlock",tuiIconMobile:"tuiIconSmartphone",tuiIconMoreHor:"tuiIconMoreHorizontal",tuiIconMoreVer:"tuiIconMoreVertical",tuiIconMoreVert:"tuiIconMoreVertical",tuiIconPicture:"tuiIconImage",tuiIconPin:"tuiIconMapPin",tuiIconPrint:"tuiIconPrinter",tuiIconRefresh:"tuiIconRefreshCw",tuiIconRemove:"tuiIconX",tuiIconShow:"tuiIconEye",tuiIconSound:"tuiIconVolume",tuiIconSoundOff:"tuiIconVolumeX",tuiIconStarFilled:"tuiIconStar",tuiIconStop:"tuiIconSquare",tuiIconStructure:"tuiIconGrid",tuiIconTime:"tuiIconClock",tuiIconTooltip:"tuiIconHelpCircle",tuiIconViewList:"tuiIconList",tuiIconWifiOn:"tuiIconWifi"},IG={iconsPlace:Up,path:Fp(Up),srcProcessor:Ut,contentProcessor:bp,deprecated:t=>{let e=t.replace("Large","").replace("Outline",""),n=_G[e];return n?`${e}/(Large|Outline) is deprecated, use ${n}/(Large|Outline) instead`:""}},wG=de(()=>({iconsPlace:P(rI),path:P(rx),deprecated:IG.deprecated,srcProcessor:P(ax),contentProcessor:P(sx)})),EG=new k("[TUI_SVG_SRC_INTERCEPTORS]");var bG="Attempted to use undefined named icon",CG="External icon is missing on the given URL",TG="Failed to load external SVG",ko=(()=>{class t{constructor(n,i,r,o,s,a,c,l,h,p){this.doc=n,this.win=i,this.options=r,this.srcInterceptors=o,this.tuiSanitizer=s,this.svgService=a,this.staticRequestService=c,this.sanitizer=l,this.el=h,this.baseHref=p,this.src$=new wi(1),this.icon="",this.innerHTML$=this.src$.pipe(je(()=>jr(this.icon)?this.isExternal?this.getExternalIcon(this.icon):ee(this.getSafeHtml(this.icon)):ee(this.icon)),ht(""))}set src(n){var i;let r=this.options.deprecated(String(n));this.icon=((i=this.srcInterceptors)!==null&&i!==void 0?i:[]).reduce((o,s)=>s(o,this.options),this.options.srcProcessor(n||"")),this.src$.next()}get src(){return this.icon}get use(){return jr(this.icon)?this.icon.includes(".svg#")?this.icon:this.resolveName(this.icon,this.options.path):""}get isInnerHTML(){return!jr(this.icon)||this.isSrc||this.isExternal||this.isName&&this.isShadowDOM}get isShadowDOM(){return lc(this.el.nativeElement)!==this.doc}get isUse(){return this.use.replace(Rl,"").includes(".svg#")}get isExternal(){return this.isUrl||this.isCrossDomain}get isUrl(){return jr(this.icon)&&this.icon.replace(Rl,"").endsWith(".svg")}get isSrc(){return jr(this.icon)&&JO(this.icon)}get isName(){return!this.isUrl&&!this.isUse&&!this.isSrc}get isCrossDomain(){let{use:n,isUse:i,win:r}=this;return i&&n.startsWith("http")&&!!r.origin&&!n.startsWith(r.origin)}onError(n=CG){let{icon:i}=this,r=new CustomEvent(YO,{bubbles:!0,detail:{message:n,icon:i}});this.el.nativeElement.dispatchEvent(r)}resolveName(n,i){return i(n,this.baseHref)}getSafeHtml(n){return this.isSrc?this.sanitize(n):this.process(n)}process(n){let i=this.svgService.getOriginal(n);return this.isName&&!i&&n&&this.onError(bG),!this.isShadowDOM||!this.isName?"":this.sanitize(i||"")}sanitize(n){return n=this.options.contentProcessor(n),this.tuiSanitizer&&jr(n)?this.sanitizer.bypassSecurityTrustHtml(this.tuiSanitizer.sanitize(Gn.HTML,n)||""):n}getExternalIcon(n){let i=n.includes(".svg")?n:this.use;return this.staticRequestService.request(i).pipe(bi(()=>(this.onError(TG),ee(""))),L(r=>this.sanitize(r.replace("<svg",'<svg focusable="false"'))))}}return t.\u0275fac=function(n){return new(n||t)(_(Te),_(Qe),_(wG),_(EG,8),_(Hp,8),_(sm),_(lO),_(fl),_(se),_(sO))},t.\u0275cmp=ye({type:t,selectors:[["tui-svg"]],inputs:{src:"src"},decls:2,vars:3,consts:[["useTemplate",""],[4,"tuiLet"],["class","t-src",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"t-src",3,"innerHTML"],["focusable","false","height","100%","version","1.1","width","100%",0,"xmlns","xlink","http://www.w3.org/1999/xlink","xmlns","http://www.w3.org/2000/svg",1,"t-svg",3,"error"]],template:function(n,i){n&1&&(ie(0,yG,4,2,"ng-container",1),Mt(1,"async")),n&2&&N("tuiLet",kt(1,1,i.innerHTML$))},dependencies:[Rp,Pt,nn],styles:["[_nghost-%COMP%]{display:inline-flex;vertical-align:middle;flex-shrink:0;align-items:center;justify-content:center;line-height:0;height:1.5rem;width:1.5rem;fill:transparent;stroke:transparent;font-size:1rem}.t-src[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.t-svg[_ngcontent-%COMP%]{overflow:visible}"],changeDetection:0}),Yn([Wn],t.prototype,"resolveName",null),t})(),ar=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,gc]]}),t})();var Oc=(()=>{class t extends Ln{constructor(){super(...arguments),this.mode=null}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiMode",""]],inputs:{mode:[0,"tuiMode","mode"]},features:[Ce]}),t})();var qle={provide:sI,deps:[[new ui,sI],se],useFactory:(t,{nativeElement:e})=>(e["$.class._mobile"]=t,t)},xc={provide:xo,deps:[[new At,Oc],se],useFactory:(t,{nativeElement:e})=>{let n=t?t.change$.pipe(ht(null),L(()=>t.mode)):ee(null);return e["$.data-mode.attr"]=n,n}};var DG=["*"];function SG(t,e){t&1&&le(0,"tui-scroll-controls",2)}var Kx=(()=>{class t{constructor(n,i,r,o){this.cssRef=n,this.el=i,this.userAgent=r,this.isIos=o,this.isLegacy=!this.cssRef.supports("position","sticky")||FP(this.userAgent)&&!this.cssRef.supports("scrollbar-width","none"),this.hidden=!1,this.browserScrollRef=new se(this.el.nativeElement)}get delegated(){return this.browserScrollRef.nativeElement!==this.el.nativeElement}get showScrollbars(){return!this.hidden&&!this.isIos&&(!this.isLegacy||this.delegated)}get showNative(){return this.isLegacy&&!this.hidden&&!this.delegated}onScrollable(n){this.browserScrollRef.nativeElement=n}scrollIntoView(n){var i;if(this.delegated)return;let{nativeElement:r}=this.browserScrollRef,{offsetTop:o,offsetLeft:s}=GP(r,n),{clientHeight:a,clientWidth:c}=r,{offsetHeight:l,offsetWidth:h}=n,p=o+l/2-a/2,m=s+h/2-c/2;(i=r.scrollTo)===null||i===void 0||i.call(r,m,p)}}return t.\u0275fac=function(n){return new(n||t)(_(tO),_(se),_(Ls),_(ji))},t.\u0275cmp=ye({type:t,selectors:[["tui-scrollbar"]],hostVars:2,hostBindings:function(n,i){n&1&&_e("tui-scrollable.stop",function(o){return i.onScrollable(o.detail)})("tui-scroll-into-view.stop",function(o){return i.scrollIntoView(o.detail)}),n&2&&Ge("_legacy",i.showNative)},inputs:{hidden:"hidden"},features:[ne([{provide:Vs,deps:[t],useFactory:({browserScrollRef:e})=>e}])],ngContentSelectors:DG,decls:3,vars:3,consts:[["class","t-bars",4,"ngIf"],[1,"t-content"],[1,"t-bars"]],template:function(n,i){n&1&&(tn(),ie(0,SG,1,0,"tui-scroll-controls",0),H(1,"div",1),Et(2),z()),n&2&&(N("ngIf",i.showScrollbars),U(),Ge("t-content_delegated",i.delegated))},dependencies:[fc,Pt],styles:["[_nghost-%COMP%]{position:relative;display:flex;isolation:isolate;overflow:auto}[_nghost-%COMP%]:not(._legacy){scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar, [_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar-thumb{background:transparent;width:0;height:0}._legacy[_nghost-%COMP%]{overflow:overlay}@media all and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: .001dpcm){._legacy[_nghost-%COMP%]::-webkit-scrollbar, ._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{width:1rem;height:1rem;border-radius:6.25rem;background-clip:padding-box;border:.375rem solid transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar{background-color:transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--tui-clear-hover)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--tui-clear-active)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:active{background-color:var(--tui-text-03)}}.t-content[_ngcontent-%COMP%]{isolation:isolate;flex:1;flex-basis:auto;width:100%;height:-webkit-max-content;height:max-content}.t-content_delegated[_ngcontent-%COMP%]{height:100%}.t-bars[_ngcontent-%COMP%]{color:var(--tui-text-01)}"],changeDetection:0}),t})(),Qx=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,pc]]}),t})();function MG(t){return t.replace(/[a-z][A-Z]/g,e=>`${e[0]}-${e[1].toLowerCase()}`)}var cr=class{supports(e){return e.includes(this.modifier)}addGlobalEventListener(){return()=>{}}unwrap(e){return e.split(".").filter(n=>!this.modifier.includes(n)).join(".")}},AG=(()=>{class t extends cr{constructor(){super(...arguments),this.modifier="$"}addEventListener(n,i){n[i]=n[i]||dt;let r=this.getMethod(n,i),o=this.manager.getZone().onStable,s=Ei(o.pipe(Oa(()=>n[i]===dt)),so(()=>n[i])).subscribe(r);return()=>s.unsubscribe()}getMethod(n,i){let[,r,o,s=""]=i.split(".");return i.endsWith(".attr")?a=>a===null?n.removeAttribute(r):n.setAttribute(r,String(a)):r==="class"?a=>n.classList.toggle(o,!!a):r==="style"?a=>n.style.setProperty(MG(o),`${a}${s}`):a=>n[r]=a}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),PG=new k("[GLOBAL_HANDLER]: Global event target handler",{factory:()=>{let t=P(Te);return e=>e==="body"?t.body:t.defaultView[e]||t.createElement("div")}}),OG=(()=>{class t extends cr{constructor(){super(...arguments),this.handler=P(PG),this.modifier=">"}addEventListener(n,i,r){return this.manager.addEventListener(this.handler(i.split(">")[0]),i.split(">")[1],r)}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),xG=(()=>{class t extends cr{constructor(){super(...arguments),this.modifier="capture.once.passive"}supports(n){return n.includes(".")&&!this.unwrap(n).includes(".")}addEventListener(n,i,r){return n.addEventListener(this.unwrap(i),r,{once:i.includes(".once"),passive:i.includes(".passive"),capture:i.includes(".capture")}),()=>n.removeEventListener(this.unwrap(i),r,i.includes(".capture"))}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),RG=(()=>{class t extends cr{constructor(){super(...arguments),this.modifier=".prevent"}addEventListener(n,i,r){let o=s=>{s.preventDefault(),r(s)};return this.manager.addEventListener(n,this.unwrap(i),o)}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),NG=(()=>{class t extends cr{constructor(){super(...arguments),this.modifier=".self"}addEventListener(n,i,r){let o=s=>{s.target===s.currentTarget&&r(s)};return this.manager.addEventListener(n,this.unwrap(i),o)}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),Yx=(()=>{class t extends cr{constructor(){super(...arguments),this.modifier=".silent"}addEventListener(n,i,r){return t.ngZone=this.manager.getZone(),t.ngZone.runOutsideAngular(()=>this.manager.addEventListener(n,this.unwrap(i),r))}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),kG=(()=>{class t extends cr{constructor(){super(...arguments),this.modifier=".stop"}addEventListener(n,i,r){let o=s=>{s.stopPropagation(),r(s)};return this.manager.addEventListener(n,this.unwrap(i),o)}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),FG=(()=>{class t extends cr{constructor(){super(...arguments),this.modifier=".init"}addEventListener(){return console.warn(".init plugin is no longer necessary as of v3.1.0"),()=>{}}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),LG=[Yx,AG,OG,xG,RG,NG,kG,FG],VG=LG.map(t=>({provide:Xa,multi:!0,useClass:t}));var Zx=(()=>{class t{constructor([n]){console.assert(!(n instanceof Yx)||t.initialized,"EventPluginsModule must come after BrowserModule in imports"),t.initialized=!0}}return t.initialized=!1,t.\u0275fac=function(n){return new(n||t)(X(Xa))},t.\u0275mod=Q({type:t}),t.\u0275inj=K({providers:VG}),t})();var jG=["*"];function UG(t,e){if(t&1&&le(0,"span",1),t&2){let n=e.polymorpheusOutlet;N("innerHTML",n,Ai)}}var BG=de(()=>HG),Jx={direction:"bottom-left",showDelay:500,hideDelay:200,appearance:"",icon:"tuiIconHelpCircle"},$r=We(Jx),eR=t=>({provide:$r,deps:[[new At,Ws],[new At,new ui,$r]],useFactory:ex(t,Jx)}),Ws=(()=>{class t extends Ln{constructor(n){super(),this.options=n,this.direction=this.options.direction,this.appearance=this.options.appearance,this.showDelay=this.options.showDelay,this.hideDelay=this.options.hideDelay,this.icon=this.options.icon}}return t.\u0275fac=function(n){return new(n||t)(_($r,4))},t.\u0275dir=$({type:t,selectors:[["","tuiHintContent",""]],inputs:{content:[0,"tuiHintContent","content"],direction:[0,"tuiHintDirection","direction"],appearance:[0,"tuiHintAppearance","appearance"],showDelay:[0,"tuiHintShowDelay","showDelay"],hideDelay:[0,"tuiHintHideDelay","hideDelay"]},features:[ne([{provide:$r,useExisting:Rt(()=>t)}]),Ce]}),t})(),Rc=(()=>{class t{constructor(n,i,r,o,s){this.el=n,this.component=i,this.hintService=r,this.options=o,this.activeZone=s,this.tuiHintAppearance=null,this.type="hint"}get appearance(){var n;return(n=this.tuiHintAppearance)!==null&&n!==void 0?n:this.options.appearance}ngOnChanges(){this.content||this.toggle(!1)}ngOnDestroy(){this.toggle(!1)}getClientRect(){return this.el.nativeElement.getBoundingClientRect()}toggle(n){n&&this.content?this.hintService.add(this):this.hintService.remove(this)}}return t.\u0275fac=function(n){return new(n||t)(_(se),_(Li),_(om),_($r),_(Op,8))},t.\u0275dir=$({type:t,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{content:[0,"tuiHint","content"],context:[0,"tuiHintContext","context"],tuiHintAppearance:"tuiHintAppearance"},features:[ne([Q0(t),LO(t),{provide:Li,deps:[BG,Pr],useClass:Li}]),Tn]}),t})(),Lo=(()=>{class t extends Po{constructor(n,i,r,o){super(s=>this.stream$.subscribe(s)),this.hovered$=n,this.options=i,this.el=r,this.parent=o,this.visible=!1,this.toggle$=new ot,this.stream$=It(this.toggle$.pipe(je(s=>ee(s).pipe(os(s?0:this.hideDelay))),be(this.hovered$),Pa()),this.hovered$.pipe(je(s=>ee(s).pipe(os(s?this.showDelay:this.hideDelay))),be(this.toggle$),Pa())).pipe(Je(()=>this.enabled),L(s=>s&&(this.el.nativeElement.hasAttribute("tuiHintPointer")||!nI(this.el.nativeElement))),gt(s=>{this.visible=s})),this.showDelay=this.options.showDelay,this.hideDelay=this.options.hideDelay,this.type="hint",this.enabled=!0}toggle(n=!this.visible){var i;this.toggle$.next(n),(i=this.parent)===null||i===void 0||i.toggle(n)}}return t.\u0275fac=function(n){return new(n||t)(_(Us),_($r),_(se),_(t,12))},t.\u0275dir=$({type:t,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{showDelay:[0,"tuiHintShowDelay","showDelay"],hideDelay:[0,"tuiHintHideDelay","hideDelay"]},exportAs:["tuiHintHover"],features:[ne([Np(t),Us]),Ce]}),t})(),XI=(()=>{class t extends Lo{constructor(){super(...arguments),this.currentRect=uc}onMove({clientX:n,clientY:i}){this.currentRect=qP(n,i)}getClientRect(){return this.currentRect}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiHint","","tuiHintPointer",""]],hostBindings:function(n,i){n&1&&_e("mousemove.silent",function(o){return i.onMove(o)})},features:[ne([Q0(t),Np(t)]),Ce]}),t})(),Fo=8,am=22,Qt=0,an=1,ed=(()=>{class t extends Br{constructor(n,i,r,o){super(),this.options=n,this.viewport=i,this.directive=r,this.accessors=o,this.points=eI.reduce((s,a)=>Object.assign(Object.assign({},s),{[a]:[0,0]}),{}),this.direction=this.options.direction,this.type="hint"}getPosition({width:n,height:i}){var r,o;let s=(o=(r=this.accessor)===null||r===void 0?void 0:r.getClientRect())!==null&&o!==void 0?o:uc,a=s.left+s.width/2,c=s.top+s.height/2;if(this.points["top-left"][Qt]=s.top-i-Fo,this.points["top-left"][an]=a-n+am,this.points.top[Qt]=this.points["top-left"][Qt],this.points.top[an]=a-n/2,this.points["top-right"][Qt]=this.points["top-left"][Qt],this.points["top-right"][an]=a-am,this.points["bottom-left"][Qt]=s.bottom+Fo,this.points["bottom-left"][an]=this.points["top-left"][an],this.points.bottom[Qt]=this.points["bottom-left"][Qt],this.points.bottom[an]=this.points.top[an],this.points["bottom-right"][Qt]=this.points["bottom-left"][Qt],this.points["bottom-right"][an]=this.points["top-right"][an],this.points["left-top"][Qt]=c-i+am,this.points["left-top"][an]=s.left-n-Fo,this.points.left[Qt]=c-i/2,this.points.left[an]=this.points["left-top"][an],this.points["left-bottom"][Qt]=c-am,this.points["left-bottom"][an]=this.points["left-top"][an],this.points["right-top"][Qt]=this.points["left-top"][Qt],this.points["right-top"][an]=s.right+Fo,this.points.right[Qt]=this.points.left[Qt],this.points.right[an]=this.points["right-top"][an],this.points["right-bottom"][Qt]=this.points["left-bottom"][Qt],this.points["right-bottom"][an]=this.points["right-top"][an],this.checkPosition(this.points[this.direction],n,i))return this.points[this.direction];let l=eI.find(h=>this.checkPosition(this.points[h],n,i));return this.points[l||this.fallback]}get accessor(){return HO("hint")(this.accessors,this.directive)}get fallback(){return this.points.top[Qt]>this.viewport.getClientRect().bottom-this.points.bottom[Qt]?"top":"bottom"}checkPosition([n,i],r,o){let s=this.viewport.getClientRect();return n>Fo&&i>Fo&&n+o<s.bottom-Fo&&i+r<s.right-Fo}}return t.\u0275fac=function(n){return new(n||t)(_($r),_(uI),_(Rc),_(Oo))},t.\u0275dir=$({type:t,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],inputs:{direction:[0,"tuiHintDirection","direction"]},features:[Ce]}),Yn([Wn],t.prototype,"accessor",null),t})(),Xx=4,HG=(()=>{class t{constructor(n,i,r,o,s,a,c,l,h,p,m,v){var I;this.animation=o,this.pointer=s,this.accessor=a,this.el=c,this.polymorpheus=l,this.hover=h,this.mode=p,this.vvs=m,this.viewport=v,this.appearance=this.polymorpheus.$implicit.appearance||((I=this.mode)===null||I===void 0?void 0:I.mode),i.pipe(L(S=>this.vvs.correct(S)),be(r)).subscribe(([S,O])=>{this.update(S,O)}),n.pipe(be(r)).subscribe(S=>this.hover.toggle(S))}get content(){return this.polymorpheus.$implicit.content}get context(){return this.polymorpheus.$implicit.context}onClick(n){(!this.el.nativeElement.contains(n)&&!this.hover.el.nativeElement.contains(n)||nI(this.hover.el.nativeElement))&&this.hover.toggle(!1)}update(n,i){let{height:r,width:o}=this.el.nativeElement.getBoundingClientRect(),{style:s}=this.el.nativeElement,a=this.accessor.getClientRect(),c=this.viewport.getClientRect();if(a===uc)return;let l=gn(i,Xx,c.width-o-Xx),[h,p]=this.vvs.correct([a.top+a.height/2-n,a.left+a.width/2-l]);s.top=ki(n),s.left=ki(l),s.setProperty("--top",ki(gn(h,.5,r-1))),s.setProperty("--left",ki(gn(p,.5,o-1)))}}return t.\u0275fac=function(n){return new(n||t)(_(Us),_(YI),_(Se,2),_(Lp),_(XI,8),_(Oo),_(se),_(Ur),_(Lo),_(Oc,8),_(Wx),_(uI))},t.\u0275cmp=ye({type:t,selectors:[["tui-hint"]],hostVars:4,hostBindings:function(n,i){n&1&&_e("click",function(o){return i.onClick(o.target)},!1,If),n&2&&(Cs("@tuiFadeIn",i.animation),qe("data-appearance",i.appearance),Ge("_untouchable",i.pointer))},features:[ne([Se,YI,Us,UO("hint",ed),BO("hint",Rc)])],ngContentSelectors:jG,decls:2,vars:2,consts:[[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(n,i){n&1&&(tn(),Et(0),ie(1,UG,1,1,"span",0)),n&2&&(U(),N("polymorpheusOutlet",i.content)("polymorpheusOutletContext",i.context))},dependencies:[Kt],styles:['[_nghost-%COMP%]{position:absolute;max-width:18rem;min-height:var(--tui-height-m);padding:.75rem 1rem;background:var(--tui-primary);border-radius:var(--tui-radius-l);color:var(--tui-primary-text);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;word-wrap:break-word}[_nghost-%COMP%]:before{content:"";position:absolute;top:var(--top);left:var(--left);width:.5rem;height:.5rem;border-radius:.125rem;box-sizing:border-box;background:inherit;transform:translate(-50%,-50%) rotate(45deg)}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-error-fill)}[data-appearance=onDark][_nghost-%COMP%]{background:var(--tui-elevation-02);color:var(--tui-text-01);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*="top"]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}'],data:{animation:[yc]},changeDetection:0}),Yn([Wn],t.prototype,"update",null),t})(),tR=(()=>{class t extends Po{constructor(n,i,r){super(o=>this.stream$.subscribe(o)),this.zone=n,this.doc=i,this.el=r,this.id$=new wi(1),this.stream$=this.id$.pipe(ZP(()=>He(this.doc,"keydown",{capture:!0}),To),je(()=>this.focused?ee(!1):It(He(this.doc,"keyup"),He(this.element,"blur")).pipe(L(()=>this.focused))),hv(o=>o?Yt(1e3):ee(null)),ht(!1),wt(),ku(1),fi(this.zone)),this.tuiHintDescribe="",this.type="hint"}ngOnChanges(){this.id$.next(this.tuiHintDescribe)}get focused(){return Mo(this.element)}get element(){return this.doc.getElementById(this.tuiHintDescribe||"")||this.el.nativeElement}}return t.\u0275fac=function(n){return new(n||t)(_(we),_(Te),_(se))},t.\u0275dir=$({type:t,selectors:[["","tuiHintDescribe",""]],inputs:{tuiHintDescribe:"tuiHintDescribe"},features:[ne([Np(t)]),Ce,Tn]}),Yn([Wn],t.prototype,"element",null),t})(),cm=(()=>{class t extends VO{constructor(n,i,r){super(n,i,r),this.type="hint"}}return t.\u0275fac=function(n){return new(n||t)(_(Se,2),_(Po),_(vc))},t.\u0275dir=$({type:t,selectors:[["","tuiHint","",5,"ng-container",5,"ng-template"]],features:[ne([Se]),Ce]}),t})();var um=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,bt]]}),t})();var nR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var JI=class{constructor(e,n,i,r,o,s,a,c,l,h,p,m,v){this.change$=e,this.options=n,this.legacyAppearance=i,this.appearanceDirective=r,this.cleanerDirective=o,this.customContentDirective=s,this.iconDirective=a,this.iconLeftDirective=c,this.labelOutsideDirective=l,this.sizeDirective=h,this.prefixDirective=p,this.postfixDirective=m,this.fillerDirective=v}get appearance(){return this.appearanceDirective.appearance||this.legacyAppearance}get cleaner(){return this.cleanerDirective.cleaner}get customContent(){return this.customContentDirective.customContent||""}get icon(){return this.iconDirective.icon}get iconLeft(){return this.iconLeftDirective.iconLeft}get labelOutside(){return this.labelOutsideDirective.labelOutside}get size(){return this.sizeDirective.size}get prefix(){return this.prefixDirective.prefix}get postfix(){return this.postfixDirective.postfix}get filler(){return this.fillerDirective.filler}},iR={iconCleaner:"tuiIconClose",hintOnDisabled:!1},rR=We(iR);var oR=de(()=>new zG),zG=(()=>{class t extends Ln{constructor(){super(...arguments),this.appearance=""}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldAppearance",""]],inputs:{appearance:[0,"tuiTextfieldAppearance","appearance"]},features:[ne([{provide:oR,useExisting:Rt(()=>t)}]),Ce]}),t})(),sR=de(()=>new GG),GG=(()=>{class t extends Ln{constructor(){super(...arguments),this.cleaner=!1}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldCleaner",""]],inputs:{cleaner:[0,"tuiTextfieldCleaner","cleaner"]},features:[ne([{provide:sR,useExisting:Rt(()=>t)}]),Ce]}),t})(),aR=de(()=>new qG),qG=(()=>{class t extends Ln{}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldCustomContent",""]],inputs:{customContent:[0,"tuiTextfieldCustomContent","customContent"]},features:[ne([{provide:aR,useExisting:Rt(()=>t)}]),Ce]}),t})(),cR=de(()=>new WG),WG=(()=>{class t extends Ln{constructor(){super(...arguments),this.filler=""}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldFiller",""]],inputs:{filler:[0,"tuiTextfieldFiller","filler"]},features:[ne([{provide:cR,useExisting:Rt(()=>t)}]),Ce]}),t})(),uR=de(()=>new KG),KG=(()=>{class t extends Ln{}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldIcon",""]],inputs:{icon:[0,"tuiTextfieldIcon","icon"]},features:[ne([{provide:uR,useExisting:Rt(()=>t)}]),Ce]}),t})(),lR=de(()=>new QG),QG=(()=>{class t extends Ln{}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldIconLeft",""]],inputs:{iconLeft:[0,"tuiTextfieldIconLeft","iconLeft"]},features:[ne([{provide:lR,useExisting:Rt(()=>t)}]),Ce]}),t})(),dR=de(()=>new YG),YG=(()=>{class t extends Ln{constructor(){super(...arguments),this.labelOutside=!1}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldLabelOutside",""]],inputs:{labelOutside:[0,"tuiTextfieldLabelOutside","labelOutside"]},features:[ne([{provide:dR,useExisting:Rt(()=>t)}]),Ce]}),t})(),hR=de(()=>new ZG),ZG=(()=>{class t extends Ln{constructor(){super(...arguments),this.postfix=""}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldPostfix",""]],inputs:{postfix:[0,"tuiTextfieldPostfix","postfix"]},features:[ne([{provide:hR,useExisting:Rt(()=>t)}]),Ce]}),t})(),fR=de(()=>new XG),XG=(()=>{class t extends Ln{constructor(){super(...arguments),this.prefix=""}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldPrefix",""]],inputs:{prefix:[0,"tuiTextfieldPrefix","prefix"]},features:[ne([{provide:fR,useExisting:Rt(()=>t)}]),Ce]}),t})(),pR=de(()=>new JG),JG=(()=>{class t extends Ln{constructor(){super(...arguments),this.size="l"}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["","tuiTextfieldSize",""]],inputs:{size:[0,"tuiTextfieldSize","size"]},features:[ne([{provide:pR,useExisting:Rt(()=>t)}]),Ce]}),t})();var td=new k("[TUI_TEXTFIELD_WATCHED_CONTROLLER]"),lm=[Se,{provide:td,deps:[st,Se,rR,cx,oR,sR,aR,uR,lR,dR,pR,fR,hR,cR],useFactory:(t,e,n,i,...r)=>{let o=It(...r.map(({change$:s})=>s||lv)).pipe(Tp(t),be(e));return o.subscribe(),new JI(o,n,i,...r)}}];var Nc=(()=>{class t{constructor(n){this.mode$=n,this.disabled=!1,this.readOnly=!1,this.hover=null,this.active=null,this.focus=!1,this.invalid=!1,this.appearance=""}get computedInvalid(){return!this.disabled&&!this.readOnly&&this.invalid}get computedFocused(){return this.focus&&!this.disabled}get interactiveState(){return this.disabled?_c.Disabled:this.readOnly?_c.Readonly:this.active?_c.Active:this.hover?_c.Hover:null}get noHover(){return this.readOnly||this.hover===!1}get noActive(){return this.readOnly||this.active===!1}}return t.\u0275fac=function(n){return new(n||t)(_(xo))},t.\u0275dir=$({type:t,selectors:[["","tuiWrapper",""]],hostVars:10,hostBindings:function(n,i){n&1&&_e("$.data-mode.attr",function(){return i.mode$}),n&2&&(qe("data-appearance",i.appearance)("data-state",i.interactiveState),Ge("_invalid",i.computedInvalid)("_focused",i.computedFocused)("_no-hover",i.noHover)("_no-active",i.noActive))},inputs:{disabled:"disabled",readOnly:"readOnly",hover:"hover",active:"active",focus:"focus",invalid:"invalid",appearance:"appearance"},features:[ne([xc])]}),t})(),Vo=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({}),t})();var e5=["*"];function t5(t,e){if(t&1&&(Jt(0),yt(1),en()),t&2){let n=e.polymorpheusOutlet;U(),xi(" ",n," ")}}function n5(t,e){if(t&1&&(H(0,"div",6),ie(1,t5,2,1,"ng-container",7),z()),t&2){let n=ge(2);Ge("t-text_horizontal",n.isHorizontal),U(),N("polymorpheusOutlet",n.textContent)}}function i5(t,e){if(t&1&&(H(0,"div",2),di(),H(1,"svg",3),le(2,"circle",4),z(),ie(3,n5,2,3,"div",5),z()),t&2){let n=ge();Ge("t-loader_horizontal",n.isHorizontal)("t-loader_inherit-color",n.inheritColor),qe("data-size",n.size),U(3),N("ngIf",n.hasText)}}var r5={size:"m",inheritColor:!1,overlay:!1},o5=We(r5);var gR=(()=>{class t{constructor(n,i,r,o){this.doc=n,this.el=i,this.isIos=r,this.options=o,this.size=this.options.size,this.inheritColor=this.options.inheritColor,this.overlay=this.options.overlay,this.loading=!0,this.isApple=LP(this.el.nativeElement)||this.isIos}set showLoader(n){n&&this.focused&&Ep(this.doc),this.loading=n}get hasOverlay(){return this.overlay&&this.loading}get hasText(){return!!this.textContent}get isHorizontal(){return!tx(this.size)}get focused(){return N0(this.el.nativeElement)}}return t.\u0275fac=function(n){return new(n||t)(_(Te),_(se),_(ji),_(o5))},t.\u0275cmp=ye({type:t,selectors:[["tui-loader"]],hostVars:2,hostBindings:function(n,i){n&2&&Ge("_loading",i.loading)},inputs:{size:"size",inheritColor:"inheritColor",overlay:"overlay",textContent:"textContent",showLoader:"showLoader"},ngContentSelectors:e5,decls:3,vars:7,consts:[[1,"t-content",3,"disabled"],["class","t-loader",3,"t-loader_horizontal","t-loader_inherit-color",4,"ngIf"],[1,"t-loader"],["automation-id","tui-loader__loader","focusable","false","viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg",1,"t-icon"],["cx","50","cy","50","r","50","stroke-dasharray","314",1,"t-circle"],["automation-id","tui-loader__text","class","t-text",3,"t-text_horizontal",4,"ngIf"],["automation-id","tui-loader__text",1,"t-text"],[4,"polymorpheusOutlet"]],template:function(n,i){n&1&&(tn(),H(0,"fieldset",0),Et(1),z(),ie(2,i5,4,6,"div",1)),n&2&&(Ge("t-content_has-overlay",i.hasOverlay)("t-content_loading",i.loading),N("disabled",i.loading&&!i.isApple),qe("inert",i.loading||null),U(2),N("ngIf",i.loading))},dependencies:[Pt,Kt],styles:["@keyframes _ngcontent-%COMP%_tuiLoaderDashOffset{0%{stroke-dashoffset:-66}50%{stroke-dashoffset:-314}to{stroke-dashoffset:-66}}@keyframes _ngcontent-%COMP%_tuiLoaderRotate{0%{transform:rotate(0)}50%{transform:rotate(1turn)}to{transform:rotate(3turn)}}[_nghost-%COMP%]{position:relative;display:flex;min-width:1.5rem}._loading[_nghost-%COMP%]{overflow:hidden}.t-content[_ngcontent-%COMP%]{z-index:0;min-width:100%;height:100%;padding:0;margin:0;border:none}.t-content_has-overlay[_ngcontent-%COMP%]{opacity:.3}.t-content_loading[_ngcontent-%COMP%]{pointer-events:none}.t-loader[_ngcontent-%COMP%]{position:relative;left:-100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:100%;flex-shrink:0;align-self:center;color:var(--tui-text-01);stroke:var(--tui-primary);animation:tuiFadeIn var(--tui-duration)}.t-loader.t-loader_horizontal[_ngcontent-%COMP%]{flex-direction:row}.t-loader.t-loader_inherit-color[_ngcontent-%COMP%]{color:inherit;stroke:currentColor}.t-loader[data-size=xs][_ngcontent-%COMP%]{font-size:.75rem;stroke-width:38}.t-loader[data-size=s][_ngcontent-%COMP%]{font-size:1rem;stroke-width:25}.t-loader[data-size=m][_ngcontent-%COMP%]{font-size:1.5rem;stroke-width:17}.t-loader[data-size=l][_ngcontent-%COMP%]{font-size:2.5rem;stroke-width:15}.t-loader[data-size=xl][_ngcontent-%COMP%]{font-size:3.5rem;stroke-width:14}.t-loader[data-size=xxl][_ngcontent-%COMP%]{font-size:5rem;stroke-width:10}.t-text[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:1rem;color:inherit;max-width:100%;text-align:center;stroke-width:0}.t-text_horizontal[_ngcontent-%COMP%]{margin:0 0 0 1rem}.t-icon[_ngcontent-%COMP%]{display:block;min-width:1em;max-width:1em;min-height:1em;max-height:1em;margin:.25rem -.5em;border-radius:100%;overflow:hidden;transform:scaleY(-1);animation:_ngcontent-%COMP%_tuiLoaderRotate 3s linear infinite}@supports (-webkit-hyphens: none){.t-icon[_ngcontent-%COMP%]{overflow:visible}}.t-circle[_ngcontent-%COMP%]{fill:none;stroke:inherit;stroke-width:inherit;animation:_ngcontent-%COMP%_tuiLoaderDashOffset 3s linear infinite}"],changeDetection:0}),t})(),vR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,bt]]}),t})();var a5=["tuiButton",""],c5=["*"];function u5(t,e){t&1&&Sn(0)}function l5(t,e){if(t&1&&le(0,"tui-svg",8),t&2){let n=e.polymorpheusOutlet;N("src",n)}}function d5(t,e){if(t&1&&(H(0,"span",6),ie(1,l5,1,1,"tui-svg",7),z()),t&2){let n=ge();U(),N("polymorpheusOutlet",n.icon)}}function h5(t,e){if(t&1&&le(0,"tui-svg",8),t&2){let n=e.polymorpheusOutlet;N("src",n)}}function f5(t,e){if(t&1&&(H(0,"span",9),ie(1,h5,1,1,"tui-svg",7),z()),t&2){let n=ge();U(),N("polymorpheusOutlet",n.iconRight)}}function p5(t,e){if(t&1&&le(0,"tui-loader",10),t&2){let n=ge();N("inheritColor",!0)("size",n.loaderSize)}}var m5={size:"l",shape:null,appearance:Nl.Primary},g5=We(m5);var kc=(()=>{class t extends Sp{constructor(n,i,r){var o;super(),this.mode=n,this.el=i,this.options=r,this.mode$=((o=this.mode)===null||o===void 0?void 0:o.change$)||dt,this.appearance=null,this.disabled=!1,this.shape=this.options.shape,this.showLoader=!1,this.size=this.options.size,this.appearance$=this.mode$.pipe(ht(null),L(()=>this.computedAppearance),wt())}get nativeFocusableElement(){return this.nativeDisabled?null:this.el.nativeElement}get focused(){return!this.showLoader&&Mo(this.el.nativeElement)}get loaderSize(){return this.size==="l"||this.size==="xl"?"m":"s"}get computedAppearance(){var n;return(n=this.appearance)!==null&&n!==void 0?n:this.options.appearance||""}get nativeDisabled(){return this.computedDisabled||this.showLoader?"":null}get tabIndex(){return this.focusable?0:-1}onFocused(n){this.updateFocused(n)}}return t.\u0275fac=function(n){return new(n||t)(_(Oc,8),_(se),_(g5))},t.\u0275cmp=ye({type:t,selectors:[["button","tuiButton",""],["button","tuiIconButton",""],["a","tuiButton",""],["a","tuiIconButton",""]],hostVars:7,hostBindings:function(n,i){n&1&&_e("focusin",function(){return i.onFocused(!0)})("focusout",function(){return i.onFocused(!1)}),n&2&&(Oi("tabIndex",i.tabIndex),qe("data-shape",i.shape)("data-size",i.size)("data-appearance",i.computedAppearance)("disabled",i.nativeDisabled),Ge("_loading",i.showLoader))},inputs:{appearance:"appearance",disabled:"disabled",icon:"icon",iconRight:"iconRight",shape:"shape",showLoader:"showLoader",size:"size"},features:[ne([xl(t),Se]),Ce],attrs:a5,ngContentSelectors:c5,decls:8,vars:10,consts:[[4,"ngIf"],["tuiWrapper","",1,"t-wrapper",3,"active","appearance","disabled","hover"],[1,"t-content"],["class","t-left",4,"ngIf"],["class","t-right",4,"ngIf"],["class","t-loader",3,"inheritColor","size",4,"ngIf"],[1,"t-left"],["class","t-icon",3,"src",4,"polymorpheusOutlet"],[1,"t-icon",3,"src"],[1,"t-right"],[1,"t-loader",3,"inheritColor","size"]],template:function(n,i){n&1&&(tn(),ie(0,u5,1,0,"ng-container",0),Mt(1,"async"),H(2,"div",1)(3,"span",2),ie(4,d5,2,1,"span",3),Et(5),ie(6,f5,2,1,"span",4),z(),ie(7,p5,1,2,"tui-loader",5),z()),n&2&&(N("ngIf",kt(1,8,i.appearance$)),U(2),N("active",i.pseudoActive)("appearance",i.computedAppearance)("disabled",i.computedDisabled)("hover",i.pseudoHover),U(2),N("ngIf",i.icon),U(2),N("ngIf",i.iconRight),U(),N("ngIf",i.showLoader))},dependencies:[ko,gR,Pt,Nc,Kt,nn],styles:["[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:inline-block;flex-shrink:0;vertical-align:top;border-radius:var(--tui-radius-m);-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;color:inherit}[data-shape=rounded][_nghost-%COMP%]{border-radius:6.25rem}[data-size=xs][_nghost-%COMP%]{height:var(--tui-height-xs);font-weight:normal}[data-size=xs][data-shape=square][_nghost-%COMP%], [data-size=xs][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-xs)}[data-size=s][_nghost-%COMP%]{height:var(--tui-height-s);font-weight:normal}[data-size=s][data-shape=square][_nghost-%COMP%], [data-size=s][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-s)}[data-size=m][_nghost-%COMP%]{height:var(--tui-height-m);font:var(--tui-font-text-m);font-weight:bold}[data-size=m][data-shape=square][_nghost-%COMP%], [data-size=m][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]{height:var(--tui-height-l);font:var(--tui-font-text-m);font-weight:bold}[data-size=l][data-shape=square][_nghost-%COMP%], [data-size=l][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-l)}[data-size=xl][_nghost-%COMP%]{height:3.75rem;font:var(--tui-font-text-m);font-weight:bold}[data-size=xl][data-shape=square][_nghost-%COMP%], [data-size=xl][tuiIconButton][_nghost-%COMP%]{width:3.75rem}[tuiIconButton][_nghost-%COMP%]{font-size:0!important}[tuiIconButton][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0!important}.t-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;cursor:default}.t-left[_ngcontent-%COMP%]{margin-right:.5rem}[data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%]{margin-right:.375rem}[data-size=xs][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%]{margin-right:.25rem}.t-right[_ngcontent-%COMP%]{margin:0 -.25rem 0 .25rem}[data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0 -.25rem 0 .375rem}[data-size=xs][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0 -.125rem 0 .25rem}.t-icon[_ngcontent-%COMP%]{display:flex;max-width:100%;max-height:100%;align-items:center;justify-content:center}.t-left[_ngcontent-%COMP%], .t-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem}[data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%], [data-size=xs][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [data-size=xs][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{width:1rem;height:1rem}[tuiIconButton][data-appearance=icon][data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][data-appearance=icon][data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%], [tuiIconButton][data-appearance=link][data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][data-appearance=link][data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.t-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;isolation:isolate}[data-size=xs][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, .375rem)}[data-size=xs][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-width:1px}[data-size=s][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, .75rem)}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, 1.5rem)}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, 2.25rem)}[data-size=xl][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, 2.5rem)}[data-shape=square][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0}.t-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center;text-align:center}._loading[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{opacity:0}"],changeDetection:0}),t})(),Fc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,bt,Vo,ar,vR]]}),t})();var v5=["*"],y5=t=>({$implicit:t});function _5(t,e){if(t&1&&le(0,"tui-svg",5),t&2){let n=e.polymorpheusOutlet;N("src",n)}}function I5(t,e){if(t&1&&(Jt(0),ie(1,_5,1,1,"tui-svg",4),en()),t&2){let n=ge();U(),N("polymorpheusOutlet",n.icon)("polymorpheusOutletContext",Ri(2,y5,n.status))}}function w5(t,e){if(t&1){let n=pn();H(0,"button",6),Mt(1,"async"),_e("click",function(){Zt(n);let r=ge();return Xt(r.close.emit())}),z()}if(t&2){let n=ge();N("icon",n.icons.close)("title",kt(1,2,n.closeWord$))}}var _R=(()=>{class t{constructor(n,i,r){this.closeWord$=n,this.icons=i,this.options=r,this.hasIcon=this.options.hasIcon,this.icon=this.options.icon,this.status=this.options.status,this.size=this.options.size,this.hideClose=!1,this.close=new rt}get hasClose(){return!this.hideClose&&XP(this.close)}}return t.\u0275fac=function(n){return new(n||t)(_(jp),_(Vp),_(Bp))},t.\u0275cmp=ye({type:t,selectors:[["tui-notification"],["a","tuiNotification",""],["button","tuiNotification",""]],hostVars:2,hostBindings:function(n,i){n&2&&qe("data-status",i.status)("data-size",i.size)},inputs:{hasIcon:"hasIcon",icon:"icon",status:"status",size:"size",hideClose:"hideClose"},outputs:{close:"close"},ngContentSelectors:v5,decls:5,vars:3,consts:[[4,"ngIf"],[1,"t-content"],["appearance","icon","automation-id","tui-notification__close","size","xs","tuiIconButton","","type","button","class","t-close",3,"icon","title","click",4,"ngIf"],["automation-id","tui-notification__more",1,"t-more",3,"src"],["automation-id","tui-notification__icon","class","t-icon",3,"src",4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-notification__icon",1,"t-icon",3,"src"],["appearance","icon","automation-id","tui-notification__close","size","xs","tuiIconButton","","type","button",1,"t-close",3,"click","icon","title"]],template:function(n,i){n&1&&(tn(),ie(0,I5,2,4,"ng-container",0),H(1,"div",1),Et(2),z(),ie(3,w5,2,4,"button",2),le(4,"tui-svg",3)),n&2&&(N("ngIf",i.icon&&i.hasIcon),U(3),N("ngIf",i.hasClose),U(),N("src",i.icons.more))},dependencies:[ko,kc,Pt,Kt,nn],styles:["[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:flex;padding:.75rem 1rem;border-radius:var(--tui-radius-m);background:#fff;background:var(--tui-base-01);box-sizing:border-box;overflow:hidden;text-align:left}[_nghost-%COMP%]   .t-more[_ngcontent-%COMP%]{display:none}button[_nghost-%COMP%], a[_nghost-%COMP%]{border:none;cursor:pointer}button[_nghost-%COMP%]   .t-more[_ngcontent-%COMP%], a[_nghost-%COMP%]   .t-more[_ngcontent-%COMP%]{display:inline-flex;color:var(--tui-text-01);opacity:.5}[data-size=s][_nghost-%COMP%]{padding:.375rem .625rem}[data-size=s][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{width:1rem;height:1.25rem;margin:0 .375rem 0 -.125rem}[data-size=s][_nghost-%COMP%]   .t-close[_ngcontent-%COMP%]{margin:-.125rem -.375rem -.125rem .75rem}[data-size=s][_nghost-%COMP%]   .t-more[_ngcontent-%COMP%]{margin:-.125rem -.375rem -.125rem 0}[data-size=m][_nghost-%COMP%]{padding:.75rem}[data-size=m][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;margin-right:.5rem}[data-size=m][_nghost-%COMP%]   .t-close[_ngcontent-%COMP%]{margin:-.125rem -.125rem -.125rem 1rem}[data-size=m][_nghost-%COMP%]   .t-more[_ngcontent-%COMP%]{margin:-.125rem -.375rem -.125rem 0}[data-size=l][_nghost-%COMP%]{padding:1rem;font:var(--tui-font-text-m);border-radius:var(--tui-radius-l)}[data-size=l][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;margin-right:.5rem}[data-size=l][_nghost-%COMP%]   .t-more[_ngcontent-%COMP%]{margin-right:-.5rem}[data-status=info][_nghost-%COMP%]{color:var(--tui-info-fill);background:linear-gradient(var(--tui-info-bg),var(--tui-info-bg)),var(--tui-base-01)}[data-status=success][_nghost-%COMP%]{color:var(--tui-success-fill);background:linear-gradient(var(--tui-success-bg),var(--tui-success-bg)),var(--tui-base-01)}[data-status=error][_nghost-%COMP%]{color:var(--tui-error-fill);background:linear-gradient(var(--tui-error-bg),var(--tui-error-bg)),var(--tui-base-01)}[data-status=warning][_nghost-%COMP%]{color:var(--tui-warning-fill);background:linear-gradient(var(--tui-warning-bg),var(--tui-warning-bg)),var(--tui-base-01)}[data-status=neutral][_nghost-%COMP%]{color:var(--tui-neutral-fill);background:linear-gradient(var(--tui-neutral-bg),var(--tui-neutral-bg)),var(--tui-base-01)}.t-content[_ngcontent-%COMP%]{flex:1;word-break:break-word;color:var(--tui-text-01);text-align:inherit;align-self:center}"],changeDetection:0}),t})(),IR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,ar,Fc,bt]]}),t})();function C5(t,e){if(t&1&&(Jt(0),yt(1),en()),t&2){let n=e.polymorpheusOutlet;U(),xi(" ",n," ")}}function T5(t,e){if(t&1&&(H(0,"label",4),ie(1,C5,2,1,"ng-container",5),z()),t&2){let n=ge();U(),N("polymorpheusOutlet",n.item.label)("polymorpheusOutletContext",n.item)}}function D5(t,e){if(t&1&&le(0,"div",6),t&2){let n=e.polymorpheusOutlet;N("innerHTML",n,Ai)}}var S5=de(()=>P(Ui)?"1rem 1rem 0 auto":"2rem 3rem 0 auto"),M5=(()=>{class t{constructor(n,i,r,o,s){this.el=n,this.destroy$=i,this.position=r,this.options=o,this.item=s,this.autoClose=typeof this.item.autoClose=="function"?this.item.autoClose(this.item.status):this.item.autoClose,this.animation=this.position.endsWith("auto")?Object.assign(Object.assign({},this.options),{value:"right"}):Object.assign(Object.assign({},this.options),{value:"left"})}ngOnInit(){this.initAutoClose()}close(){this.item.$implicit.complete()}initAutoClose(){this.autoClose&&Yt($P(this.autoClose)?this.autoClose:3e3).pipe(be(si(this.el.nativeElement,"mouseenter")),Ru(()=>si(this.el.nativeElement,"mouseleave")),be(this.destroy$)).subscribe(()=>this.close())}}return t.\u0275fac=function(n){return new(n||t)(_(se),_(Se,2),_(S5),_(Lp),_(Ur))},t.\u0275cmp=ye({type:t,selectors:[["tui-alert"]],hostAttrs:["role","alert"],hostVars:5,hostBindings:function(n,i){n&2&&(Cs("@tuiFadeIn",i.options)("@tuiSlideIn",i.animation)("@tuiHeightCollapse",i.animation),fn("margin",i.position))},features:[ne([Se])],decls:4,vars:7,consts:[[3,"close","hasIcon","hideClose","icon","status"],["automation-id","tui-notification-alert__heading","class","t-heading",4,"ngIf"],["automation-id","tui-notification-alert__content",1,"t-content"],[3,"innerHTML",4,"polymorpheusOutlet","polymorpheusOutletContext"],["automation-id","tui-notification-alert__heading",1,"t-heading"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[3,"innerHTML"]],template:function(n,i){n&1&&(H(0,"tui-notification",0),_e("close",function(){return i.close()}),ie(1,T5,2,2,"label",1),H(2,"div",2),ie(3,D5,1,1,"div",3),z()()),n&2&&(N("hasIcon",i.item.hasIcon)("hideClose",!i.item.hasCloseButton)("icon",i.item.icon)("status",i.item.status),U(),N("ngIf",i.item.label),U(2),N("polymorpheusOutlet",i.item.content)("polymorpheusOutletContext",i.item))},dependencies:[_R,Pt,Kt],styles:["[_nghost-%COMP%]{display:block;box-shadow:var(--tui-shadow-dropdown);border-radius:var(--tui-radius-l);width:18rem}[_nghost-%COMP%]:not(:first-child){margin-top:.75rem!important}[_nghost-%COMP%]:not(:last-child){margin-bottom:0!important}.t-heading[_ngcontent-%COMP%]{margin:0}[data-size=s][_ngcontent-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-s);font-weight:bold}[data-size=m][_ngcontent-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem;font-weight:bold}[data-size=l][_ngcontent-%COMP%]   .t-heading[_ngcontent-%COMP%]{font:var(--tui-font-text-l);line-height:1.5rem;font-weight:bold}.t-content[_ngcontent-%COMP%]{color:var(--tui-text-01);word-wrap:break-word;word-break:break-word}.t-content[_ngcontent-%COMP%]:empty{display:none}"],data:{animation:[yc,zO,$O]},changeDetection:0}),t})(),ew=(()=>{class t extends Mp{constructor(n,i){super(i),this.defaultOptions=n,this.component=new Li(M5)}}return t.\u0275fac=function(n){return new(n||t)(X(Bp),X(Ao))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var dm=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({providers:[oO(ew)],imports:[[Ne,bt,IR]]}),t})();function A5(t,e){if(t&1&&(Jt(0),yt(1),en()),t&2){let n=e.polymorpheusOutlet;U(),xi(" ",n," ")}}function P5(t,e){if(t&1&&(H(0,"header",6),ie(1,A5,2,1,"ng-container",3),z()),t&2){let n=ge();U(),N("polymorpheusOutlet",n.header)("polymorpheusOutletContext",n.context)}}function O5(t,e){if(t&1){let n=pn();Jt(0),le(1,"div",7),H(2,"div",8)(3,"button",9),_e("click",function(){Zt(n);let r=ge();return Xt(r.context.$implicit.complete())}),yt(4),z()(),en()}if(t&2){let n=e.polymorpheusOutlet,i=ge();U(),N("innerHTML",n,Ai),U(3),xi(" ",(i.context.data==null?null:i.context.data.button)||"OK"," ")}}function x5(t,e){if(t&1){let n=pn();H(0,"div",10)(1,"button",11),Mt(2,"async"),_e("click",function(){Zt(n);let r=ge();return Xt(r.close$.next())})("mousedown.prevent.silent",function(){return Zt(n),Xt(0)}),z()()}if(t&2){let n=ge();U(),N("appearance",n.fullscreen?"secondary":"")("icon",n.icons.close)("title",kt(2,3,n.closeWord$))}}var R5={size:"m",required:!1,closeable:!0,dismissible:!0,label:"",header:""},N5=We(dt),k5=We(R5);var F5=17,wR=(()=>{class t extends oe{constructor(n,i,r){super(o=>It(this.esc$,this.mousedown$).subscribe(o)),this.win=n,this.doc=i,this.el=r,this.esc$=He(this.doc,"keydown").pipe(Je(o=>{let s=So(o);return o.key==="Escape"&&!o.defaultPrevented&&(this.element.contains(s)||this.isOutside(s))})),this.mousedown$=He(this.doc,"mousedown").pipe(Je(o=>kp(this.win)-o.clientX>F5&&this.isOutside(So(o))),je(()=>He(this.doc,"mouseup").pipe(Wt(1),L(So),Je(o=>this.isOutside(o)))))}get element(){return this.el.nativeElement}isOutside(n){return Fs(n)&&(!Ip(this.element,n)||n===this.element)}}return t.\u0275fac=function(n){return new(n||t)(X(Qe),X(Te),X(se))},t.\u0275prov=q({token:t,factory:t.\u0275fac}),t})(),L5=new Error("Required dialog was dismissed");function ER(t){return rs(t)?t:ee(t)}var V5=(()=>{class t{constructor(n,i,r,o,s,a,c,l){this.duration=n,this.isMobile=i,this.context=r,this.closeWord$=c,this.icons=l,this.animation={value:"",params:{start:"40px",duration:this.duration}},this.fullscreenAnimation={value:"",params:{start:"100vh",duration:this.duration}},this.close$=new ot,It(this.close$.pipe(je(()=>ER(r.closeable))),s.pipe(je(()=>ER(r.dismissible))),a.pipe(L(ks))).pipe(Je(Boolean),be(o)).subscribe(()=>{this.close()})}get size(){return this.context.size}get header(){return this.context.header}get slideInTop(){return this.fullscreen||this.isMobile?this.fullscreenAnimation:this.animation}get fullscreen(){return!this.isMobile&&(this.size==="fullscreen"||this.size==="page")}close(){this.context.required?this.context.$implicit.error(L5):this.context.$implicit.complete()}}return t.\u0275fac=function(n){return new(n||t)(_(Hs),_(Ui),_(Ur),_(Se,2),_(wR),_(N5),_(jp),_(Vp))},t.\u0275cmp=ye({type:t,selectors:[["tui-dialog"]],hostVars:6,hostBindings:function(n,i){n&2&&(Cs("@tuiSlideInTop",i.slideInTop)("@tuiFadeIn",i.slideInTop),qe("data-appearance",i.context.appearance)("data-size",i.size),Ge("_centered",i.header))},features:[ne([Se,wR])],decls:7,vars:6,consts:[["class","t-header",4,"ngIf"],[1,"t-content"],[1,"t-heading",3,"id","textContent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"],[1,"t-filler"],["class","t-wrapper",4,"ngIf"],[1,"t-header"],[3,"innerHTML"],[1,"t-buttons"],["size","m","tuiAutoFocus","","tuiButton","","type","button",3,"click"],[1,"t-wrapper"],["automation-id","tui-dialog__close","shape","rounded","size","s","tuiIconButton","","type","button",1,"t-close",3,"click","mousedown.prevent.silent","appearance","icon","title"]],template:function(n,i){n&1&&(ie(0,P5,2,2,"header",0),H(1,"div",1),le(2,"h2",2),H(3,"section"),ie(4,O5,5,2,"ng-container",3),z()(),le(5,"div",4),ie(6,x5,3,5,"div",5)),n&2&&(N("ngIf",i.header),U(2),N("id",i.context.id)("textContent",i.context.label),U(2),N("polymorpheusOutlet",i.context.content)("polymorpheusOutletContext",i.context),U(2),N("ngIf",i.context.closeable))},dependencies:[kc,Pt,Kt,wO,nn],styles:['[_nghost-%COMP%]{position:relative;display:flex;font:var(--tui-font-text-m);flex-direction:column;box-sizing:border-box;margin:auto;border-radius:1rem;border:2.5rem solid transparent}[_nghost-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border-radius:inherit;pointer-events:none;box-shadow:var(--tui-shadow-modal)}[data-size=auto][_nghost-%COMP%]{width:auto}[data-size=s][_nghost-%COMP%]{width:30rem}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1.5rem}[data-size=s][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:.5rem;font:var(--tui-font-heading-5)}[data-size=m][_nghost-%COMP%]{width:42.5rem}[data-size=m][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:.75rem;font:var(--tui-font-heading-4)}[data-size=l][_nghost-%COMP%]{width:55rem}[data-size=l][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:1rem}[data-size=fullscreen][_nghost-%COMP%], [data-size=page][_nghost-%COMP%]{min-width:100vw;min-height:100%;border-radius:0;border:none;background:var(--tui-elevation-01);box-shadow:0 4rem var(--tui-elevation-01)}[data-size=fullscreen][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:3rem calc(50vw - (45rem / 2))}[data-size=fullscreen][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:1rem}[data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0}._centered[_nghost-%COMP%]{text-align:center}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]{min-width:100%;width:100%;max-width:100%;border-radius:0;border:none;margin:auto 0 0}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1.5rem}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:.5rem;font:var(--tui-font-heading-5)}.t-heading[_ngcontent-%COMP%]{margin:0;word-wrap:break-word;font:var(--tui-font-heading-3)}.t-heading[_ngcontent-%COMP%]:empty{display:none}.t-header[_ngcontent-%COMP%]{display:flex;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden}[data-size=fullscreen][_nghost-%COMP%]   tui-root._mobile[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{flex:1}.t-content[_ngcontent-%COMP%]{border-radius:inherit;padding:2rem;background:var(--tui-elevation-01)}.t-content[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.t-wrapper[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1;order:-1}.t-filler[_ngcontent-%COMP%]{flex-grow:1}.t-close[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:fixed;top:1.5rem;right:1.5rem;display:none;color:var(--tui-base-01)}.t-dialog:last-of-type[_nghost-%COMP%]   .t-close[_ngcontent-%COMP%], .t-dialog:last-of-type   [_nghost-%COMP%]   .t-close[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]:not([data-size="fullscreen"]):not([data-size="page"])   .t-close[_ngcontent-%COMP%]{animation:tuiFadeIn var(--tui-duration);background:rgba(104,104,104,.96)}[_nghost-%COMP%]:not([data-size="fullscreen"]):not([data-size="page"])   .t-close[_ngcontent-%COMP%]:hover{background:rgba(159,159,159,.86)}[_nghost-%COMP%]:not([data-size="fullscreen"]).ng-animating   .t-close[_ngcontent-%COMP%]{display:none}tui-root._mobile[_nghost-%COMP%]   .t-close[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:transparent!important;color:var(--tui-text-01);opacity:.5}.t-buttons[_ngcontent-%COMP%]{margin-top:1.25rem;text-align:right}'],data:{animation:[GO,yc]}}),t})(),j5=new Li(V5),U5=(()=>{class t extends Mp{constructor(){super(...arguments),this.component=j5,this.defaultOptions=Object.assign(Object.assign({},P(k5)),{data:void 0})}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var bR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({providers:[aO(U5)],imports:[[bt,Fc,Ne,EO]]}),t})();var B5=t=>({$implicit:t});function H5(t,e){t&1&&Sn(0)}function $5(t,e){if(t&1&&(H(0,"div",1),ie(1,H5,1,0,"ng-container",2),z()),t&2){let n=e.$implicit;N("@tuiParentAnimation",void 0)("tuiActiveZoneParent",n.activeZone||null),U(),N("polymorpheusOutlet",n.component)("polymorpheusOutletContext",Ri(4,B5,n))}}var CR=(()=>{class t{constructor(n,i,r){this.hints$=n,this.destroy$=i,this.cdr=r,this.hints=[]}ngOnInit(){this.hints$.pipe(be(this.destroy$)).subscribe(n=>{this.hints=n,this.cdr.detectChanges()})}}return t.\u0275fac=function(n){return new(n||t)(_(om),_(Se,2),_(st))},t.\u0275cmp=ye({type:t,selectors:[["tui-hints-host"]],hostAttrs:["aria-live","polite"],features:[ne([Se])],decls:1,vars:1,consts:[["role","tooltip",3,"tuiActiveZoneParent",4,"ngFor","ngForOf"],["role","tooltip",3,"tuiActiveZoneParent"],[4,"polymorpheusOutlet","polymorpheusOutletContext"]],template:function(n,i){n&1&&ie(0,$5,2,6,"div",0),n&2&&N("ngForOf",i.hints)},dependencies:[_o,Op,Kt],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;height:0}"],data:{animation:[Sl]}}),t})(),TR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,bt,yO]]}),t})();function G5(t,e){if(t&1&&le(0,"tui-svg",3),t&2){let n=e.polymorpheusOutlet;N("src",n)}}var DR=(()=>{class t extends Ws{constructor(n,i,r,o){super(r),this.isMobile=o,this.mode=null,this.describeId="",i.pipe(be(n)).subscribe(s=>{this.mode=s})}get computedAppearance(){return this.appearance||this.mode||""}stopOnMobile(n){var i;this.isMobile&&(n.preventDefault(),n.stopPropagation()),(i=this.driver$)===null||i===void 0||i.toggle()}}return t.\u0275fac=function(n){return new(n||t)(_(Se,2),_(xo),_($r),_(Ui))},t.\u0275cmp=ye({type:t,selectors:[["tui-tooltip"]],viewQuery:function(n,i){if(n&1&&Ts(Lo,5),n&2){let r;tr(r=nr())&&(i.driver$=r.first)}},hostVars:1,hostBindings:function(n,i){n&1&&_e("mousedown",function(o){return i.stopOnMobile(o)}),n&2&&qe("data-appearance",i.computedAppearance)},inputs:{content:"content",direction:"direction",appearance:"appearance",showDelay:"showDelay",hideDelay:"hideDelay",describeId:"describeId",context:"context"},features:[ne([Se,xc]),Ce],decls:4,vars:11,consts:[["driver","tuiHintHover"],["appearance","icon","automation-id","tui-tooltip__icon","tuiWrapper","",1,"t-tooltip-icon",3,"hover","tuiHint","tuiHintAppearance","tuiHintContext","tuiHintDescribe","tuiHintDirection","tuiHintHideDelay","tuiHintShowDelay"],[3,"src",4,"polymorpheusOutlet"],[3,"src"]],template:function(n,i){if(n&1&&(H(0,"span",1,0),Mt(2,"async"),ie(3,G5,1,1,"tui-svg",2),z()),n&2){let r=Ds(1);N("hover",kt(2,9,r)||null)("tuiHint",i.content)("tuiHintAppearance",i.computedAppearance)("tuiHintContext",i.context)("tuiHintDescribe",i.describeId)("tuiHintDirection",i.direction)("tuiHintHideDelay",i.hideDelay)("tuiHintShowDelay",i.showDelay),U(3),N("polymorpheusOutlet",i.icon)}},dependencies:[ko,Nc,Rc,cm,Lo,ed,tR,Kt,nn],styles:['[_nghost-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:inline-block;width:1.5rem;height:1.5rem;vertical-align:middle;font-size:0;line-height:0;pointer-events:auto;cursor:pointer;color:var(--tui-text-01)}[data-appearance=error][_nghost-%COMP%]{color:var(--tui-error-fill)}.t-tooltip-icon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;color:inherit}[tuiWrapper][data-appearance="textfield"][data-state="disabled"][_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%], [tuiWrapper][data-appearance="textfield"][data-state="disabled"]   [_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%]{opacity:1}'],changeDetection:0}),t})(),hm=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,Vo,ar,um,bt]]}),t})();var q5=["tuiTextfield",""];var SR={s:1.25,m:1.75,l:2.25};var MR=(()=>{class t{constructor(n,i,r,o,s){this.host=n,this.controller=i,this.el=r,this.idService=o,this.legacyMask=s,this.host.process(this.el.nativeElement)}get id(){return this.el.nativeElement.id||this.idService.generate()}get inputMode(){let n=this.el.nativeElement.inputMode||this.host.inputMode;return n==="text"?null:n}}return t.\u0275fac=function(n){return new(n||t)(_(aI),_(td),_(se),_(Ao),_(ox,8))},t.\u0275cmp=ye({type:t,selectors:[["input","tuiTextfield",""],["textarea","tuiTextfield",""]],hostAttrs:["type","text"],hostVars:7,hostBindings:function(n,i){n&1&&_e("input",function(o){return!i.legacyMask&&i.host.onValueChange(o.target.value)}),n&2&&(Oi("tabIndex",i.host.focusable?0:-1)("readOnly",i.host.readOnly)("value",i.host.value),qe("id",i.id)("inputMode",i.inputMode)("aria-invalid",i.host.invalid)("disabled",i.host.disabled||null))},features:[ne([lm])],attrs:q5,decls:0,vars:0,template:function(n,i){},styles:['[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);text-indent:var(--text-indent);text-align:inherit;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit;resize:none}[_nghost-%COMP%]:-webkit-autofill, [_nghost-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}@supports (-webkit-touch-callout: none){[_nghost-%COMP%]:active{font-size:1rem}}[inputMode=none][_nghost-%COMP%]{caret-color:transparent}[_nghost-%COMP%]:-webkit-autofill, [_nghost-%COMP%]:-webkit-autofill:first-line{font-size:inherit;line-height:inherit}[_nghost-%COMP%]::-webkit-caps-lock-indicator, [_nghost-%COMP%]::-webkit-contacts-auto-fill-button, [_nghost-%COMP%]::-webkit-credit-card-auto-fill-button, [_nghost-%COMP%]::-webkit-credentials-auto-fill-button, [_nghost-%COMP%]::-webkit-strong-password-auto-fill-button{content:none!important;position:absolute;left:-62.4375rem;top:-62.4375rem;z-index:-999;display:none!important;background:transparent!important;pointer-events:none!important}[_nghost-%COMP%]::placeholder{color:var(--tui-text-03);opacity:0}._focused[_nghost-%COMP%]:not(._readonly)   [_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)   [_nghost-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)   [_nghost-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)   [_nghost-%COMP%]::placeholder{opacity:1}[tuiWrapper][data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill, [_nghost-%COMP%]   [tuiWrapper][data-mode="onDark"][_nghost-%COMP%]:-webkit-autofill, [tuiWrapper][data-mode="onDark"]   [_nghost-%COMP%]:-webkit-autofill, [tuiWrapper][data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]   [tuiWrapper][data-mode="onDark"][_nghost-%COMP%]:-webkit-autofill:hover, [tuiWrapper][data-mode="onDark"]   [_nghost-%COMP%]:-webkit-autofill:hover, [tuiWrapper][data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill:focus, [_nghost-%COMP%]   [tuiWrapper][data-mode="onDark"][_nghost-%COMP%]:-webkit-autofill:focus, [tuiWrapper][data-mode="onDark"]   [_nghost-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01-night)!important;border-color:var(--tui-autofill-night);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill-night) inset!important}[tuiWrapper][data-mode=onDark]   [_nghost-%COMP%]::placeholder, [_nghost-%COMP%]   [tuiWrapper][data-mode="onDark"][_nghost-%COMP%]::placeholder, [tuiWrapper][data-mode="onDark"]   [_nghost-%COMP%]::placeholder{color:var(--tui-text-03-night)}[data-size=s][_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="s"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="s"]   [_nghost-%COMP%]:not(tui-primitive-textfield), [_nghost-%COMP%]   tui-textarea[data-size="s"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="s"]   [_nghost-%COMP%]:not(tui-textarea), [_nghost-%COMP%]   tui-text-area[data-size="s"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="s"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="m"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]   [_nghost-%COMP%]:not(tui-primitive-textfield), [_nghost-%COMP%]   tui-textarea[data-size="m"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="m"]   [_nghost-%COMP%]:not(tui-textarea), [_nghost-%COMP%]   tui-text-area[data-size="m"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="m"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="l"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]   [_nghost-%COMP%]:not(tui-primitive-textfield), [_nghost-%COMP%]   tui-textarea[data-size="l"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size="l"]   [_nghost-%COMP%]:not(tui-textarea), [_nghost-%COMP%]   tui-text-area[data-size="l"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size="l"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-l)}._disabled[_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield._disabled[_nghost-%COMP%], tui-primitive-textfield._disabled   [_nghost-%COMP%], [_nghost-%COMP%]   tui-textarea._disabled[_nghost-%COMP%], tui-textarea._disabled   [_nghost-%COMP%], [_nghost-%COMP%]   tui-text-area._disabled[_nghost-%COMP%], tui-text-area._disabled   [_nghost-%COMP%]{pointer-events:none}[data-size=l][_nghost-%COMP%]:not(._label-outside)   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="l"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="l"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size="m"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size="m"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   -shadowcsshost{padding-top:1.25rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   [_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.8156rem;transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]:not(._label-outside)   [_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.69rem;transform:translateY(-.5rem)}._hidden[_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   tui-primitive-textfield._hidden[_nghost-%COMP%], tui-primitive-textfield._hidden   [_nghost-%COMP%]{opacity:0;text-indent:-10em;-webkit-user-select:none}textarea[_nghost-%COMP%]{white-space:pre-wrap}textarea[_nghost-%COMP%]   tui-textarea._ios[_nghost-%COMP%], tui-textarea._ios   [_nghost-%COMP%], textarea[_nghost-%COMP%]   tui-text-area._ios[_nghost-%COMP%], tui-text-area._ios   [_nghost-%COMP%]{padding-left:.8125rem}'],changeDetection:0}),t})(),AR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,ac,bt,nR,xp,Vo,ar,hm,bO]]}),t})();function W5(t,e){if(t&1&&(di(),le(0,"defs",4)),t&2){let n=e.$implicit;N("innerHTML",n,Ai)}}function K5(t,e){if(t&1&&(di(),Jt(0),ie(1,W5,1,1,"defs",3),en()),t&2){let n=ge();U(),N("ngForOf",n.items)}}function Q5(t,e){if(t&1&&(di(),H(0,"defs"),le(1,"svg",6),z()),t&2){let n=e.$implicit;U(),N("outerHTML",n,Ai)}}function Y5(t,e){if(t&1&&ie(0,Q5,2,1,"defs",5),t&2){let n=ge();N("ngForOf",n.items)}}var PR=(()=>{class t{constructor(n,i,r,o){this.svgService=n,this.cdr=i,this.destroy$=r,this.isBrowser=!0,this.isBrowser=!Ms(o)}ngOnInit(){this.svgService.items$.pipe(be(this.destroy$)).subscribe(n=>{this.items=n.values(),this.cdr.detectChanges()})}}return t.\u0275fac=function(n){return new(n||t)(_(sm),_(st),_(Se,2),_(zn))},t.\u0275cmp=ye({type:t,selectors:[["tui-svg-defs-host"]],features:[ne([Se])],decls:4,vars:2,consts:[["server",""],["version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","xmlns","http://www.w3.org/2000/svg"],[4,"ngIf","ngIfElse"],[3,"innerHTML",4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[3,"outerHTML"]],template:function(n,i){if(n&1&&(di(),H(0,"svg",1),ie(1,K5,2,1,"ng-container",2)(2,Y5,1,1,"ng-template",null,0,Of),z()),n&2){let r=Ds(3);U(),N("ngIf",i.isBrowser)("ngIfElse",r)}},dependencies:[Pt,_o],styles:["[_nghost-%COMP%]{display:none}"],changeDetection:0}),t})(),OR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,gc]]}),t})();var X5=["*",[["tuiOverContent"]],[["tuiOverDialogs"]],[["tuiOverAlerts"]],[["tuiOverPortals"]],[["tuiOverHints"]]],J5=["*","tuiOverContent","tuiOverDialogs","tuiOverAlerts","tuiOverPortals","tuiOverHints"];function eq(t,e){t&1&&le(0,"tui-scroll-controls",2)}var xR=(()=>{class t{constructor(n,i,r,o,s,a,c,l,h){var p;this.reducedMotion=n,this.duration=i,this.dialogs=r,this.isMobile=o,this.breakpoint=s,this.isIOS=a,this.isAndroid=c,this.isMobileRes$=this.breakpoint.pipe(L(m=>m==="mobile")),this.scrollbars$=this.dialogs.length&&!this.isMobile?qi([...this.dialogs]).pipe(L(m=>!m.some(({length:v})=>v)),wh(0)):ee(!this.isMobile),(p=l.defaultView)===null||p===void 0||p.document.body.setAttribute("data-tui-theme",h.toLowerCase())}}return t.\u0275fac=function(n){return new(n||t)(_(iI),_(Hs),_(Ol),_(Ui),_(qx),_(ji),_(cO),_(Te),_(ux))},t.\u0275cmp=ye({type:t,selectors:[["tui-root"]],hostAttrs:["data-tui-version","3.80.0"],hostVars:9,hostBindings:function(n,i){n&1&&_e("touchstart.passive.silent",function(){return 0})("$.class._mobile",function(){return i.isMobileRes$}),n&2&&(Oi("$.class._mobile",i.isMobileRes$),fn("--tui-duration",i.duration,"ms"),Ge("_ios",i.isIOS)("_android",i.isAndroid)("_reduced-motion",i.reducedMotion))},ngContentSelectors:J5,decls:14,vars:3,consts:[["class","t-root-scrollbar",4,"ngIf"],[1,"t-root-content"],[1,"t-root-scrollbar"]],template:function(n,i){n&1&&(tn(X5),ie(0,eq,1,0,"tui-scroll-controls",0),Mt(1,"async"),le(2,"tui-svg-defs-host"),H(3,"tui-dropdown-host")(4,"div",1),Et(5),z(),Et(6,1),le(7,"tui-dialog-host"),Et(8,2),le(9,"tui-alert-host"),Et(10,3),z(),Et(11,4),le(12,"tui-hints-host"),Et(13,5)),n&2&&N("ngIf",kt(1,1,i.scrollbars$))},dependencies:[fc,PR,OO,kO,pO,CR,Pt,nn],styles:[`@keyframes tuiPresent{to{content:"1"}}@keyframes tuiSkeletonVibe{to{opacity:.5}}html,.tui-zero-scrollbar{scrollbar-width:none;-ms-overflow-style:none}html::-webkit-scrollbar,.tui-zero-scrollbar::-webkit-scrollbar,html::-webkit-scrollbar-thumb,.tui-zero-scrollbar::-webkit-scrollbar-thumb{display:none}body[data-tui-theme]{font:var(--tui-font-text-s);color:var(--tui-text-01);background:var(--tui-base-01);margin:0}tui-root{position:relative;display:block;flex:1;-webkit-tap-highlight-color:transparent}tui-root>.t-root-scrollbar{position:fixed;top:0;left:0;bottom:0;right:0;display:none;margin:0}[data-tui-theme] tui-root>.t-root-scrollbar{display:block}.t-root-content{height:100%;isolation:isolate;transform:translateY(var(--t-root-top))}[tuiDropdownButton][tuiDropdownButton]{display:none}.t-overscroll-none{overscroll-behavior:none}
`],encapsulation:2}),t})(),Lc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,Zx,xO,OR,TR,FO,mO,pc]]}),t})();var NR=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},tq=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],a=t[n++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,a=s?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;c||(v=64,s||(m=64)),i.push(n[h],n[p],n[m],n[v])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let p=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||a==null||l==null||p==null)throw new nw;let m=o<<2|a>>4;if(i.push(m),l!==64){let v=a<<4&240|l>>2;if(i.push(v),p!==64){let I=l<<6&192|p;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},nw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},nq=function(t){let e=NR(t);return kR.encodeByteArray(e,!0)},nd=function(t){return nq(t).replace(/\./g,"")},rw=function(t){try{return kR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var rq=()=>iq().__FIREBASE_DEFAULTS__,oq=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&rw(t[1]);return e&&JSON.parse(e)},pm=()=>{try{return rq()||oq()||sq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FR=t=>{var e,n;return(n=(e=pm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LR=t=>{let e=FR(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ow=()=>{var t;return(t=pm())===null||t===void 0?void 0:t.config},VR=t=>{var e;return(e=pm())===null||e===void 0?void 0:e[`_${t}`]};var fm=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function jR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nd(JSON.stringify(n)),nd(JSON.stringify(s)),""].join(".")}function ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ni())}function aq(){var t;let e=(t=pm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $R(){return!aq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sw(){try{return typeof indexedDB=="object"}catch{return!1}}function zR(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var cq="FirebaseError",mi=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=cq,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}},zr=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?uq(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new mi(r,a,i)}};function uq(t,e){return t.replace(lq,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var lq=/\{\$([^}]+)}/g;function Vc(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(RR(o)&&RR(s)){if(!Vc(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function RR(t){return t!==null&&typeof t=="object"}function aw(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function GR(t,e){let n=new iw(t,e);return n.subscribe.bind(n)}var iw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");dq(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=tw),r.error===void 0&&(r.error=tw),r.complete===void 0&&(r.complete=tw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function dq(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tw(){}var Upe=4*60*60*1e3;function gi(t){return t&&t._delegate?t._delegate:t}var vi=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ks="[DEFAULT]";var cw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new fm;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fq(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return R(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);i===a&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:hq(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hq(t){return t===Ks?void 0:t}function fq(t){return t.instantiationMode==="EAGER"}var mm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new cw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var pq=[],Ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ye||{}),mq={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},gq=Ye.INFO,vq={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},yq=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=vq[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jo=class{constructor(e){this.name=e,this._logLevel=gq,this._logHandler=yq,this._userLogHandler=null,pq.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};var _q=(t,e)=>e.some(n=>t instanceof n),qR,WR;function Iq(){return qR||(qR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wq(){return WR||(WR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var KR=new WeakMap,lw=new WeakMap,QR=new WeakMap,uw=new WeakMap,hw=new WeakMap;function Eq(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ur(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&KR.set(n,t)}).catch(()=>{}),hw.set(e,t),e}function bq(t){if(lw.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});lw.set(t,e)}var dw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YR(t){dw=t(dw)}function Cq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(gm(this),e,...n);return QR.set(i,e.sort?e.sort():[e]),ur(i)}:wq().includes(t)?function(...e){return t.apply(gm(this),e),ur(KR.get(this))}:function(...e){return ur(t.apply(gm(this),e))}}function Tq(t){return typeof t=="function"?Cq(t):(t instanceof IDBTransaction&&bq(t),_q(t,Iq())?new Proxy(t,dw):t)}function ur(t){if(t instanceof IDBRequest)return Eq(t);if(uw.has(t))return uw.get(t);let e=Tq(t);return e!==t&&(uw.set(t,e),hw.set(e,t)),e}var gm=t=>hw.get(t);function XR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),a=ur(s);return i&&s.addEventListener("upgradeneeded",c=>{i(ur(s.result),c.oldVersion,c.newVersion,ur(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Dq=["get","getKey","getAll","getAllKeys","count"],Sq=["put","add","delete","clear"],fw=new Map;function ZR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fw.get(e))return fw.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=Sq.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Dq.includes(n)))return;let o=function(s,...a){return R(this,null,function*(){let c=this.transaction(s,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return fw.set(e,o),o}YR(t=>it(Z({},t),{get:(e,n,i)=>ZR(e,n)||t.get(e,n,i),has:(e,n)=>!!ZR(e,n)||t.has(e,n)}));var mw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mq(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function Mq(t){let e=t.getComponent();return e?.type==="VERSION"}var gw="@firebase/app",JR="0.10.4";var Qs=new jo("@firebase/app"),Aq="@firebase/app-compat",Pq="@firebase/analytics-compat",Oq="@firebase/analytics",xq="@firebase/app-check-compat",Rq="@firebase/app-check",Nq="@firebase/auth",kq="@firebase/auth-compat",Fq="@firebase/database",Lq="@firebase/database-compat",Vq="@firebase/functions",jq="@firebase/functions-compat",Uq="@firebase/installations",Bq="@firebase/installations-compat",Hq="@firebase/messaging",$q="@firebase/messaging-compat",zq="@firebase/performance",Gq="@firebase/performance-compat",qq="@firebase/remote-config",Wq="@firebase/remote-config-compat",Kq="@firebase/storage",Qq="@firebase/storage-compat",Yq="@firebase/firestore",Zq="@firebase/vertexai-preview",Xq="@firebase/firestore-compat",Jq="firebase",eW="10.12.1";var vw="[DEFAULT]",tW={[gw]:"fire-core",[Aq]:"fire-core-compat",[Oq]:"fire-analytics",[Pq]:"fire-analytics-compat",[Rq]:"fire-app-check",[xq]:"fire-app-check-compat",[Nq]:"fire-auth",[kq]:"fire-auth-compat",[Fq]:"fire-rtdb",[Lq]:"fire-rtdb-compat",[Vq]:"fire-fn",[jq]:"fire-fn-compat",[Uq]:"fire-iid",[Bq]:"fire-iid-compat",[Hq]:"fire-fcm",[$q]:"fire-fcm-compat",[zq]:"fire-perf",[Gq]:"fire-perf-compat",[qq]:"fire-rc",[Wq]:"fire-rc-compat",[Kq]:"fire-gcs",[Qq]:"fire-gcs-compat",[Yq]:"fire-fst",[Xq]:"fire-fst-compat",[Zq]:"fire-vertex","fire-js":"fire-js",[Jq]:"fire-js-all"};var id=new Map,nW=new Map,yw=new Map;function eN(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bo(t){let e=t.name;if(yw.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;yw.set(e,t);for(let n of id.values())eN(n,t);for(let n of nW.values())eN(n,t);return!0}function Ew(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jc(t){return t.settings!==void 0}var iW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uo=new zr("app","Firebase",iW);var _w=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}};var Uc=eW;function bw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:vw,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Uo.create("bad-app-name",{appName:String(r)});if(n||(n=ow()),!n)throw Uo.create("no-options");let o=id.get(r);if(o){if(Vc(n,o.options)&&Vc(i,o.config))return o;throw Uo.create("duplicate-app",{appName:r})}let s=new mm(r);for(let c of yw.values())s.addComponent(c);let a=new _w(n,i,s);return id.set(r,a),a}function od(t=vw){let e=id.get(t);if(!e&&t===vw&&ow())return bw();if(!e)throw Uo.create("no-app",{appName:t});return e}function vm(){return Array.from(id.values())}function un(t,e,n){var i;let r=(i=tW[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${e}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(a.join(" "));return}Bo(new vi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var rW="firebase-heartbeat-database",oW=1,rd="firebase-heartbeat-store",pw=null;function rN(){return pw||(pw=XR(rW,oW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Uo.create("idb-open",{originalErrorMessage:t.message})})),pw}function sW(t){return R(this,null,function*(){try{let n=(yield rN()).transaction(rd),i=yield n.objectStore(rd).get(oN(t));return yield n.done,i}catch(e){if(e instanceof mi)Qs.warn(e.message);else{let n=Uo.create("idb-get",{originalErrorMessage:e?.message});Qs.warn(n.message)}}})}function tN(t,e){return R(this,null,function*(){try{let i=(yield rN()).transaction(rd,"readwrite");yield i.objectStore(rd).put(e,oN(t)),yield i.done}catch(n){if(n instanceof mi)Qs.warn(n.message);else{let i=Uo.create("idb-set",{originalErrorMessage:n?.message});Qs.warn(i.message)}}})}function oN(t){return`${t.name}!${t.options.appId}`}var aW=1024,cW=30*24*60*60*1e3,Iw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ww(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return R(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nN();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=cW}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return R(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=nN(),{heartbeatsToSend:i,unsentEntries:r}=uW(this._heartbeatsCache.heartbeats),o=nd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function nN(){return new Date().toISOString().substring(0,10)}function uW(t,e=aW){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),iN(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),iN(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var ww=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(this,null,function*(){return sw()?zR().then(()=>!0).catch(()=>!1):!1})}read(){return R(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield sW(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return R(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return tN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return R(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return tN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function iN(t){return nd(JSON.stringify({version:2,heartbeats:t})).length}function lW(t){Bo(new vi("platform-logger",e=>new mw(e),"PRIVATE")),Bo(new vi("heartbeat",e=>new Iw(e),"PRIVATE")),un(gw,JR,t),un(gw,JR,"esm2017"),un("fire-js","")}lW("");var dW="firebase",hW="10.12.1";un(dW,hW,"app");var Hc=new Ar("ANGULARFIRE2_VERSION");function Tw(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ad=(t,e)=>{let n=e?[e]:vm(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},sd=class{constructor(){return ad(fW)}},fW="app-check";function Bc(){}var ym=class{zone;delegate;constructor(e,n=av){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},Cw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bc,{},Bc,Bc)),n.pipe(gt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},cd=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ym(Zone.current)),this.insideAngular=n.run(()=>new ym(Zone.current,zi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(X(we))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _m(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function pW(t){return _m().ngZone.runOutsideAngular(()=>t())}function Ys(t){return _m().ngZone.run(()=>t())}function mW(t){return gW(_m())(t)}function gW(t){return function(n){return n=n.lift(new Cw(t.ngZone)),n.pipe(oo(t.outsideAngular),ro(t.insideAngular))}}var vW=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ys(()=>t.apply(void 0,i))},Ho=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Ys(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bc,{},Bc,Bc))),i[o]=vW(i[o],n));let r=pW(()=>t.apply(this,i));if(!e)if(r instanceof oe){let o=_m();return r.pipe(oo(o.outsideAngular),ro(o.insideAngular))}else return Ys(()=>r);return r instanceof oe?r.pipe(mW):r instanceof Promise?Ys(()=>new Promise((o,s)=>r.then(a=>Ys(()=>o(a)),a=>Ys(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Ys(()=>r)};var Zs=class{constructor(e){return e}},ud=class{constructor(){return vm()}};function yW(t){return t&&t.length===1?t[0]:new Zs(od())}var Dw=new k("angularfire2._apps"),_W={provide:Zs,useFactory:yW,deps:[[new At,Dw]]},IW={provide:ud,deps:[[new At,Dw]]};function wW(t){return(e,n)=>{let i=n.get(zn);un("angularfire",Hc.full,"core"),un("angularfire",Hc.full,"app"),un("angular",zM.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new Zs(r)}}function sN(t,...e){return po([_W,IW,{provide:Dw,useFactory:wW(t),multi:!0,deps:[we,Bt,cd,...e]}])}var aN=Ho(bw,!0);function mN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gN=mN,vN=new zr("auth","Firebase",mN());var bm=new jo("@firebase/auth");function bW(t,...e){bm.logLevel<=Ye.WARN&&bm.warn(`Auth (${Uc}): ${t}`,...e)}function wm(t,...e){bm.logLevel<=Ye.ERROR&&bm.error(`Auth (${Uc}): ${t}`,...e)}function cN(t,...e){throw Vw(t,...e)}function Lw(t,...e){return Vw(t,...e)}function yN(t,e,n){let i=Object.assign(Object.assign({},gN()),{[e]:n});return new zr("auth","Firebase",i).create(e,{appName:t.name})}function Em(t){return yN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vw(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return vN.create(t,...e)}function at(t,e,...n){if(!t)throw Vw(e,...n)}function ld(t){let e="INTERNAL ASSERTION FAILED: "+t;throw wm(e),new Error(e)}function Cm(t,e){t||ld(e)}function CW(){return uN()==="http:"||uN()==="https:"}function uN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function TW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CW()||BR()||"connection"in navigator)?navigator.onLine:!0}function DW(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Js=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cm(n>e,"Short delay should be less than long delay!"),this.isMobile=UR()||HR()}get(){return TW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function SW(t,e){Cm(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Tm=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ld("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ld("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ld("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var MW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var AW=new Js(3e4,6e4);function _N(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Am(o,s,a,c){return R(this,arguments,function*(t,e,n,i,r={}){return IN(t,r,()=>R(this,null,function*(){let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});let p=aw(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Tm.fetch()(wN(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function IN(t,e,n){return R(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},MW),e);try{let r=new Aw(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Im(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Im(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Im(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Im(t,"user-disabled",s);let h=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw yN(t,h,l);cN(t,h)}}catch(r){if(r instanceof mi)throw r;cN(t,"network-request-failed",{message:String(r)})}})}function wN(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?SW(t.config,r):`${t.config.apiScheme}://${r}`}var Aw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Lw(this.auth,"network-request-failed")),AW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Im(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=Lw(t,e,i);return r.customData._tokenResponse=n,r}function PW(t,e){return R(this,null,function*(){return Am(t,"POST","/v1/accounts:delete",e)})}function EN(t,e){return R(this,null,function*(){return Am(t,"POST","/v1/accounts:lookup",e)})}function dd(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jw(t,e=!1){return R(this,null,function*(){let n=gi(t),i=yield n.getIdToken(e),r=bN(i);at(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:dd(Sw(r.auth_time)),issuedAtTime:dd(Sw(r.iat)),expirationTime:dd(Sw(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Sw(t){return Number(t)*1e3}function bN(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return wm("JWT malformed, contained fewer than 3 sections"),null;try{let r=rw(n);return r?JSON.parse(r):(wm("Failed to decode base64 JWT payload"),null)}catch(r){return wm("Caught error parsing JWT payload as JSON",r?.toString()),null}}function lN(t){let e=bN(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pw(t,e,n=!1){return R(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof mi&&OW(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function OW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ow=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>R(this,null,function*(){yield this.iteration()}),n)}iteration(){return R(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fd=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dd(this.lastLoginAt),this.creationTime=dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Dm(t){return R(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Pw(t,EN(n,{idToken:i}));at(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CN(o.providerUserInfo):[],a=xW(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fd(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Uw(t){return R(this,null,function*(){let e=gi(t);yield Dm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function xW(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function CN(t){return t.map(e=>{var{providerId:n}=e,i=Au(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function RW(t,e){return R(this,null,function*(){let n=yield IN(t,{},()=>R(this,null,function*(){let i=aw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=wN(t,r,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tm.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function NW(t,e){return R(this,null,function*(){return Am(t,"POST","/v2/accounts:revokeToken",_N(t,e))})}var hd=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){at(e.length!==0,"internal-error");let n=lN(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return R(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return R(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield RW(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(at(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(at(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(at(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ld("not implemented")}};function $o(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var pd=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=Au(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ow(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fd(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return R(this,null,function*(){let n=yield Pw(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return jw(this,e)}reload(){return Uw(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return R(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Dm(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return R(this,null,function*(){if(jc(this.auth.app))return Promise.reject(Em(this.auth));let e=yield this.getIdToken();return yield Pw(this,PW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,a,c,l,h;let p=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(r=n.email)!==null&&r!==void 0?r:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=n.photoURL)!==null&&s!==void 0?s:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,O=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:J,emailVerified:pe,isAnonymous:lt,providerData:me,stsTokenManager:C}=n;at(J&&C,e,"internal-error");let y=hd.fromJSON(this.name,C);at(typeof J=="string",e,"internal-error"),$o(p,e.name),$o(m,e.name),at(typeof pe=="boolean",e,"internal-error"),at(typeof lt=="boolean",e,"internal-error"),$o(v,e.name),$o(I,e.name),$o(S,e.name),$o(O,e.name),$o(F,e.name),$o(Y,e.name);let w=new t({uid:J,auth:e,email:m,emailVerified:pe,displayName:p,isAnonymous:lt,photoURL:I,phoneNumber:v,tenantId:S,stsTokenManager:y,createdAt:F,lastLoginAt:Y});return me&&Array.isArray(me)&&(w.providerData=me.map(T=>Object.assign({},T))),O&&(w._redirectEventId=O),w}static _fromIdTokenResponse(e,n,i=!1){return R(this,null,function*(){let r=new hd;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Dm(o),o})}static _fromGetAccountInfoResponse(e,n,i){return R(this,null,function*(){let r=n.users[0];at(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?CN(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new hd;a.updateFromIdToken(i);let c=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new fd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var dN=new Map;function Xs(t){Cm(t instanceof Function,"Expected a class definition");let e=dN.get(t);return e?(Cm(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dN.set(t,e),e)}var kW=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return R(this,null,function*(){return!0})}_set(n,i){return R(this,null,function*(){this.storage[n]=i})}_get(n){return R(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return R(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),xw=kW;function Mw(t,e,n){return`firebase:${t}:${e}:${n}`}var Sm=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Mw(this.userKey,r.apiKey,o),this.fullPersistenceKey=Mw("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return R(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?pd._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return R(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return R(this,null,function*(){if(!n.length)return new t(Xs(xw),e,i);let r=(yield Promise.all(n.map(l=>R(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=r[0]||Xs(xw),s=Mw(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=pd._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,i):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>R(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,i))})}};function hN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BW(e))return"Blackberry";if(HW(e))return"Webos";if(LW(e))return"Safari";if((e.includes("chrome/")||VW(e))&&!e.includes("edge/"))return"Chrome";if(UW(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function FW(t=ni()){return/firefox\//i.test(t)}function LW(t=ni()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VW(t=ni()){return/crios\//i.test(t)}function jW(t=ni()){return/iemobile/i.test(t)}function UW(t=ni()){return/android/i.test(t)}function BW(t=ni()){return/blackberry/i.test(t)}function HW(t=ni()){return/webos/i.test(t)}function TN(t,e=[]){let n;switch(t){case"Browser":n=hN(ni());break;case"Worker":n=`${hN(ni())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uc}/${i}`}var Rw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return R(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function $W(n){return R(this,arguments,function*(t,e={}){return Am(t,"GET","/v2/passwordPolicy",_N(t,e))})}var zW=6,Nw=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:zW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var kw=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mm(this),this.idTokenSubscription=new Mm(this),this.beforeStateQueue=new Rw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xs(n)),this._initializationPromise=this.queue(()=>R(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Sm.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return R(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return R(this,null,function*(){try{let n=yield EN(this,{idToken:e}),i=yield pd._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return R(this,null,function*(){var n;if(jc(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return R(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return R(this,null,function*(){try{yield Dm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=DW()}_delete(){return R(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return R(this,null,function*(){if(jc(this.app))return Promise.reject(Em(this));let n=e?gi(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return R(this,null,function*(){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>R(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return R(this,null,function*(){return jc(this.app)?Promise.reject(Em(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return jc(this.app)?Promise.reject(Em(this)):this.queue(()=>R(this,null,function*(){yield this.assertedPersistence.setPersistence(Xs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return R(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return R(this,null,function*(){let e=yield $W(this),n=new Nw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return R(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield NW(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return R(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return R(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Xs(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=yield Sm.create(this,[Xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return R(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>R(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return R(this,null,function*(){if(e===this.currentUser)return this.queue(()=>R(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return R(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return R(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return R(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&bW(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function GW(t){return gi(t)}var Mm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=GR(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qW={loadJS(){return R(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WW(t){qW=t}function KW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function QW(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Xs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}var Fme=KW("rcb"),Lme=new Js(3e4,6e4);var Vme=new Js(2e3,1e4);var jme=10*60*1e3;var Ume=new Js(3e4,6e4);var Bme=new Js(5e3,15e3);var Hme=encodeURIComponent("fac");var fN="@firebase/auth",pN="1.7.3";var Fw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return R(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function YW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZW(t){Bo(new vi("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;at(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TN(t)},l=new kw(i,r,o,c);return QW(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Bo(new vi("auth-internal",e=>{let n=GW(e.getProvider("auth").getImmediate());return(i=>new Fw(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(fN,pN,YW(t)),un(fN,pN,"esm2017")}var XW=5*60,$me=VR("authIdTokenMaxAge")||XW;function JW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}WW({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=Lw("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",JW().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZW("Browser");var X9="auth";var Pm=class{constructor(){return ad(X9)}};var DN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SN={};var zo,Bw;(function(){var t;function e(C,y){function w(){}w.prototype=y.prototype,C.D=y.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(T,D,A){for(var E=Array(arguments.length-2),ri=2;ri<arguments.length;ri++)E[ri-2]=arguments[ri];return y.prototype[D].apply(T,E)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var D=0;16>D;++D)T[D]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(D=0;16>D;++D)T[D]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=C.g[0],w=C.g[1],D=C.g[2];var A=C.g[3],E=y+(A^w&(D^A))+T[0]+3614090360&4294967295;y=w+(E<<7&4294967295|E>>>25),E=A+(D^y&(w^D))+T[1]+3905402710&4294967295,A=y+(E<<12&4294967295|E>>>20),E=D+(w^A&(y^w))+T[2]+606105819&4294967295,D=A+(E<<17&4294967295|E>>>15),E=w+(y^D&(A^y))+T[3]+3250441966&4294967295,w=D+(E<<22&4294967295|E>>>10),E=y+(A^w&(D^A))+T[4]+4118548399&4294967295,y=w+(E<<7&4294967295|E>>>25),E=A+(D^y&(w^D))+T[5]+1200080426&4294967295,A=y+(E<<12&4294967295|E>>>20),E=D+(w^A&(y^w))+T[6]+2821735955&4294967295,D=A+(E<<17&4294967295|E>>>15),E=w+(y^D&(A^y))+T[7]+4249261313&4294967295,w=D+(E<<22&4294967295|E>>>10),E=y+(A^w&(D^A))+T[8]+1770035416&4294967295,y=w+(E<<7&4294967295|E>>>25),E=A+(D^y&(w^D))+T[9]+2336552879&4294967295,A=y+(E<<12&4294967295|E>>>20),E=D+(w^A&(y^w))+T[10]+4294925233&4294967295,D=A+(E<<17&4294967295|E>>>15),E=w+(y^D&(A^y))+T[11]+2304563134&4294967295,w=D+(E<<22&4294967295|E>>>10),E=y+(A^w&(D^A))+T[12]+1804603682&4294967295,y=w+(E<<7&4294967295|E>>>25),E=A+(D^y&(w^D))+T[13]+4254626195&4294967295,A=y+(E<<12&4294967295|E>>>20),E=D+(w^A&(y^w))+T[14]+2792965006&4294967295,D=A+(E<<17&4294967295|E>>>15),E=w+(y^D&(A^y))+T[15]+1236535329&4294967295,w=D+(E<<22&4294967295|E>>>10),E=y+(D^A&(w^D))+T[1]+4129170786&4294967295,y=w+(E<<5&4294967295|E>>>27),E=A+(w^D&(y^w))+T[6]+3225465664&4294967295,A=y+(E<<9&4294967295|E>>>23),E=D+(y^w&(A^y))+T[11]+643717713&4294967295,D=A+(E<<14&4294967295|E>>>18),E=w+(A^y&(D^A))+T[0]+3921069994&4294967295,w=D+(E<<20&4294967295|E>>>12),E=y+(D^A&(w^D))+T[5]+3593408605&4294967295,y=w+(E<<5&4294967295|E>>>27),E=A+(w^D&(y^w))+T[10]+38016083&4294967295,A=y+(E<<9&4294967295|E>>>23),E=D+(y^w&(A^y))+T[15]+3634488961&4294967295,D=A+(E<<14&4294967295|E>>>18),E=w+(A^y&(D^A))+T[4]+3889429448&4294967295,w=D+(E<<20&4294967295|E>>>12),E=y+(D^A&(w^D))+T[9]+568446438&4294967295,y=w+(E<<5&4294967295|E>>>27),E=A+(w^D&(y^w))+T[14]+3275163606&4294967295,A=y+(E<<9&4294967295|E>>>23),E=D+(y^w&(A^y))+T[3]+4107603335&4294967295,D=A+(E<<14&4294967295|E>>>18),E=w+(A^y&(D^A))+T[8]+1163531501&4294967295,w=D+(E<<20&4294967295|E>>>12),E=y+(D^A&(w^D))+T[13]+2850285829&4294967295,y=w+(E<<5&4294967295|E>>>27),E=A+(w^D&(y^w))+T[2]+4243563512&4294967295,A=y+(E<<9&4294967295|E>>>23),E=D+(y^w&(A^y))+T[7]+1735328473&4294967295,D=A+(E<<14&4294967295|E>>>18),E=w+(A^y&(D^A))+T[12]+2368359562&4294967295,w=D+(E<<20&4294967295|E>>>12),E=y+(w^D^A)+T[5]+4294588738&4294967295,y=w+(E<<4&4294967295|E>>>28),E=A+(y^w^D)+T[8]+2272392833&4294967295,A=y+(E<<11&4294967295|E>>>21),E=D+(A^y^w)+T[11]+1839030562&4294967295,D=A+(E<<16&4294967295|E>>>16),E=w+(D^A^y)+T[14]+4259657740&4294967295,w=D+(E<<23&4294967295|E>>>9),E=y+(w^D^A)+T[1]+2763975236&4294967295,y=w+(E<<4&4294967295|E>>>28),E=A+(y^w^D)+T[4]+1272893353&4294967295,A=y+(E<<11&4294967295|E>>>21),E=D+(A^y^w)+T[7]+4139469664&4294967295,D=A+(E<<16&4294967295|E>>>16),E=w+(D^A^y)+T[10]+3200236656&4294967295,w=D+(E<<23&4294967295|E>>>9),E=y+(w^D^A)+T[13]+681279174&4294967295,y=w+(E<<4&4294967295|E>>>28),E=A+(y^w^D)+T[0]+3936430074&4294967295,A=y+(E<<11&4294967295|E>>>21),E=D+(A^y^w)+T[3]+3572445317&4294967295,D=A+(E<<16&4294967295|E>>>16),E=w+(D^A^y)+T[6]+76029189&4294967295,w=D+(E<<23&4294967295|E>>>9),E=y+(w^D^A)+T[9]+3654602809&4294967295,y=w+(E<<4&4294967295|E>>>28),E=A+(y^w^D)+T[12]+3873151461&4294967295,A=y+(E<<11&4294967295|E>>>21),E=D+(A^y^w)+T[15]+530742520&4294967295,D=A+(E<<16&4294967295|E>>>16),E=w+(D^A^y)+T[2]+3299628645&4294967295,w=D+(E<<23&4294967295|E>>>9),E=y+(D^(w|~A))+T[0]+4096336452&4294967295,y=w+(E<<6&4294967295|E>>>26),E=A+(w^(y|~D))+T[7]+1126891415&4294967295,A=y+(E<<10&4294967295|E>>>22),E=D+(y^(A|~w))+T[14]+2878612391&4294967295,D=A+(E<<15&4294967295|E>>>17),E=w+(A^(D|~y))+T[5]+4237533241&4294967295,w=D+(E<<21&4294967295|E>>>11),E=y+(D^(w|~A))+T[12]+1700485571&4294967295,y=w+(E<<6&4294967295|E>>>26),E=A+(w^(y|~D))+T[3]+2399980690&4294967295,A=y+(E<<10&4294967295|E>>>22),E=D+(y^(A|~w))+T[10]+4293915773&4294967295,D=A+(E<<15&4294967295|E>>>17),E=w+(A^(D|~y))+T[1]+2240044497&4294967295,w=D+(E<<21&4294967295|E>>>11),E=y+(D^(w|~A))+T[8]+1873313359&4294967295,y=w+(E<<6&4294967295|E>>>26),E=A+(w^(y|~D))+T[15]+4264355552&4294967295,A=y+(E<<10&4294967295|E>>>22),E=D+(y^(A|~w))+T[6]+2734768916&4294967295,D=A+(E<<15&4294967295|E>>>17),E=w+(A^(D|~y))+T[13]+1309151649&4294967295,w=D+(E<<21&4294967295|E>>>11),E=y+(D^(w|~A))+T[4]+4149444226&4294967295,y=w+(E<<6&4294967295|E>>>26),E=A+(w^(y|~D))+T[11]+3174756917&4294967295,A=y+(E<<10&4294967295|E>>>22),E=D+(y^(A|~w))+T[2]+718787259&4294967295,D=A+(E<<15&4294967295|E>>>17),E=w+(A^(D|~y))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+y&4294967295,C.g[1]=C.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+A&4294967295}i.prototype.u=function(C,y){y===void 0&&(y=C.length);for(var w=y-this.blockSize,T=this.B,D=this.h,A=0;A<y;){if(D==0)for(;A<=w;)r(this,C,A),A+=this.blockSize;if(typeof C=="string"){for(;A<y;)if(T[D++]=C.charCodeAt(A++),D==this.blockSize){r(this,T),D=0;break}}else for(;A<y;)if(T[D++]=C[A++],D==this.blockSize){r(this,T),D=0;break}}this.h=D,this.o+=y},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var y=1;y<C.length-8;++y)C[y]=0;var w=8*this.o;for(y=C.length-8;y<C.length;++y)C[y]=w&255,w/=256;for(this.u(C),C=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)C[w++]=this.g[y]>>>T&255;return C};function o(C,y){var w=a;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=y(C)}function s(C,y){this.h=y;for(var w=[],T=!0,D=C.length-1;0<=D;D--){var A=C[D]|0;T&&A==y||(w[D]=A,T=!1)}this.g=w}var a={};function c(C){return-128<=C&&128>C?o(C,function(y){return new s([y|0],0>y?-1:0)}):new s([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return O(l(-C));for(var y=[],w=1,T=0;C>=w;T++)y[T]=C/w|0,w*=4294967296;return new s(y,0)}function h(C,y){if(C.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C.charAt(0)=="-")return O(h(C.substring(1),y));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(y,8)),T=p,D=0;D<C.length;D+=8){var A=Math.min(8,C.length-D),E=parseInt(C.substring(D,D+A),y);8>A?(A=l(Math.pow(y,A)),T=T.j(A).add(l(E))):(T=T.j(w),T=T.add(l(E)))}return T}var p=c(0),m=c(1),v=c(16777216);t=s.prototype,t.m=function(){if(S(this))return-O(this).m();for(var C=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);C+=(0<=T?T:4294967296+T)*y,y*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I(this))return"0";if(S(this))return"-"+O(this).toString(C);for(var y=l(Math.pow(C,6)),w=this,T="";;){var D=pe(w,y).g;w=F(w,D.j(y));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(C);if(w=D,I(w))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function I(C){if(C.h!=0)return!1;for(var y=0;y<C.g.length;y++)if(C.g[y]!=0)return!1;return!0}function S(C){return C.h==-1}t.l=function(C){return C=F(this,C),S(C)?-1:I(C)?0:1};function O(C){for(var y=C.g.length,w=[],T=0;T<y;T++)w[T]=~C.g[T];return new s(w,~C.h).add(m)}t.abs=function(){return S(this)?O(this):this},t.add=function(C){for(var y=Math.max(this.g.length,C.g.length),w=[],T=0,D=0;D<=y;D++){var A=T+(this.i(D)&65535)+(C.i(D)&65535),E=(A>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);T=E>>>16,A&=65535,E&=65535,w[D]=E<<16|A}return new s(w,w[w.length-1]&-2147483648?-1:0)};function F(C,y){return C.add(O(y))}t.j=function(C){if(I(this)||I(C))return p;if(S(this))return S(C)?O(this).j(O(C)):O(O(this).j(C));if(S(C))return O(this.j(O(C)));if(0>this.l(v)&&0>C.l(v))return l(this.m()*C.m());for(var y=this.g.length+C.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var D=0;D<C.g.length;D++){var A=this.i(T)>>>16,E=this.i(T)&65535,ri=C.i(D)>>>16,Xr=C.i(D)&65535;w[2*T+2*D]+=E*Xr,Y(w,2*T+2*D),w[2*T+2*D+1]+=A*Xr,Y(w,2*T+2*D+1),w[2*T+2*D+1]+=E*ri,Y(w,2*T+2*D+1),w[2*T+2*D+2]+=A*ri,Y(w,2*T+2*D+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new s(w,0)};function Y(C,y){for(;(C[y]&65535)!=C[y];)C[y+1]+=C[y]>>>16,C[y]&=65535,y++}function J(C,y){this.g=C,this.h=y}function pe(C,y){if(I(y))throw Error("division by zero");if(I(C))return new J(p,p);if(S(C))return y=pe(O(C),y),new J(O(y.g),O(y.h));if(S(y))return y=pe(C,O(y)),new J(O(y.g),y.h);if(30<C.g.length){if(S(C)||S(y))throw Error("slowDivide_ only works with positive integers.");for(var w=m,T=y;0>=T.l(C);)w=lt(w),T=lt(T);var D=me(w,1),A=me(T,1);for(T=me(T,2),w=me(w,2);!I(T);){var E=A.add(T);0>=E.l(C)&&(D=D.add(w),A=E),T=me(T,1),w=me(w,1)}return y=F(C,D.j(y)),new J(D,y)}for(D=p;0<=C.l(y);){for(w=Math.max(1,Math.floor(C.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=l(w),E=A.j(y);S(E)||0<E.l(C);)w-=T,A=l(w),E=A.j(y);I(A)&&(A=m),D=D.add(A),C=F(C,E)}return new J(D,C)}t.A=function(C){return pe(this,C).h},t.and=function(C){for(var y=Math.max(this.g.length,C.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&C.i(T);return new s(w,this.h&C.h)},t.or=function(C){for(var y=Math.max(this.g.length,C.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|C.i(T);return new s(w,this.h|C.h)},t.xor=function(C){for(var y=Math.max(this.g.length,C.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^C.i(T);return new s(w,this.h^C.h)};function lt(C){for(var y=C.g.length+1,w=[],T=0;T<y;T++)w[T]=C.i(T)<<1|C.i(T-1)>>>31;return new s(w,C.h)}function me(C,y){var w=y>>5;y%=32;for(var T=C.g.length-w,D=[],A=0;A<T;A++)D[A]=0<y?C.i(A+w)>>>y|C.i(A+w+1)<<32-y:C.i(A+w);return new s(D,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Bw=SN.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,zo=SN.Integer=s}).apply(typeof DN<"u"?DN:typeof self<"u"?self:typeof window<"u"?window:{});var Om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gr={};var Hw,$w,$c,zw,md,xm,Gw,qw,Ww;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Om=="object"&&Om];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(u,d){if(d)e:{var f=i;u=u.split(".");for(var g=0;g<u.length-1;g++){var M=u[g];if(!(M in f))break e;f=f[M]}u=u[u.length-1],g=f[u],d=d(g),d!=g&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,g=!1,M={next:function(){if(!g&&f<u.length){var x=f++;return{value:d(x,u[x]),done:!1}}return g=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}r("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,g),u.apply(d,M)}}return function(){return u.apply(d,arguments)}}function m(u,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),u.apply(this,g)}}function I(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(g,M,x){for(var W=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)W[pt-2]=arguments[pt];return d.prototype[M].apply(g,W)}}function S(u){let d=u.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=u[g];return f}return[]}function O(u,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(c(g)){let M=u.length||0,x=g.length||0;u.length=M+x;for(let W=0;W<x;W++)u[M+W]=g[W]}else u.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function pe(u){return pe[" "](u),u}pe[" "]=function(){};var lt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function me(u,d,f){for(let g in u)d.call(f,u[g],g,u)}function C(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function y(u){let d={};for(let f in u)d[f]=u[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(u,d){let f,g;for(let M=1;M<arguments.length;M++){g=arguments[M];for(f in g)u[f]=g[f];for(let x=0;x<w.length;x++)f=w[x],Object.prototype.hasOwnProperty.call(g,f)&&(u[f]=g[f])}}function D(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function A(u){a.setTimeout(()=>{throw u},0)}function E(){var u=Ke;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class ri{constructor(){this.h=this.g=null}add(d,f){let g=Xr.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Xr=new F(()=>new re,u=>u.reset());class re{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,he=!1,Ke=new ri,qt=()=>{let u=a.Promise.resolve(void 0);ce=()=>{u.then(oi)}};var oi=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(f){A(f)}var d=Xr;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}he=!1};function Ft(){this.s=this.s,this.C=this.C}Ft.prototype.s=!1,Ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Dt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function Jr(u,d){if(Tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,g=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(lt){e:{try{pe(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Eg[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Jr.aa.h.call(this)}}I(Jr,Tt);var Eg={2:"touch",3:"pen",4:"mouse"};Jr.prototype.h=function(){Jr.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),vr=0;function jn(u,d,f,g,M){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=M,this.key=++vr,this.da=this.fa=!1}function yr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function eo(u){this.src=u,this.g={},this.h=0}eo.prototype.add=function(u,d,f,g,M){var x=u.toString();u=this.g[x],u||(u=this.g[x]=[],this.h++);var W=Cg(u,d,g,M);return-1<W?(d=u[W],f||(d.fa=!1)):(d=new jn(d,this.src,x,!!g,M),d.fa=f,u.push(d)),d};function bg(u,d){var f=d.type;if(f in u.g){var g=u.g[f],M=Array.prototype.indexOf.call(g,d,void 0),x;(x=0<=M)&&Array.prototype.splice.call(g,M,1),x&&(yr(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function Cg(u,d,f,g){for(var M=0;M<u.length;++M){var x=u[M];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==g)return M}return-1}var Tg="closure_lm_"+(1e6*Math.random()|0),Dg={};function Zb(u,d,f,g,M){if(g&&g.once)return Jb(u,d,f,g,M);if(Array.isArray(d)){for(var x=0;x<d.length;x++)Zb(u,d[x],f,g,M);return null}return f=Pg(f),u&&u[Lt]?u.K(d,f,l(g)?!!g.capture:!!g,M):Xb(u,d,f,!1,g,M)}function Xb(u,d,f,g,M,x){if(!d)throw Error("Invalid event type");var W=l(M)?!!M.capture:!!M,pt=Mg(u);if(pt||(u[Tg]=pt=new eo(u)),f=pt.add(d,f,g,W,x),f.proxy)return f;if(g=jk(),f.proxy=g,g.src=u,g.listener=f,u.addEventListener)Dt||(M=W),M===void 0&&(M=!1),u.addEventListener(d.toString(),g,M);else if(u.attachEvent)u.attachEvent(tC(d.toString()),g);else if(u.addListener&&u.removeListener)u.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jk(){function u(f){return d.call(u.src,u.listener,f)}let d=Uk;return u}function Jb(u,d,f,g,M){if(Array.isArray(d)){for(var x=0;x<d.length;x++)Jb(u,d[x],f,g,M);return null}return f=Pg(f),u&&u[Lt]?u.L(d,f,l(g)?!!g.capture:!!g,M):Xb(u,d,f,!0,g,M)}function eC(u,d,f,g,M){if(Array.isArray(d))for(var x=0;x<d.length;x++)eC(u,d[x],f,g,M);else g=l(g)?!!g.capture:!!g,f=Pg(f),u&&u[Lt]?(u=u.i,d=String(d).toString(),d in u.g&&(x=u.g[d],f=Cg(x,f,g,M),-1<f&&(yr(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete u.g[d],u.h--)))):u&&(u=Mg(u))&&(d=u.g[d.toString()],u=-1,d&&(u=Cg(d,f,g,M)),(f=-1<u?d[u]:null)&&Sg(f))}function Sg(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Lt])bg(d.i,u);else{var f=u.type,g=u.proxy;d.removeEventListener?d.removeEventListener(f,g,u.capture):d.detachEvent?d.detachEvent(tC(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Mg(d))?(bg(f,u),f.h==0&&(f.src=null,d[Tg]=null)):yr(u)}}}function tC(u){return u in Dg?Dg[u]:Dg[u]="on"+u}function Uk(u,d){if(u.da)u=!0;else{d=new Jr(d,this);var f=u.listener,g=u.ha||u.src;u.fa&&Sg(u),u=f.call(g,d)}return u}function Mg(u){return u=u[Tg],u instanceof eo?u:null}var Ag="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pg(u){return typeof u=="function"?u:(u[Ag]||(u[Ag]=function(d){return u.handleEvent(d)}),u[Ag])}function _n(){Ft.call(this),this.i=new eo(this),this.M=this,this.F=null}I(_n,Ft),_n.prototype[Lt]=!0,_n.prototype.removeEventListener=function(u,d,f,g){eC(this,u,d,f,g)};function xn(u,d){var f,g=u.F;if(g)for(f=[];g;g=g.F)f.push(g);if(u=u.M,g=d.type||d,typeof d=="string")d=new Tt(d,u);else if(d instanceof Tt)d.target=d.target||u;else{var M=d;d=new Tt(g,u),T(d,M)}if(M=!0,f)for(var x=f.length-1;0<=x;x--){var W=d.g=f[x];M=Ld(W,g,!0,d)&&M}if(W=d.g=u,M=Ld(W,g,!0,d)&&M,M=Ld(W,g,!1,d)&&M,f)for(x=0;x<f.length;x++)W=d.g=f[x],M=Ld(W,g,!1,d)&&M}_n.prototype.N=function(){if(_n.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],g=0;g<f.length;g++)yr(f[g]);delete u.g[d],u.h--}}this.F=null},_n.prototype.K=function(u,d,f,g){return this.i.add(String(u),d,!1,f,g)},_n.prototype.L=function(u,d,f,g){return this.i.add(String(u),d,!0,f,g)};function Ld(u,d,f,g){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,x=0;x<d.length;++x){var W=d[x];if(W&&!W.da&&W.capture==f){var pt=W.listener,dn=W.ha||W.src;W.fa&&bg(u.i,W),M=pt.call(dn,g)!==!1&&M}}return M&&!g.defaultPrevented}function nC(u,d,f){if(typeof u=="function")f&&(u=m(u,f));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function iC(u){u.g=nC(()=>{u.g=null,u.i&&(u.i=!1,iC(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class Bk extends Ft{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:iC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fu(u){Ft.call(this),this.h=u,this.g={}}I(fu,Ft);var rC=[];function oC(u){me(u.g,function(d,f){this.g.hasOwnProperty(f)&&Sg(d)},u),u.g={}}fu.prototype.N=function(){fu.aa.N.call(this),oC(this)},fu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Og=a.JSON.stringify,Hk=a.JSON.parse,$k=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function xg(){}xg.prototype.h=null;function sC(u){return u.h||(u.h=u.i())}function aC(){}var pu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rg(){Tt.call(this,"d")}I(Rg,Tt);function Ng(){Tt.call(this,"c")}I(Ng,Tt);var Qo={},cC=null;function Vd(){return cC=cC||new _n}Qo.La="serverreachability";function uC(u){Tt.call(this,Qo.La,u)}I(uC,Tt);function mu(u){let d=Vd();xn(d,new uC(d))}Qo.STAT_EVENT="statevent";function lC(u,d){Tt.call(this,Qo.STAT_EVENT,u),this.stat=d}I(lC,Tt);function Rn(u){let d=Vd();xn(d,new lC(d,u))}Qo.Ma="timingevent";function dC(u,d){Tt.call(this,Qo.Ma,u),this.size=d}I(dC,Tt);function gu(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function vu(){this.g=!0}vu.prototype.xa=function(){this.g=!1};function zk(u,d,f,g,M,x){u.info(function(){if(u.g)if(x)for(var W="",pt=x.split("&"),dn=0;dn<pt.length;dn++){var nt=pt[dn].split("=");if(1<nt.length){var In=nt[0];nt=nt[1];var wn=In.split("_");W=2<=wn.length&&wn[1]=="type"?W+(In+"="+nt+"&"):W+(In+"=redacted&")}}else W=null;else W=x;return"XMLHTTP REQ ("+g+") [attempt "+M+"]: "+d+`
`+f+`
`+W})}function Gk(u,d,f,g,M,x,W){u.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+M+"]: "+d+`
`+f+`
`+x+" "+W})}function da(u,d,f,g){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Wk(u,f)+(g?" "+g:"")})}function qk(u,d){u.info(function(){return"TIMEOUT: "+d})}vu.prototype.info=function(){};function Wk(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var g=f[u];if(!(2>g.length)){var M=g[1];if(Array.isArray(M)&&!(1>M.length)){var x=M[0];if(x!="noop"&&x!="stop"&&x!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return Og(f)}catch{return d}}var jd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kg;function Ud(){}I(Ud,xg),Ud.prototype.g=function(){return new XMLHttpRequest},Ud.prototype.i=function(){return{}},kg=new Ud;function to(u,d,f,g){this.j=u,this.i=d,this.l=f,this.R=g||1,this.U=new fu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fC}function fC(){this.i=null,this.g="",this.h=!1}var pC={},Fg={};function Lg(u,d,f){u.L=1,u.v=zd(_r(d)),u.m=f,u.P=!0,mC(u,null)}function mC(u,d){u.F=Date.now(),Bd(u),u.A=_r(u.v);var f=u.A,g=u.R;Array.isArray(g)||(g=[String(g)]),AC(f.i,"t",g),u.C=0,f=u.j.J,u.h=new fC,u.g=WC(u.j,f?d:null,!u.m),0<u.O&&(u.M=new Bk(m(u.Y,u,u.g),u.O)),d=u.U,f=u.g,g=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(rC[0]=M.toString()),M=rC);for(var x=0;x<M.length;x++){var W=Zb(f,M[x],g||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),mu(),zk(u.i,u.u,u.A,u.l,u.R,u.m)}to.prototype.ca=function(u){u=u.target;let d=this.M;d&&Ir(u)==3?d.j():this.Y(u)},to.prototype.Y=function(u){try{if(u==this.g)e:{let wn=Ir(this.g);var d=this.g.Ba();let pa=this.g.Z();if(!(3>wn)&&(wn!=3||this.g&&(this.h.h||this.g.oa()||FC(this.g)))){this.J||wn!=4||d==7||(d==8||0>=pa?mu(3):mu(2)),Vg(this);var f=this.g.Z();this.X=f;t:if(gC(this)){var g=FC(this.g);u="";var M=g.length,x=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yo(this),yu(this);var W="";break t}this.h.i=new a.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,u+=this.h.i.decode(g[d],{stream:!(x&&d==M-1)});g.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=f==200,Gk(this.i,this.u,this.A,this.l,this.R,wn,f),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,dn=this.g;if((pt=dn.g?dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(pt)){var nt=pt;break t}}nt=null}if(f=nt)da(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jg(this,f);else{this.o=!1,this.s=3,Rn(12),Yo(this),yu(this);break e}}if(this.P){f=!0;let _i;for(;!this.J&&this.C<W.length;)if(_i=Kk(this,W),_i==Fg){wn==4&&(this.s=4,Rn(14),f=!1),da(this.i,this.l,null,"[Incomplete Response]");break}else if(_i==pC){this.s=4,Rn(15),da(this.i,this.l,W,"[Invalid Chunk]"),f=!1;break}else da(this.i,this.l,_i,null),jg(this,_i);if(gC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wn!=4||W.length!=0||this.h.h||(this.s=1,Rn(16),f=!1),this.o=this.o&&f,!f)da(this.i,this.l,W,"[Invalid Chunked Response]"),Yo(this),yu(this);else if(0<W.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Gg(In),In.M=!0,Rn(11))}}else da(this.i,this.l,W,null),jg(this,W);wn==4&&Yo(this),this.o&&!this.J&&(wn==4?$C(this.j,this):(this.o=!1,Bd(this)))}else dF(this.g),f==400&&0<W.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),Yo(this),yu(this)}}}catch{}finally{}};function gC(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Kk(u,d){var f=u.C,g=d.indexOf(`
`,f);return g==-1?Fg:(f=Number(d.substring(f,g)),isNaN(f)?pC:(g+=1,g+f>d.length?Fg:(d=d.slice(g,g+f),u.C=g+f,d)))}to.prototype.cancel=function(){this.J=!0,Yo(this)};function Bd(u){u.S=Date.now()+u.I,vC(u,u.I)}function vC(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=gu(m(u.ba,u),d)}function Vg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}to.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(qk(this.i,this.A),this.L!=2&&(mu(),Rn(17)),Yo(this),this.s=2,yu(this)):vC(this,this.S-u)};function yu(u){u.j.G==0||u.J||$C(u.j,u)}function Yo(u){Vg(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,oC(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function jg(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||Ug(f.h,u))){if(!u.K&&Ug(f.h,u)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var M=g;if(M[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)Qd(f),Wd(f);else break e;zg(f),Rn(18)}}else f.za=M[1],0<f.za-f.T&&37500>M[2]&&f.F&&f.v==0&&!f.C&&(f.C=gu(m(f.Za,f),6e3));if(1>=IC(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Xo(f,11)}else if((u.K||f.g==u)&&Qd(f),!Y(d))for(M=f.Da.g.parse(d),d=0;d<M.length;d++){let nt=M[d];if(f.T=nt[0],nt=nt[1],f.G==2)if(nt[0]=="c"){f.K=nt[1],f.ia=nt[2];let In=nt[3];In!=null&&(f.la=In,f.j.info("VER="+f.la));let wn=nt[4];wn!=null&&(f.Aa=wn,f.j.info("SVER="+f.Aa));let pa=nt[5];pa!=null&&typeof pa=="number"&&0<pa&&(g=1.5*pa,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let _i=u.g;if(_i){let Zd=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zd){var x=g.h;x.g||Zd.indexOf("spdy")==-1&&Zd.indexOf("quic")==-1&&Zd.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Bg(x,x.h),x.h=null))}if(g.D){let qg=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;qg&&(g.ya=qg,St(g.I,g.D,qg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var W=u;if(g.qa=qC(g,g.J?g.ia:null,g.W),W.K){wC(g.h,W);var pt=W,dn=g.L;dn&&(pt.I=dn),pt.B&&(Vg(pt),Bd(pt)),g.g=W}else BC(g);0<f.i.length&&Kd(f)}else nt[0]!="stop"&&nt[0]!="close"||Xo(f,7);else f.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?Xo(f,7):$g(f):nt[0]!="noop"&&f.l&&f.l.ta(nt),f.v=0)}}mu(4)}catch{}}var Qk=class{constructor(u,d){this.g=u,this.map=d}};function yC(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _C(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function IC(u){return u.h?1:u.g?u.g.size:0}function Ug(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function Bg(u,d){u.g?u.g.add(d):u.h=d}function wC(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}yC.prototype.cancel=function(){if(this.i=EC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function EC(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return S(u.i)}function Yk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,g=0;g<f;g++)d.push(u[g]);return d}d=[],f=0;for(g in u)d[f++]=u[g];return d}function Zk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let g in u)d[f++]=g;return d}}}function bC(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=Zk(u),g=Yk(u),M=g.length,x=0;x<M;x++)d.call(void 0,g[x],f&&f[x],u)}var CC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xk(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var g=u[f].indexOf("="),M=null;if(0<=g){var x=u[f].substring(0,g);M=u[f].substring(g+1)}else x=u[f];d(x,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Zo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Zo){this.h=u.h,Hd(this,u.j),this.o=u.o,this.g=u.g,$d(this,u.s),this.l=u.l;var d=u.i,f=new wu;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),TC(this,f),this.m=u.m}else u&&(d=String(u).match(CC))?(this.h=!1,Hd(this,d[1]||"",!0),this.o=_u(d[2]||""),this.g=_u(d[3]||"",!0),$d(this,d[4]),this.l=_u(d[5]||"",!0),TC(this,d[6]||"",!0),this.m=_u(d[7]||"")):(this.h=!1,this.i=new wu(null,this.h))}Zo.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Iu(d,DC,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Iu(d,DC,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(Iu(f,f.charAt(0)=="/"?tF:eF,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",Iu(f,iF)),u.join("")};function _r(u){return new Zo(u)}function Hd(u,d,f){u.j=f?_u(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function $d(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function TC(u,d,f){d instanceof wu?(u.i=d,rF(u.i,u.h)):(f||(d=Iu(d,nF)),u.i=new wu(d,u.h))}function St(u,d,f){u.i.set(d,f)}function zd(u){return St(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _u(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Iu(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,Jk),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Jk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var DC=/[#\/\?@]/g,eF=/[#\?:]/g,tF=/[#\?]/g,nF=/[#\?@]/g,iF=/#/g;function wu(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function no(u){u.g||(u.g=new Map,u.h=0,u.i&&Xk(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=wu.prototype,t.add=function(u,d){no(this),this.i=null,u=ha(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function SC(u,d){no(u),d=ha(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function MC(u,d){return no(u),d=ha(u,d),u.g.has(d)}t.forEach=function(u,d){no(this),this.g.forEach(function(f,g){f.forEach(function(M){u.call(d,M,g,this)},this)},this)},t.na=function(){no(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let M=u[g];for(let x=0;x<M.length;x++)f.push(d[g])}return f},t.V=function(u){no(this);let d=[];if(typeof u=="string")MC(this,u)&&(d=d.concat(this.g.get(ha(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},t.set=function(u,d){return no(this),this.i=null,u=ha(this,u),MC(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},t.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function AC(u,d,f){SC(u,d),0<f.length&&(u.i=null,u.g.set(ha(u,d),S(f)),u.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let x=encodeURIComponent(String(g)),W=this.V(g);for(g=0;g<W.length;g++){var M=x;W[g]!==""&&(M+="="+encodeURIComponent(String(W[g]))),u.push(M)}}return this.i=u.join("&")};function ha(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function rF(u,d){d&&!u.j&&(no(u),u.i=null,u.g.forEach(function(f,g){var M=g.toLowerCase();g!=M&&(SC(this,g),AC(this,M,f))},u)),u.j=d}function oF(u,d){let f=new vu;if(a.Image){let g=new Image;g.onload=v(io,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(io,f,"TestLoadImage: error",!1,d,g),g.onabort=v(io,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(io,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=u}else d(!1)}function sF(u,d){let f=new vu,g=new AbortController,M=setTimeout(()=>{g.abort(),io(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:g.signal}).then(x=>{clearTimeout(M),x.ok?io(f,"TestPingServer: ok",!0,d):io(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),io(f,"TestPingServer: error",!1,d)})}function io(u,d,f,g,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),g(f)}catch{}}function aF(){this.g=new $k}function cF(u,d,f){let g=f||"";try{bC(u,function(M,x){let W=M;l(M)&&(W=Og(M)),d.push(g+x+"="+encodeURIComponent(W))})}catch(M){throw d.push(g+"type="+encodeURIComponent("_badmap")),M}}function Eu(u){this.l=u.Ub||null,this.j=u.eb||!1}I(Eu,xg),Eu.prototype.g=function(){return new Gd(this.l,this.j)},Eu.prototype.i=function(u){return function(){return u}}({});function Gd(u,d){_n.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Gd,_n),t=Gd.prototype,t.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Cu(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bu(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Cu(this)),this.g&&(this.readyState=3,Cu(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;PC(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function PC(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?bu(this):Cu(this),this.readyState==3&&PC(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,bu(this))},t.Qa=function(u){this.g&&(this.response=u,bu(this))},t.ga=function(){this.g&&bu(this)};function bu(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Cu(u)}t.setRequestHeader=function(u,d){this.u.append(u,d)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function Cu(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function OC(u){let d="";return me(u,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Hg(u,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=OC(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):St(u,d,f))}function Vt(u){_n.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Vt,_n);var uF=/^https?$/i,lF=["POST","PUT"];t=Vt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kg.g(),this.v=this.o?sC(this.o):sC(kg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(x){xC(this,x);return}if(u=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var M in g)f.set(M,g[M]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let x of g.keys())f.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lF,d,void 0))||g||M||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,W]of f)this.g.setRequestHeader(x,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kC(this),this.u=!0,this.g.send(u),this.u=!1}catch(x){xC(this,x)}};function xC(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,RC(u),qd(u)}function RC(u){u.A||(u.A=!0,xn(u,"complete"),xn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,xn(this,"complete"),xn(this,"abort"),qd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qd(this,!0)),Vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?NC(this):this.bb())},t.bb=function(){NC(this)};function NC(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Ir(u)!=4||u.Z()!=2)){if(u.u&&Ir(u)==4)nC(u.Ea,0,u);else if(xn(u,"readystatechange"),Ir(u)==4){u.h=!1;try{let W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=W===0){var M=String(u.D).match(CC)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),g=!uF.test(M?M.toLowerCase():"")}f=g}if(f)xn(u,"complete"),xn(u,"success");else{u.m=6;try{var x=2<Ir(u)?u.g.statusText:""}catch{x=""}u.l=x+" ["+u.Z()+"]",RC(u)}}finally{qd(u)}}}}function qd(u,d){if(u.g){kC(u);let f=u.g,g=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||xn(u,"ready");try{f.onreadystatechange=g}catch{}}}function kC(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ir(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),Hk(d)}};function FC(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dF(u){let d={};u=(u.g&&2<=Ir(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<u.length;g++){if(Y(u[g]))continue;var f=D(u[g]);let M=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[M]||[];d[M]=x,x.push(f)}C(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tu(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function LC(u){this.Aa=0,this.i=[],this.j=new vu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tu("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tu("baseRetryDelayMs",5e3,u),this.cb=Tu("retryDelaySeedMs",1e4,u),this.Wa=Tu("forwardChannelMaxRetries",2,u),this.wa=Tu("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yC(u&&u.concurrentRequestLimit),this.Da=new aF,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=LC.prototype,t.la=8,t.G=1,t.connect=function(u,d,f,g){Rn(0),this.W=u,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=qC(this,null,this.W),Kd(this)};function $g(u){if(VC(u),u.G==3){var d=u.U++,f=_r(u.I);if(St(f,"SID",u.K),St(f,"RID",d),St(f,"TYPE","terminate"),Du(u,f),d=new to(u,u.j,d),d.L=2,d.v=zd(_r(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=WC(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Bd(d)}GC(u)}function Wd(u){u.g&&(Gg(u),u.g.cancel(),u.g=null)}function VC(u){Wd(u),u.u&&(a.clearTimeout(u.u),u.u=null),Qd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Kd(u){if(!_C(u.h)&&!u.s){u.s=!0;var d=u.Ga;ce||qt(),he||(ce(),he=!0),Ke.add(d,u),u.B=0}}function hF(u,d){return IC(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=gu(m(u.Ga,u,d),zC(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let M=new to(this,this.j,u),x=this.o;if(this.S&&(x?(x=y(x),T(x,this.S)):x=this.S),this.m!==null||this.O||(M.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=UC(this,M,d),f=_r(this.I),St(f,"RID",u),St(f,"CVER",22),this.D&&St(f,"X-HTTP-Session-Id",this.D),Du(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(OC(x)))+"&"+d:this.m&&Hg(f,this.m,x)),Bg(this.h,M),this.Ua&&St(f,"TYPE","init"),this.P?(St(f,"$req",d),St(f,"SID","null"),M.T=!0,Lg(M,f,null)):Lg(M,f,d),this.G=2}}else this.G==3&&(u?jC(this,u):this.i.length==0||_C(this.h)||jC(this))};function jC(u,d){var f;d?f=d.l:f=u.U++;let g=_r(u.I);St(g,"SID",u.K),St(g,"RID",f),St(g,"AID",u.T),Du(u,g),u.m&&u.o&&Hg(g,u.m,u.o),f=new to(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=UC(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Bg(u.h,f),Lg(f,g,d)}function Du(u,d){u.H&&me(u.H,function(f,g){St(d,g,f)}),u.l&&bC({},function(f,g){St(d,g,f)})}function UC(u,d,f){f=Math.min(u.i.length,f);var g=u.l?m(u.l.Na,u.l,u):null;e:{var M=u.i;let x=-1;for(;;){let W=["count="+f];x==-1?0<f?(x=M[0].g,W.push("ofs="+x)):x=0:W.push("ofs="+x);let pt=!0;for(let dn=0;dn<f;dn++){let nt=M[dn].g,In=M[dn].map;if(nt-=x,0>nt)x=Math.max(0,M[dn].g-100),pt=!1;else try{cF(In,W,"req"+nt+"_")}catch{g&&g(In)}}if(pt){g=W.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,g}function BC(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;ce||qt(),he||(ce(),he=!0),Ke.add(d,u),u.v=0}}function zg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=gu(m(u.Fa,u),zC(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,HC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=gu(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),Wd(this),HC(this))};function Gg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function HC(u){u.g=new to(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=_r(u.qa);St(d,"RID","rpc"),St(d,"SID",u.K),St(d,"AID",u.T),St(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&St(d,"TO",u.ja),St(d,"TYPE","xmlhttp"),Du(u,d),u.m&&u.o&&Hg(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=zd(_r(d)),f.m=null,f.P=!0,mC(f,u)}t.Za=function(){this.C!=null&&(this.C=null,Wd(this),zg(this),Rn(19))};function Qd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function $C(u,d){var f=null;if(u.g==d){Qd(u),Gg(u),u.g=null;var g=2}else if(Ug(u.h,d))f=d.D,wC(u.h,d),g=1;else return;if(u.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var M=u.B;g=Vd(),xn(g,new dC(g,f)),Kd(u)}else BC(u);else if(M=d.s,M==3||M==0&&0<d.X||!(g==1&&hF(u,d)||g==2&&zg(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),M){case 1:Xo(u,5);break;case 4:Xo(u,10);break;case 3:Xo(u,6);break;default:Xo(u,2)}}}function zC(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Xo(u,d){if(u.j.info("Error code "+d),d==2){var f=m(u.fb,u),g=u.Xa;let M=!g;g=new Zo(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hd(g,"https"),zd(g),M?oF(g.toString(),f):sF(g.toString(),f)}else Rn(2);u.G=0,u.l&&u.l.sa(d),GC(u),VC(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function GC(u){if(u.G=0,u.ka=[],u.l){let d=EC(u.h);(d.length!=0||u.i.length!=0)&&(O(u.ka,d),O(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function qC(u,d,f){var g=f instanceof Zo?_r(f):new Zo(f);if(g.g!="")d&&(g.g=d+"."+g.g),$d(g,g.s);else{var M=a.location;g=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var x=new Zo(null);g&&Hd(x,g),d&&(x.g=d),M&&$d(x,M),f&&(x.l=f),g=x}return f=u.D,d=u.ya,f&&d&&St(g,f,d),St(g,"VER",u.la),Du(u,g),g}function WC(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Vt(new Eu({eb:f})):new Vt(u.pa),d.Ha(u.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function KC(){}t=KC.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yd(){}Yd.prototype.g=function(u,d){return new Kn(u,d)};function Kn(u,d){_n.call(this),this.g=new LC(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!Y(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new fa(this)}I(Kn,_n),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){$g(this.g)},Kn.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=Og(u),u=f);d.i.push(new Qk(d.Ya++,u)),d.G==3&&Kd(d)},Kn.prototype.N=function(){this.g.l=null,delete this.j,$g(this.g),delete this.g,Kn.aa.N.call(this)};function QC(u){Rg.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}I(QC,Rg);function YC(){Ng.call(this),this.status=1}I(YC,Ng);function fa(u){this.g=u}I(fa,KC),fa.prototype.ua=function(){xn(this.g,"a")},fa.prototype.ta=function(u){xn(this.g,new QC(u))},fa.prototype.sa=function(u){xn(this.g,new YC)},fa.prototype.ra=function(){xn(this.g,"b")},Yd.prototype.createWebChannel=Yd.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,Ww=Gr.createWebChannelTransport=function(){return new Yd},qw=Gr.getStatEventTarget=function(){return Vd()},Gw=Gr.Event=Qo,xm=Gr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jd.NO_ERROR=0,jd.TIMEOUT=8,jd.HTTP_ERROR=6,md=Gr.ErrorCode=jd,hC.COMPLETE="complete",zw=Gr.EventType=hC,aC.EventType=pu,pu.OPEN="a",pu.CLOSE="b",pu.ERROR="c",pu.MESSAGE="d",_n.prototype.listen=_n.prototype.K,$c=Gr.WebChannel=aC,$w=Gr.FetchXmlHttpFactory=Eu,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,Hw=Gr.XhrIo=Vt}).apply(typeof Om<"u"?Om:typeof self<"u"?self:typeof window<"u"?window:{});var MN="@firebase/firestore";var ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");var lu="10.12.1";var ra=new jo("@firebase/firestore");function gd(){return ra.logLevel}function ae(t,...e){if(ra.logLevel<=Ye.DEBUG){let n=e.map(Ab);ra.debug(`Firestore (${lu}): ${t}`,...n)}}function Wr(t,...e){if(ra.logLevel<=Ye.ERROR){let n=e.map(Ab);ra.error(`Firestore (${lu}): ${t}`,...n)}}function Yc(t,...e){if(ra.logLevel<=Ye.WARN){let n=e.map(Ab);ra.warn(`Firestore (${lu}): ${t}`,...n)}}function Ab(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Me(t="Unexpected state"){let e=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: `+t;throw Wr(e),new Error(e)}function Ct(t,e){t||Me()}function Fe(t,e){return t}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},fe=class extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Lm=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Xw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}},Jw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},eE=class{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qr,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>R(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct(typeof i.accessToken=="string"),new Lm(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string"),new ln(e)}},tE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},nE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new tE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}},iE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string"),this.R=n.token,new iE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function J9(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Vm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=J9(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function ct(t,e){return t<e?-1:t>e?1:0}function Zc(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var yn=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ve=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new yn(0,0))}static max(){return new t(new yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jm=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&Me(),i===void 0?i=e.length-n:i>e.length-n&&Me(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},zt=class t extends jm{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new fe(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},e6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ii=class t extends jm{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return e6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new fe(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new fe(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new fe(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new fe(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Ee=class t{constructor(e){this.path=e}static fromPath(e){return new t(zt.fromString(e))}static fromName(e){return new t(zt.fromString(e).popFirst(5))}static empty(){return new t(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new zt(e.slice()))}};var oE=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};oE.UNKNOWN_ID=-1;function t6(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ve.fromTimestamp(i===1e9?new yn(n+1,0):new yn(n,i));return new oa(r,Ee.empty(),e)}function n6(t){return new oa(t.readTime,t.key,-1)}var oa=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(Ve.min(),Ee.empty(),-1)}static max(){return new t(Ve.max(),Ee.empty(),-1)}};function i6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}var r6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Rd(t){return R(this,null,function*(){if(t.code!==j.FAILED_PRECONDITION||t.message!==r6)throw t;ae("LocalStore","Unexpectedly lost primary lease")})}var G=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(h=>{s[l]=h,++a,a===o&&i(s)},h=>r(h))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};function o6(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nd(t){return t.name==="IndexedDbTransactionError"}var r1=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function pg(t){return t==null}function bd(t){return t===0&&1/t==-1/0}function s6(t){return typeof t=="number"&&Number.isInteger(t)&&!bd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var a6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zge=[...a6,"documentOverlays"],c6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],u6=c6,Gge=[...u6,"indexConfiguration","indexState","indexEntries"];function AN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function du(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Gt=class t{constructor(e,n){this.comparator=e,this.root=n||hr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}},Wc=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},hr=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();let e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}};hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1;hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,n,i,r,o){return this}insert(e,n,i){return new hr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var On=class t{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Um(this.data.getIterator())}getIteratorFrom(e){return new Um(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Um=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dr=class t{constructor(e){this.fields=e,e.sort(ii.comparator)}static empty(){return new t([])}unionWith(e){let n=new On(ii.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zc(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Bm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Vn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bm("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Vn.EMPTY_BYTE_STRING=new Vn("");var l6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(Ct(!!t),typeof t=="string"){let e=0,n=l6.exec(t);if(Ct(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qo(t){return typeof t=="string"?Vn.fromBase64String(t):Vn.fromUint8Array(t)}function Pb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ob(t){let e=t.mapValue.fields.__previous_value__;return Pb(e)?Ob(e):e}function Cd(t){let e=Kr(t.mapValue.fields.__local_write_time__.timestampValue);return new yn(e.seconds,e.nanos)}var aE=class{constructor(e,n,i,r,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Hm=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Rm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pb(t)?4:s1(t)?9007199254740991:10:Me()}function mr(t,e){if(t===e)return!0;let n=sa(t);if(n!==sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cd(t).isEqual(Cd(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Kr(r.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return qo(r.bytesValue).isEqual(qo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return $t(r.geoPointValue.latitude)===$t(o.geoPointValue.latitude)&&$t(r.geoPointValue.longitude)===$t(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return $t(r.integerValue)===$t(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=$t(r.doubleValue),a=$t(o.doubleValue);return s===a?bd(s)===bd(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Zc(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(AN(s)!==AN(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!mr(s[c],a[c])))return!1;return!0}(t,e);default:return Me()}}function Td(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function Xc(t,e){if(t===e)return 0;let n=sa(t),i=sa(e);if(n!==i)return ct(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=$t(o.integerValue||o.doubleValue),c=$t(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return PN(t.timestampValue,e.timestampValue);case 4:return PN(Cd(t),Cd(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(o,s){let a=qo(o),c=qo(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=ct(a[l],c[l]);if(h!==0)return h}return ct(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ct($t(o.latitude),$t(s.latitude));return a!==0?a:ct($t(o.longitude),$t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let h=Xc(a[l],c[l]);if(h)return h}return ct(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Rm.mapValue&&s===Rm.mapValue)return 0;if(o===Rm.mapValue)return 1;if(s===Rm.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let m=ct(c[p],h[p]);if(m!==0)return m;let v=Xc(a[c[p]],l[h[p]]);if(v!==0)return v}return ct(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Me()}}function PN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);let n=Kr(t),i=Kr(e),r=ct(n.seconds,i.seconds);return r!==0?r:ct(n.nanos,i.nanos)}function Jc(t){return cE(t)}function cE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Kr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=cE(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${cE(n.fields[s])}`;return r+"}"}(t.mapValue):Me()}function uE(t){return!!t&&"integerValue"in t}function xb(t){return!!t&&"arrayValue"in t}function ON(t){return!!t&&"nullValue"in t}function xN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function km(t){return!!t&&"mapValue"in t}function yd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return du(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=yd(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function s1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Hi=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!km(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(n)}setAll(e){let n=ii.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=yd(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());km(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];km(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){du(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(yd(this.value))}};function a1(t){let e=[];return du(t.fields,(n,i)=>{let r=new ii([n]);if(km(i)){let o=a1(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new dr(e)}var $i=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Ve.min(),Ve.min(),Ve.min(),Hi.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,Ve.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,Ve.min(),Ve.min(),Hi.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ve.min(),Ve.min(),Hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var eu=class{constructor(e,n){this.position=e,this.inclusive=n}};function RN(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=Ee.comparator(Ee.fromName(s.referenceValue),n.key):i=Xc(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function NN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}var tu=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function d6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var $m=class{},cn=class t extends $m{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new dE(e,n,i):n==="array-contains"?new pE(e,i):n==="in"?new mE(e,i):n==="not-in"?new gE(e,i):n==="array-contains-any"?new vE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new hE(e,i):new fE(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xc(n,this.value)):n!==null&&sa(this.value)===sa(n)&&this.matchesComparison(Xc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gr=class t extends $m{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return c1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function c1(t){return t.op==="and"}function u1(t){return h6(t)&&c1(t)}function h6(t){for(let e of t.filters)if(e instanceof gr)return!1;return!0}function lE(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Jc(t.value);if(u1(t))return t.filters.map(e=>lE(e)).join(",");{let e=t.filters.map(n=>lE(n)).join(",");return`${t.op}(${e})`}}function l1(t,e){return t instanceof cn?function(i,r){return r instanceof cn&&i.op===r.op&&i.field.isEqual(r.field)&&mr(i.value,r.value)}(t,e):t instanceof gr?function(i,r){return r instanceof gr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&l1(s,r.filters[a]),!0):!1}(t,e):void Me()}function d1(t){return t instanceof cn?function(n){return`${n.field.canonicalString()} ${n.op} ${Jc(n.value)}`}(t):t instanceof gr?function(n){return n.op.toString()+" {"+n.getFilters().map(d1).join(" ,")+"}"}(t):"Filter"}var dE=class extends cn{constructor(e,n,i){super(e,n,i),this.key=Ee.fromName(i.referenceValue)}matches(e){let n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}},hE=class extends cn{constructor(e,n){super(e,"in",n),this.keys=h1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},fE=class extends cn{constructor(e,n){super(e,"not-in",n),this.keys=h1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function h1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ee.fromName(i.referenceValue))}var pE=class extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return xb(n)&&Td(n.arrayValue,this.value)}},mE=class extends cn{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}},gE=class extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Td(this.value.arrayValue,n)}},vE=class extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!xb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Td(this.value.arrayValue,i))}};var yE=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function kN(t,e=null,n=[],i=[],r=null,o=null,s=null){return new yE(t,e,n,i,r,o,s)}function Rb(t){let e=Fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>lE(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),pg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Jc(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Jc(i)).join(",")),e.ue=n}return e.ue}function Nb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!l1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NN(t.startAt,e.startAt)&&NN(t.endAt,e.endAt)}function _E(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var nu=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function f6(t,e,n,i,r,o,s,a){return new nu(t,e,n,i,r,o,s,a)}function kb(t){return new nu(t)}function FN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p6(t){return t.collectionGroup!==null}function _d(t){let e=Fe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new On(ii.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new tu(o,i))}),n.has(ii.keyField().canonicalString())||e.ce.push(new tu(ii.keyField(),i))}return e.ce}function fr(t){let e=Fe(t);return e.le||(e.le=m6(e,_d(t))),e.le}function m6(t,e){if(t.limitType==="F")return kN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new tu(r.field,o)});let n=t.endAt?new eu(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new eu(t.startAt.position,t.startAt.inclusive):null;return kN(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function IE(t,e,n){return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mg(t,e){return Nb(fr(t),fr(e))&&t.limitType===e.limitType}function f1(t){return`${Rb(fr(t))}|lt:${t.limitType}`}function zc(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>d1(r)).join(", ")}]`),pg(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Jc(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Jc(r)).join(",")),`Target(${i})`}(fr(t))}; limitType=${t.limitType})`}function gg(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ee.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of _d(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=RN(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,_d(i),r)||i.endAt&&!function(s,a,c){let l=RN(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,_d(i),r))}(t,e)}function g6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p1(t){return(e,n)=>{let i=!1;for(let r of _d(t)){let o=v6(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function v6(t,e,n){let i=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Xc(c,l):Me()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Me()}}var Wo=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){du(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return o1(this.inner)}size(){return this.innerSize}};var y6=new Gt(Ee.comparator);function Qr(){return y6}var m1=new Gt(Ee.comparator);function vd(...t){let e=m1;for(let n of t)e=e.insert(n.key,n);return e}function g1(t){let e=m1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ea(){return Id()}function v1(){return Id()}function Id(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}var _6=new Gt(Ee.comparator),I6=new On(Ee.comparator);function Ze(...t){let e=I6;for(let n of t)e=e.add(n);return e}var w6=new On(ct);function E6(){return w6}function y1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function _1(t){return{integerValue:""+t}}function b6(t,e){return s6(e)?_1(e):y1(t,e)}var iu=class{constructor(){this._=void 0}};function C6(t,e,n){return t instanceof ru?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Pb(o)&&(o=Ob(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof aa?w1(t,e):t instanceof ca?E1(t,e):function(r,o){let s=I1(r,o),a=LN(s)+LN(r.Pe);return uE(s)&&uE(r.Pe)?_1(a):y1(r.serializer,a)}(t,e)}function T6(t,e,n){return t instanceof aa?w1(t,e):t instanceof ca?E1(t,e):n}function I1(t,e){return t instanceof ou?function(i){return uE(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var ru=class extends iu{},aa=class extends iu{constructor(e){super(),this.elements=e}};function w1(t,e){let n=b1(e);for(let i of t.elements)n.some(r=>mr(r,i))||n.push(i);return{arrayValue:{values:n}}}var ca=class extends iu{constructor(e){super(),this.elements=e}};function E1(t,e){let n=b1(e);for(let i of t.elements)n=n.filter(r=>!mr(r,i));return{arrayValue:{values:n}}}var ou=class extends iu{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function LN(t){return $t(t.integerValue||t.doubleValue)}function b1(t){return xb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function D6(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof aa&&r instanceof aa||i instanceof ca&&r instanceof ca?Zc(i.elements,r.elements,mr):i instanceof ou&&r instanceof ou?mr(i.Pe,r.Pe):i instanceof ru&&r instanceof ru}(t.transform,e.transform)}var wE=class{constructor(e,n){this.version=e,this.transformResults=n}},ia=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var su=class{};function C1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zm(t.key,ia.none()):new ua(t.key,t.data,ia.none());{let n=t.data,i=Hi.empty(),r=new On(ii.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Yr(t.key,i,new dr(r.toArray()),ia.none())}}function S6(t,e,n){t instanceof ua?function(r,o,s){let a=r.value.clone(),c=jN(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yr?function(r,o,s){if(!Fm(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=jN(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(T1(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function wd(t,e,n,i){return t instanceof ua?function(o,s,a,c){if(!Fm(o.precondition,s))return a;let l=o.value.clone(),h=UN(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof Yr?function(o,s,a,c){if(!Fm(o.precondition,s))return a;let l=UN(o.fieldTransforms,c,s),h=s.data;return h.setAll(T1(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(o,s,a){return Fm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function M6(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=I1(i.transform,r||null);o!=null&&(n===null&&(n=Hi.empty()),n.set(i.field,o))}return n||null}function VN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Zc(i,r,(o,s)=>D6(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ua=class extends su{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Yr=class extends su{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function T1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function jN(t,e,n){let i=new Map;Ct(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,T6(s,a,n[r]))}return i}function UN(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,C6(o,s,e))}return i}var zm=class extends su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},EE=class extends su{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var bE=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&S6(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=wd(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=wd(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=v1();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=C1(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(Ve.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Zc(this.mutations,e.mutations,(n,i)=>VN(n,i))&&Zc(this.baseMutations,e.baseMutations,(n,i)=>VN(n,i))}},CE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ct(e.mutations.length===i.length);let r=function(){return _6}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var TE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var DE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var rn,tt;function A6(t){switch(t){default:return Me();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function D1(t){if(t===void 0)return Wr("GRPC error has no .code"),j.UNKNOWN;switch(t){case rn.OK:return j.OK;case rn.CANCELLED:return j.CANCELLED;case rn.UNKNOWN:return j.UNKNOWN;case rn.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case rn.INTERNAL:return j.INTERNAL;case rn.UNAVAILABLE:return j.UNAVAILABLE;case rn.UNAUTHENTICATED:return j.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case rn.NOT_FOUND:return j.NOT_FOUND;case rn.ALREADY_EXISTS:return j.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return j.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case rn.ABORTED:return j.ABORTED;case rn.OUT_OF_RANGE:return j.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return j.UNIMPLEMENTED;case rn.DATA_LOSS:return j.DATA_LOSS;default:return Me()}}(tt=rn||(rn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";var BN=null;function P6(){return new TextEncoder}var O6=new zo([4294967295,4294967295],0);function HN(t){let e=P6().encode(t),n=new Bw;return n.update(e),new Uint8Array(n.digest())}function $N(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zo([n,i],0),new zo([r,o],0)]}var SE=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ta(`Invalid padding: ${n}`);if(i<0)throw new ta(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ta(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ta(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zo.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(zo.fromNumber(i)));return r.compare(O6)===1&&(r=new zo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=HN(e),[i,r]=$N(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=HN(e),[i,r]=$N(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},ta=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gm=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Dd.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(Ve.min(),r,new Gt(ct),Qr(),Ze())}},Dd=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,Ze(),Ze(),Ze())}};var Kc=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},qm=class{constructor(e,n){this.targetId=e,this.me=n}},Wm=class{constructor(e,n,i=Vn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Km=class{constructor(){this.fe=0,this.ge=GN(),this.pe=Vn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Ze(),n=Ze(),i=Ze();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Me()}}),new Dd(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=GN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},ME=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qr(),this.qe=zN(),this.Qe=new Gt(ct)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:Me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let o=r.target;if(_E(o))if(i===0){let s=new Ee(o.path);this.Ue(n,s,$i.newNoDocument(s,Ve.min()))}else Ct(i===1);else{let s=this.Ye(n);if(s!==i){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}BN?.et(function(h,p,m,v,I){var S,O,F,Y,J,pe;let lt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},me=p.unchangedNames;return me&&(lt.bloomFilter={applied:I===0,hashCount:(S=me?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(Y=(F=(O=me?.bits)===null||O===void 0?void 0:O.bitmap)===null||F===void 0?void 0:F.length)!==null&&Y!==void 0?Y:0,padding:(pe=(J=me?.bits)===null||J===void 0?void 0:J.padding)!==null&&pe!==void 0?pe:0,mightContain:C=>{var y;return(y=v?.mightContain(C))!==null&&y!==void 0&&y}}),lt}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=qo(i).toUint8Array()}catch(c){if(c instanceof Bm)return Yc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new SE(s,r,o)}catch(c){return Yc(c instanceof ta?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&_E(a.target)){let c=new Ee(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,$i.newNoDocument(c,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let i=Ze();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Gm(e,n,this.Qe,this.ke,i);return this.ke=Qr(),this.qe=zN(),this.Qe=new Gt(ct),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Km,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new On(ct),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Km),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function zN(){return new Gt(Ee.comparator)}function GN(){return new Gt(Ee.comparator)}var x6={asc:"ASCENDING",desc:"DESCENDING"},R6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N6={and:"AND",or:"OR"},AE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function PE(t,e){return t.useProto3Json||pg(e)?e:{value:e}}function Qm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k6(t,e){return Qm(t,e.toTimestamp())}function pr(t){return Ct(!!t),Ve.fromTimestamp(function(n){let i=Kr(n);return new yn(i.seconds,i.nanos)}(t))}function Fb(t,e){return OE(t,e).canonicalString()}function OE(t,e){let n=function(r){return new zt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function M1(t){let e=zt.fromString(t);return Ct(R1(e)),e}function xE(t,e){return Fb(t.databaseId,e.path)}function Kw(t,e){let n=M1(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(P1(n))}function A1(t,e){return Fb(t.databaseId,e)}function F6(t){let e=M1(t);return e.length===4?zt.emptyPath():P1(e)}function RE(t){return new zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function P1(t){return Ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qN(t,e,n){return{name:xE(t,e),fields:n.value.mapValue.fields}}function L6(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ct(h===void 0||typeof h=="string"),Vn.fromBase64String(h||"")):(Ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Vn.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?j.UNKNOWN:D1(l.code);return new fe(h,l.message||"")}(s);n=new Wm(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Kw(t,i.document.name),o=pr(i.document.updateTime),s=i.document.createTime?pr(i.document.createTime):Ve.min(),a=new Hi({mapValue:{fields:i.document.fields}}),c=$i.newFoundDocument(r,o,s,a),l=i.targetIds||[],h=i.removedTargetIds||[];n=new Kc(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Kw(t,i.document),o=i.readTime?pr(i.readTime):Ve.min(),s=$i.newNoDocument(r,o),a=i.removedTargetIds||[];n=new Kc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Kw(t,i.document),o=i.removedTargetIds||[];n=new Kc([],o,r,null)}else{if(!("filter"in e))return Me();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new DE(r,o),a=i.targetId;n=new qm(a,s)}}return n}function V6(t,e){let n;if(e instanceof ua)n={update:qN(t,e.key,e.value)};else if(e instanceof zm)n={delete:xE(t,e.key)};else if(e instanceof Yr)n={update:qN(t,e.key,e.data),updateMask:W6(e.fieldMask)};else{if(!(e instanceof EE))return Me();n={verify:xE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof ru)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof aa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ca)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ou)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Me()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:k6(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Me()}(t,e.precondition)),n}function j6(t,e){return t&&t.length>0?(Ct(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?pr(r.updateTime):pr(o);return s.isEqual(Ve.min())&&(s=pr(o)),new wE(s,r.transformResults||[])}(n,e))):[]}function U6(t,e){return{documents:[A1(t,e.path)]}}function B6(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=A1(t,r);let o=function(l){if(l.length!==0)return x1(gr.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Gc(m.field),direction:z6(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=PE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:r}}function H6(t){let e=F6(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ct(i===1);let h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=O1(p);return m instanceof gr&&u1(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(I){return new tu(qc(I.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,pg(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){let m=!!p.before,v=p.values||[];return new eu(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new eu(v,m)}(n.endAt)),f6(e,r,s,o,a,"F",c,l)}function $6(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function O1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=qc(n.unaryFilter.field);return cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=qc(n.unaryFilter.field);return cn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qc(n.unaryFilter.field);return cn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qc(n.unaryFilter.field);return cn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(t):t.fieldFilter!==void 0?function(n){return cn.create(qc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gr.create(n.compositeFilter.filters.map(i=>O1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Me()}}(n.compositeFilter.op))}(t):Me()}function z6(t){return x6[t]}function G6(t){return R6[t]}function q6(t){return N6[t]}function Gc(t){return{fieldPath:t.canonicalString()}}function qc(t){return ii.fromServerFormat(t.fieldPath)}function x1(t){return t instanceof cn?function(n){if(n.op==="=="){if(xN(n.value))return{unaryFilter:{field:Gc(n.field),op:"IS_NAN"}};if(ON(n.value))return{unaryFilter:{field:Gc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xN(n.value))return{unaryFilter:{field:Gc(n.field),op:"IS_NOT_NAN"}};if(ON(n.value))return{unaryFilter:{field:Gc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gc(n.field),op:G6(n.op),value:n.value}}}(t):t instanceof gr?function(n){let i=n.getFilters().map(r=>x1(r));return i.length===1?i[0]:{compositeFilter:{op:q6(n.op),filters:i}}}(t):Me()}function W6(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Sd=class t{constructor(e,n,i,r,o=Ve.min(),s=Ve.min(),a=Vn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var NE=class{constructor(e){this.ct=e}};function K6(t){let e=H6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?IE(e,e.limit,"L"):e}var Ym=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt($t(e.integerValue));else if("doubleValue"in e){let i=$t(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),bd(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=Kr(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(qo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?s1(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Me()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),Ee.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Ym.bt=new Ym;var kE=class{constructor(){this._n=new FE}addToCollectionParentIndex(e,n){return this._n.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(oa.min())}updateCollectionGroup(e,n,i){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}},FE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new On(zt.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new On(zt.comparator)).toArray()}};var Wge=new Uint8Array(0);var lr=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};lr.DEFAULT_COLLECTION_PERCENTILE=10,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lr.DEFAULT=new lr(41943040,lr.DEFAULT_COLLECTION_PERCENTILE,lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lr.DISABLED=new lr(-1,0,0);var Md=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var LE=class{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?G.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var VE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var jE=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&wd(i.mutation,r,dr.empty(),yn.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ze()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ze()){let r=ea();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=vd();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=ea();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ze()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=Qr(),s=Id(),a=function(){return Id()}();return n.forEach((c,l)=>{let h=i.get(l.key);r.has(l.key)&&(h===void 0||h.mutation instanceof Yr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),wd(h.mutation,l,h.mutation.getFieldMask(),yn.now())):s.set(l.key,dr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new VE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Id(),r=new Gt((s,a)=>s-a),o=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let h=i.get(c)||dr.empty();h=a.applyToLocalView(l,h),i.set(c,h);let p=(r.get(a.batchId)||Ze()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=v1();h.forEach(m=>{if(!o.has(m)){let v=C1(n.get(m),i.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return G.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):G.resolve(ea()),a=-1,c=o;return s.next(l=>G.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?G.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Ze())).next(h=>({batchId:a,changes:g1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(i=>{let r=vd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=vd();return this.indexManager.getCollectionParents(e,o).next(a=>G.forEach(a,c=>{let l=function(p,m){return new nu(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,$i.newInvalidDocument(h)))});let a=vd();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&wd(h.mutation,l,dr.empty(),yn.now()),gg(n,l)&&(a=a.insert(c,l))}),a})}};var UE=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return G.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:pr(r.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:K6(r.bundledQuery),readTime:pr(r.readTime)}}(n)),G.resolve()}};var BE=class{constructor(){this.overlays=new Gt(Ee.comparator),this.hr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){let i=ea();return G.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),G.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),G.resolve()}getOverlaysForCollection(e,n,i){let r=ea(),o=n.length+1,s=new Ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return G.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Gt((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let h=o.get(l.largestBatchId);h===null&&(h=ea(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ea(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=r)););return G.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new TE(n,i));let o=this.hr.get(n);o===void 0&&(o=Ze(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var Ad=class{constructor(){this.Pr=new On(on.Ir),this.Tr=new On(on.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new on(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new on(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new Ee(new zt([])),i=new on(n,e),r=new on(n,e+1),o=[];return this.Tr.forEachInRange([i,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new Ee(new zt([])),i=new on(n,e),r=new on(n,e+1),o=Ze();return this.Tr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new on(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},on=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Ee.comparator(e.key,n.key)||ct(e.pr,n.pr)}static Er(e,n){return ct(e.pr,n.pr)||Ee.comparator(e.key,n.key)}};var HE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new On(on.Ir)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new bE(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.wr=this.wr.add(new on(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(s)}lookupMutationBatch(e,n){return G.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new on(n,0),r=new on(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],s=>{let a=this.Sr(s.pr);o.push(a)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new On(ct);return n.forEach(r=>{let o=new on(r,0),s=new on(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{i=i.add(a.pr)})}),G.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;Ee.isDocumentKey(o)||(o=o.child(""));let s=new on(new Ee(o),0),a=new On(ct);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},s),G.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ct(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return G.forEach(n.mutations,r=>{let o=new on(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new on(n,0),r=this.wr.firstAfterOrEqual(i);return G.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var $E=class{constructor(e){this.vr=e,this.docs=function(){return new Gt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return G.resolve(i?i.document.mutableCopy():$i.newInvalidDocument(n))}getEntries(e,n){let i=Qr();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():$i.newInvalidDocument(r))}),G.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Qr(),s=n.path,a=new Ee(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||i6(n6(h),i)<=0||(r.has(h.key)||gg(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Me()}Fr(e,n){return G.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new zE(this)}getSize(e){return G.resolve(this.size)}},zE=class extends LE{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),G.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var GE=class{constructor(e){this.persistence=e,this.Mr=new Wo(n=>Rb(n),Nb),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ad,this.targetCount=0,this.Lr=Md.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),G.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Md(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.qn(n),G.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),G.waitFor(o).next(()=>r)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return G.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),G.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),G.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return G.resolve(i)}containsKey(e,n){return G.resolve(this.Nr.containsKey(n))}};var qE=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new r1(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new GE(this),this.indexManager=new kE,this.remoteDocumentCache=function(r){return new $E(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new NE(n),this.$r=new UE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new HE(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){ae("MemoryPersistence","Starting transaction:",e);let r=new WE(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return G.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},WE=class extends sE{constructor(e){super(),this.currentSequenceNumber=e}},KE=class t{constructor(e){this.persistence=e,this.zr=new Ad,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Me()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),G.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),G.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Jr,i=>{let r=Ee.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,Ve.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return G.or([()=>G.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var QE=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=Ze(),r=Ze();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var YE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ZE=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return $R()?8:o6(ni())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new YE;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(gd()<=Ye.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",zc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),G.resolve()):(gd()<=Ye.DEBUG&&ae("QueryEngine","Query:",zc(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(gd()<=Ye.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",zc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):G.resolve())}ji(e,n){if(FN(n))return G.resolve(null);let i=fr(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=IE(n,null,"F"),i=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=Ze(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,s,c.readTime)?this.ji(e,IE(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return FN(n)||r.isEqual(Ve.min())?G.resolve(null):this.zi.getDocuments(e,i).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,i,r)?G.resolve(null):(gd()<=Ye.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zc(n)),this.es(e,s,n,t6(r,-1)).next(a=>a))})}Zi(e,n){let i=new On(p1(e));return n.forEach((r,o)=>{gg(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return gd()<=Ye.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",zc(n)),this.zi.getDocumentsMatchingQuery(e,n,oa.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var XE=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Gt(ct),this.rs=new Wo(o=>Rb(o),Nb),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jE(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function Q6(t,e,n,i){return new XE(t,e,n,i)}function N1(t,e){return R(this,null,function*(){let n=Fe(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=Ze();for(let l of r){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Y6(t,e){let n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){let p=l.batch,m=p.keys(),v=G.resolve();return m.forEach(I=>{v=v.next(()=>h.getEntry(c,I)).next(S=>{let O=l.docVersions.get(I);Ct(O!==null),S.version.compareTo(O)<0&&(p.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),h.addEntry(S)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=Ze();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function k1(t){let e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Z6(t,e){let n=Fe(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((h,p)=>{let m=r.get(p);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Vn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,i)),r=r.insert(p,v),function(S,O,F){return S.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,v,h)&&a.push(n.Qr.updateTargetData(o,v))});let c=Qr(),l=Ze();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(X6(o,s,e.documentUpdates).next(h=>{c=h.cs,l=h.ls})),!i.isEqual(Ve.min())){let h=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(h)}return G.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ns=r,o))}function X6(t,e,n){let i=Ze(),r=Ze();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=Qr();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(Ve.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:s,ls:r}})}function J6(t,e){let n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function e8(t,e){let n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,G.resolve(r)):n.Qr.allocateTargetId(i).next(s=>(r=new Sd(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function JE(t,e,n){return R(this,null,function*(){let i=Fe(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Nd(s))throw s;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function WN(t,e,n){let i=Fe(t),r=Ve.min(),o=Ze();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=Fe(c),m=p.rs.get(h);return m!==void 0?G.resolve(p.ns.get(m)):p.Qr.getTargetData(l,h)}(i,s,fr(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ts.getDocumentsMatchingQuery(s,e,n?r:Ve.min(),n?o:Ze())).next(a=>(t8(i,g6(e),a),{documents:a,hs:o})))}function t8(t,e,n){let i=t.ss.get(e)||Ve.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}var Zm=class{constructor(){this.activeTargetIds=E6()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var eb=class{constructor(){this.no=new Zm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zm,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var tb=class{io(e){}shutdown(){}};var Xm=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Nm=null;function Qw(){return Nm===null?Nm=function(){return 268435456+Math.round(2147483648*Math.random())}():Nm++,"0x"+Nm.toString(16)}var n8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var nb=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Pn="WebChannelConnection",ib=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(n,i,r,o,s){let a=Qw(),c=this.vo(n,i.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,o,s),this.Mo(n,c,l,r).then(h=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Yc("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",c,"request:",r),h})}xo(n,i,r,o,s,a){return this.Co(n,i,r,o,s)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}vo(n,i){let r=n8[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let o=Qw();return new Promise((s,a)=>{let c=new Hw;c.setWithCredentials(!0),c.listenOnce(zw.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case md.NO_ERROR:let h=c.getResponseJson();ae(Pn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case md.TIMEOUT:ae(Pn,`RPC '${e}' ${o} timed out`),a(new fe(j.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:let p=c.getStatus();if(ae(Pn,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let I=function(O){let F=O.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(F)>=0?F:j.UNKNOWN}(v.status);a(new fe(I,v.message))}else a(new fe(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new fe(j.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{ae(Pn,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);ae(Pn,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",l,i,15)})}Oo(e,n,i){let r=Qw(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ww(),a=qw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new $w({})),this.Fo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let h=o.join("");ae(Pn,`Creating RPC '${e}' stream ${r}: ${h}`,c);let p=s.createWebChannel(h,c),m=!1,v=!1,I=new nb({lo:O=>{v?ae(Pn,`Not sending because RPC '${e}' stream ${r} is closed:`,O):(m||(ae(Pn,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),ae(Pn,`RPC '${e}' stream ${r} sending:`,O),p.send(O))},ho:()=>p.close()}),S=(O,F,Y)=>{O.listen(F,J=>{try{Y(J)}catch(pe){setTimeout(()=>{throw pe},0)}})};return S(p,$c.EventType.OPEN,()=>{v||(ae(Pn,`RPC '${e}' stream ${r} transport opened.`),I.mo())}),S(p,$c.EventType.CLOSE,()=>{v||(v=!0,ae(Pn,`RPC '${e}' stream ${r} transport closed`),I.po())}),S(p,$c.EventType.ERROR,O=>{v||(v=!0,Yc(Pn,`RPC '${e}' stream ${r} transport errored:`,O),I.po(new fe(j.UNAVAILABLE,"The operation could not be completed")))}),S(p,$c.EventType.MESSAGE,O=>{var F;if(!v){let Y=O.data[0];Ct(!!Y);let J=Y,pe=J.error||((F=J[0])===null||F===void 0?void 0:F.error);if(pe){ae(Pn,`RPC '${e}' stream ${r} received error:`,pe);let lt=pe.status,me=function(w){let T=rn[w];if(T!==void 0)return D1(T)}(lt),C=pe.message;me===void 0&&(me=j.INTERNAL,C="Unknown error status: "+lt+" with message "+pe.message),v=!0,I.po(new fe(me,C)),p.close()}else ae(Pn,`RPC '${e}' stream ${r} received:`,Y),I.yo(Y)}}),S(a,Gw.STAT_EVENT,O=>{O.stat===xm.PROXY?ae(Pn,`RPC '${e}' stream ${r} detected buffering proxy`):O.stat===xm.NOPROXY&&ae(Pn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.fo()},0),I}};function Yw(){return typeof document<"u"?document:null}function vg(t){return new AE(t,!0)}var Jm=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&ae("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var eg=class{constructor(e,n,i,r,o,s,a,c){this.oi=e,this.Go=i,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Jm(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return R(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return R(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return R(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new fe(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>R(this,null,function*(){this.state=0,this.start()}))}c_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},rb=class extends eg{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=L6(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ve.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Ve.min():s.readTime?pr(s.readTime):Ve.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=RE(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=_E(c)?{documents:U6(o,c)}:{query:B6(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=S1(o,s.resumeToken);let l=PE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(Ve.min())>0){a.readTime=Qm(o,s.snapshotVersion.toTimestamp());let l=PE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=$6(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=RE(this.serializer),n.removeTarget=e,this.i_(n)}},ob=class extends eg{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=j6(e.writeResults,e.commitTime),i=pr(e.commitTime);return this.listener.A_(i,n)}return Ct(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=RE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>V6(this.serializer,i))};this.i_(n)}};var sb=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new fe(j.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,OE(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(j.UNKNOWN,o.toString())})}xo(e,n,i,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,OE(n,i),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new fe(j.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},ab=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Wr(n),this.y_=!1):ae("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var cb=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{i.enqueueAndForget(()=>R(this,null,function*(){la(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),yield function(c){return R(this,null,function*(){let l=Fe(c);l.M_.add(4),yield kd(l),l.N_.set("Unknown"),l.M_.delete(4),yield yg(l)})}(this))}))}),this.N_=new ab(i,r)}};function yg(t){return R(this,null,function*(){if(la(t))for(let e of t.x_)yield e(!0)})}function kd(t){return R(this,null,function*(){for(let e of t.x_)yield e(!1)})}function F1(t,e){let n=Fe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Ub(n)?jb(n):hu(n).Xo()&&Vb(n,e))}function Lb(t,e){let n=Fe(t),i=hu(n);n.F_.delete(e),i.Xo()&&L1(n,e),n.F_.size===0&&(i.Xo()?i.n_():la(n)&&n.N_.set("Unknown"))}function Vb(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hu(t).P_(e)}function L1(t,e){t.L_.xe(e),hu(t).I_(e)}function jb(t){t.L_=new ME({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),hu(t).start(),t.N_.w_()}function Ub(t){return la(t)&&!hu(t).Zo()&&t.F_.size>0}function la(t){return Fe(t).M_.size===0}function V1(t){t.L_=void 0}function i8(t){return R(this,null,function*(){t.N_.set("Online")})}function r8(t){return R(this,null,function*(){t.F_.forEach((e,n)=>{Vb(t,e)})})}function o8(t,e){return R(this,null,function*(){V1(t),Ub(t)?(t.N_.D_(e),jb(t)):t.N_.set("Unknown")})}function s8(t,e,n){return R(this,null,function*(){if(t.N_.set("Online"),e instanceof Wm&&e.state===2&&e.cause)try{yield function(r,o){return R(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.F_.delete(a),r.L_.removeTarget(a))})}(t,e)}catch(i){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield tg(t,i)}else if(e instanceof Kc?t.L_.Ke(e):e instanceof qm?t.L_.He(e):t.L_.We(e),!n.isEqual(Ve.min()))try{let i=yield k1(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.F_.get(l);h&&o.F_.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.F_.get(c);if(!h)return;o.F_.set(c,h.withResumeToken(Vn.EMPTY_BYTE_STRING,h.snapshotVersion)),L1(o,c);let p=new Sd(h.target,c,l,h.sequenceNumber);Vb(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){ae("RemoteStore","Failed to raise snapshot:",i),yield tg(t,i)}})}function tg(t,e,n){return R(this,null,function*(){if(!Nd(e))throw e;t.M_.add(1),yield kd(t),t.N_.set("Offline"),n||(n=()=>k1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>R(this,null,function*(){ae("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield yg(t)}))})}function j1(t,e){return e().catch(n=>tg(t,n,e))}function _g(t){return R(this,null,function*(){let e=Fe(t),n=Ko(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;a8(e);)try{let r=yield J6(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,c8(e,r)}catch(r){yield tg(e,r)}U1(e)&&B1(e)})}function a8(t){return la(t)&&t.v_.length<10}function c8(t,e){t.v_.push(e);let n=Ko(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function U1(t){return la(t)&&!Ko(t).Zo()&&t.v_.length>0}function B1(t){Ko(t).start()}function u8(t){return R(this,null,function*(){Ko(t).V_()})}function l8(t){return R(this,null,function*(){let e=Ko(t);for(let n of t.v_)e.d_(n.mutations)})}function d8(t,e,n){return R(this,null,function*(){let i=t.v_.shift(),r=CE.from(i,e,n);yield j1(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield _g(t)})}function h8(t,e){return R(this,null,function*(){e&&Ko(t).E_&&(yield function(i,r){return R(this,null,function*(){if(function(s){return A6(s)&&s!==j.ABORTED}(r.code)){let o=i.v_.shift();Ko(i).t_(),yield j1(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield _g(i)}})}(t,e)),U1(t)&&B1(t)})}function KN(t,e){return R(this,null,function*(){let n=Fe(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");let i=la(n);n.M_.add(3),yield kd(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield yg(n)})}function f8(t,e){return R(this,null,function*(){let n=Fe(t);e?(n.M_.delete(2),yield yg(n)):e||(n.M_.add(2),yield kd(n),n.N_.set("Unknown"))})}function hu(t){return t.B_||(t.B_=function(n,i,r){let o=Fe(n);return o.f_(),new rb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:i8.bind(null,t),To:r8.bind(null,t),Ao:o8.bind(null,t),h_:s8.bind(null,t)}),t.x_.push(e=>R(this,null,function*(){e?(t.B_.t_(),Ub(t)?jb(t):t.N_.set("Unknown")):(yield t.B_.stop(),V1(t))}))),t.B_}function Ko(t){return t.k_||(t.k_=function(n,i,r){let o=Fe(n);return o.f_(),new ob(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:u8.bind(null,t),Ao:h8.bind(null,t),R_:l8.bind(null,t),A_:d8.bind(null,t)}),t.x_.push(e=>R(this,null,function*(){e?(t.k_.t_(),yield _g(t)):(yield t.k_.stop(),t.v_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var ub=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Bb(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),Nd(t))return new fe(j.UNAVAILABLE,`${e}: ${t}`);throw t}var ng=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ee.comparator(n.key,i.key):(n,i)=>Ee.comparator(n.key,i.key),this.keyedMap=vd(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var ig=class{constructor(){this.q_=new Gt(Ee.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Me():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},au=class t{constructor(e,n,i,r,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,ng.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var lb=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},db=class{constructor(){this.queries=new Wo(e=>f1(e),mg),this.onlineState="Unknown",this.z_=new Set}};function p8(t,e){return R(this,null,function*(){let n=Fe(t),i=3,r=e.query,o=n.queries.get(r);o?!o.W_()&&e.G_()&&(i=2):(o=new lb,i=e.G_()?0:1);try{switch(i){case 0:o.K_=yield n.onListen(r,!0);break;case 1:o.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let a=Bb(s,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Hb(n)})}function m8(t,e){return R(this,null,function*(){let n=Fe(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=e.G_()?0:1:!o.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function g8(t,e){let n=Fe(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.U_)a.H_(r)&&(i=!0);s.K_=r}}i&&Hb(n)}function v8(t,e,n){let i=Fe(t),r=i.queries.get(e);if(r)for(let o of r.U_)o.onError(n);i.queries.delete(e)}function Hb(t){t.z_.forEach(e=>{e.next()})}var hb,QN;(QN=hb||(hb={})).J_="default",QN.Cache="cache";var fb=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new au(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=au.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==hb.Cache}};var rg=class{constructor(e){this.key=e}},og=class{constructor(e){this.key=e}},pb=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ze(),this.mutatedKeys=Ze(),this.Ia=p1(e),this.Ta=new ng(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new ig,r=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{let m=r.get(h),v=gg(this.query,p)?p:null,I=!!m&&this.mutatedKeys.has(m.key),S=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),O=!1;m&&v?m.data.isEqual(v.data)?I!==S&&(i.track({type:3,doc:v}),O=!0):this.Ra(m,v)||(i.track({type:2,doc:v}),O=!0,(c&&this.Ia(v,c)>0||l&&this.Ia(v,l)<0)&&(a=!0)):!m&&v?(i.track({type:0,doc:v}),O=!0):m&&!v&&(i.track({type:1,doc:m}),O=!0,(c||l)&&(a=!0)),O&&(v?(s=s.add(v),o=S?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),i.track({type:1,doc:h})}return{Ta:s,Aa:i,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((h,p)=>function(v,I){let S=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return S(v)-S(I)}(h.type,p.type)||this.Ia(h.doc,p.doc)),this.Va(i),r=r!=null&&r;let a=n&&!r?this.ma():[],c=this.Pa.size===0&&this.current&&!r?1:0,l=c!==this.ha;return this.ha=c,s.length!==0||l?{snapshot:new au(this.query,e.Ta,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new ig,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=Ze(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new og(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new rg(i))}),n}pa(e){this.la=e.hs,this.Pa=Ze();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return au.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},mb=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},gb=class{constructor(e){this.key=e,this.wa=!1}},vb=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Wo(a=>f1(a),mg),this.Da=new Map,this.Ca=new Set,this.va=new Gt(Ee.comparator),this.Fa=new Map,this.Ma=new Ad,this.xa={},this.Oa=new Map,this.Na=Md.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function y8(t,e,n=!0){return R(this,null,function*(){let i=W1(t),r,o=i.ba.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield H1(i,e,n,!0),r})}function _8(t,e){return R(this,null,function*(){let n=W1(t);yield H1(n,e,!0,!1)})}function H1(t,e,n,i){return R(this,null,function*(){let r=yield e8(t.localStore,fr(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return i&&(a=yield I8(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&F1(t.remoteStore,r),a})}function I8(t,e,n,i,r){return R(this,null,function*(){t.Ba=(p,m,v)=>function(S,O,F,Y){return R(this,null,function*(){let J=O.view.da(F);J.Xi&&(J=yield WN(S.localStore,O.query,!1).then(({documents:C})=>O.view.da(C,J)));let pe=Y&&Y.targetChanges.get(O.targetId),lt=Y&&Y.targetMismatches.get(O.targetId)!=null,me=O.view.applyChanges(J,S.isPrimaryClient,pe,lt);return ZN(S,O.targetId,me.fa),me.snapshot})}(t,p,m,v);let o=yield WN(t.localStore,e,!0),s=new pb(e,o.hs),a=s.da(o.documents),c=Dd.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=s.applyChanges(a,t.isPrimaryClient,c);ZN(t,n,l.fa);let h=new mb(e,n,s);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function w8(t,e,n){return R(this,null,function*(){let i=Fe(t),r=i.ba.get(e),o=i.Da.get(r.targetId);if(o.length>1)return i.Da.set(r.targetId,o.filter(s=>!mg(s,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield JE(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Lb(i.remoteStore,r.targetId),yb(i,r.targetId)}).catch(Rd))):(yb(i,r.targetId),yield JE(i.localStore,r.targetId,!0))})}function E8(t,e){return R(this,null,function*(){let n=Fe(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Lb(n.remoteStore,i.targetId))})}function b8(t,e,n){return R(this,null,function*(){let i=P8(t);try{let r=yield function(s,a){let c=Fe(s),l=yn.now(),h=a.reduce((v,I)=>v.add(I.key),Ze()),p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=Qr(),S=Ze();return c.os.getEntries(v,h).next(O=>{I=O,I.forEach((F,Y)=>{Y.isValidDocument()||(S=S.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,I)).next(O=>{p=O;let F=[];for(let Y of a){let J=M6(Y,p.get(Y.key).overlayedDocument);J!=null&&F.push(new Yr(Y.key,J,a1(J.value.mapValue),ia.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,F,a)}).next(O=>{m=O;let F=O.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(v,O.batchId,F)})}).then(()=>({batchId:m.batchId,changes:g1(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.xa[s.currentUser.toKey()];l||(l=new Gt(ct)),l=l.insert(a,c),s.xa[s.currentUser.toKey()]=l}(i,r.batchId,n),yield Fd(i,r.changes),yield _g(i.remoteStore)}catch(r){let o=Bb(r,"Failed to persist write");n.reject(o)}})}function $1(t,e){return R(this,null,function*(){let n=Fe(t);try{let i=yield Z6(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Fa.get(o);s&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?Ct(s.wa):r.removedDocuments.size>0&&(Ct(s.wa),s.wa=!1))}),yield Fd(n,i,e)}catch(i){yield Rd(i)}})}function YN(t,e,n){let i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=Fe(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let m of p.U_)m.j_(a)&&(l=!0)}),l&&Hb(c)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function C8(t,e,n){return R(this,null,function*(){let i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),o=r&&r.key;if(o){let s=new Gt(Ee.comparator);s=s.insert(o,$i.newNoDocument(o,Ve.min()));let a=Ze().add(o),c=new Gm(Ve.min(),new Map,new Gt(ct),s,a);yield $1(i,c),i.va=i.va.remove(o),i.Fa.delete(e),$b(i)}else yield JE(i.localStore,e,!1).then(()=>yb(i,e,n)).catch(Rd)})}function T8(t,e){return R(this,null,function*(){let n=Fe(t),i=e.batch.batchId;try{let r=yield Y6(n.localStore,e);G1(n,i,null),z1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Fd(n,r)}catch(r){yield Rd(r)}})}function D8(t,e,n){return R(this,null,function*(){let i=Fe(t);try{let r=yield function(s,a){let c=Fe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ct(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>c.localDocuments.getDocuments(l,h))})}(i.localStore,e);G1(i,e,n),z1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Fd(i,r)}catch(r){yield Rd(r)}})}function z1(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function G1(t,e,n){let i=Fe(t),r=i.xa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function yb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||q1(t,i)})}function q1(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(Lb(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),$b(t))}function ZN(t,e,n){for(let i of n)i instanceof rg?(t.Ma.addReference(i.key,e),S8(t,i)):i instanceof og?(ae("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||q1(t,i.key)):Me()}function S8(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(ae("SyncEngine","New document in limbo: "+n),t.Ca.add(i),$b(t))}function $b(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new Ee(zt.fromString(e)),i=t.Na.next();t.Fa.set(i,new gb(n)),t.va=t.va.insert(n,i),F1(t.remoteStore,new Sd(fr(kb(n.path)),i,"TargetPurposeLimboResolution",r1.oe))}}function Fd(t,e,n){return R(this,null,function*(){let i=Fe(t),r=[],o=[],s=[];i.ba.isEmpty()||(i.ba.forEach((a,c)=>{s.push(i.Ba(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient){let h=l&&!l.fromCache;i.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){r.push(l);let h=QE.Ki(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),i.Sa.h_(r),yield function(c,l){return R(this,null,function*(){let h=Fe(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>G.forEach(l,m=>G.forEach(m.qi,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>G.forEach(m.Qi,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Nd(p))throw p;ae("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.ns.get(m),I=v.snapshotVersion,S=v.withLastLimboFreeSnapshotVersion(I);h.ns=h.ns.insert(m,S)}}})}(i.localStore,o))})}function M8(t,e){return R(this,null,function*(){let n=Fe(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());let i=yield N1(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(c=>{c.reject(new fe(j.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Fd(n,i.us)}})}function A8(t,e){let n=Fe(t),i=n.Fa.get(e);if(i&&i.wa)return Ze().add(i.key);{let r=Ze(),o=n.Da.get(e);if(!o)return r;for(let s of o){let a=n.ba.get(s);r=r.unionWith(a.view.Ea)}return r}}function W1(t){let e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C8.bind(null,e),e.Sa.h_=g8.bind(null,e.eventManager),e.Sa.ka=v8.bind(null,e.eventManager),e}function P8(t){let e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D8.bind(null,e),e}var sg=class{constructor(){this.synchronizeTabs=!1}initialize(e){return R(this,null,function*(){this.serializer=vg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Q6(this.persistence,new ZE,e.initialUser,this.serializer)}createPersistence(e){return new qE(KE.Hr,this.serializer)}createSharedClientState(e){return new eb}terminate(){return R(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var _b=class{initialize(e,n){return R(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>YN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M8.bind(null,this.syncEngine),yield f8(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new db}()}createDatastore(e){let n=vg(e.databaseInfo.databaseId),i=function(o){return new ib(o)}(e.databaseInfo);return function(o,s,a,c){return new sb(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new cb(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>YN(this.syncEngine,n,0),function(){return Xm.D()?new Xm:new tb}())}createSyncEngine(e,n){return function(r,o,s,a,c,l,h){let p=new vb(r,o,s,a,c,l);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return R(this,null,function*(){var e;yield function(i){return R(this,null,function*(){let r=Fe(i);ae("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield kd(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Ib=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var wb=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ln.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>R(this,null,function*(){ae("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=Bb(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Zw(t,e){return R(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>R(this,null,function*(){i.isEqual(r)||(yield N1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function XN(t,e){return R(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield x8(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>KN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>KN(e.remoteStore,r)),t._onlineComponents=e})}function O8(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function x8(t){return R(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zw(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!O8(n))throw n;Yc("Error using user provided cache. Falling back to memory cache: "+n),yield Zw(t,new sg)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),yield Zw(t,new sg);return t._offlineComponents})}function K1(t){return R(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield XN(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),yield XN(t,new _b))),t._onlineComponents})}function R8(t){return K1(t).then(e=>e.syncEngine)}function JN(t){return R(this,null,function*(){let e=yield K1(t),n=e.eventManager;return n.onListen=y8.bind(null,e.syncEngine),n.onUnlisten=w8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E8.bind(null,e.syncEngine),n})}function Q1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var e1=new Map;function Y1(t,e,n){if(!n)throw new fe(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N8(t,e,n,i){if(e===!0&&i===!0)throw new fe(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function t1(t){if(!Ee.isDocumentKey(t))throw new fe(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function n1(t){if(Ee.isDocumentKey(t))throw new fe(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function Ed(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=zb(t);throw new fe(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ag=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},cu=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ag({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new fe(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ag(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Xw;switch(i.type){case"firstParty":return new nE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=e1.get(n);i&&(ae("ComponentProvider","Removing Datastore"),e1.delete(n),i.terminate())}(this),Promise.resolve()}};function Z1(t,e,n,i={}){var r;let o=(t=Ed(t,cu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=ln.MOCK_USER;else{a=jR(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new fe(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ln(l)}t._authCredentials=new Jw(new Lm(a,c))}}var cg=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},yi=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Go=class t extends cg{constructor(e,n,i){super(e,n,kb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new yi(this.firestore,null,new Ee(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function X1(t,e,...n){if(t=gi(t),Y1("collection","path",e),t instanceof cu){let i=zt.fromString(e,...n);return n1(i),new Go(t,null,i)}{if(!(t instanceof yi||t instanceof Go))throw new fe(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(zt.fromString(e,...n));return n1(i),new Go(t.firestore,null,i)}}function J1(t,e,...n){if(t=gi(t),arguments.length===1&&(e=Vm.newId()),Y1("doc","path",e),t instanceof cu){let i=zt.fromString(e,...n);return t1(i),new yi(t,null,new Ee(i))}{if(!(t instanceof yi||t instanceof Go))throw new fe(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(zt.fromString(e,...n));return t1(i),new yi(t.firestore,t instanceof Go?t.converter:null,new Ee(i))}}var Eb=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Jm(this,"async_queue_retry"),this.hu=()=>{let n=Yw();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Yw();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Yw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new qr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return R(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Nd(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw Wr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=ub.createAndSchedule(this,e,n,i,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&Me()}verifyOperationInProgress(){}du(){return R(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function i1(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var uu=class extends cu{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Eb}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nk(this),this._firestoreClient.terminate()}};function ek(t,e){let n=typeof t=="object"?t:od(),i=typeof t=="string"?t:e||"(default)",r=Ew(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=LR("firestore");o&&Z1(r,...o)}return r}function tk(t){return t._firestoreClient||nk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nk(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,l,h){return new aE(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Q1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new wb(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Pd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Vn.fromBase64String(e))}catch(n){throw new fe(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Od=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ug=class{constructor(e){this._methodName=e}};var xd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}};var k8=/^__.*__$/,bb=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ua(e,this.data,n,this.fieldTransforms)}};function ik(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}var Cb=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return lg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(ik(this.fu)&&k8.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Tb=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||vg(e)}Fu(e,n,i,r=!1){return new Cb({fu:e,methodName:n,vu:i,path:ii.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function F8(t){let e=t._freezeSettings(),n=vg(t._databaseId);return new Tb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L8(t,e,n,i,r,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,r);ak("Data must be an object, but it was:",s,i);let a=ok(i,s),c,l;if(o.merge)c=new dr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=V8(e,p,n);if(!s.contains(m))throw new fe(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);U8(h,m)||h.push(m)}c=new dr(h),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new bb(new Hi(a),c,l)}function rk(t,e){if(sk(t=gi(t)))return ak("Unsupported field value:",e,t),ok(t,e);if(t instanceof ug)return function(i,r){if(!ik(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=rk(a,r.bu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=gi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return b6(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=yn.fromDate(i);return{timestampValue:Qm(r.serializer,o)}}if(i instanceof yn){let o=new yn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qm(r.serializer,o)}}if(i instanceof xd)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pd)return{bytesValue:S1(r.serializer,i._byteString)};if(i instanceof yi){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fb(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${zb(i)}`)}(t,e)}function ok(t,e){let n={};return o1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):du(t,(i,r)=>{let o=rk(r,e.pu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function sk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yn||t instanceof xd||t instanceof Pd||t instanceof yi||t instanceof ug)}function ak(t,e,n){if(!sk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=zb(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function V8(t,e,n){if((e=gi(e))instanceof Od)return e._internalPath;if(typeof e=="string")return ck(t,e);throw lg("Field path arguments must be of type string or ",t,!1,void 0,n)}var j8=new RegExp("[~\\*/\\[\\]]");function ck(t,e,n){if(e.search(j8)>=0)throw lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Od(...e.split("."))._internalPath}catch{throw lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lg(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new fe(j.INVALID_ARGUMENT,a+t+c)}function U8(t,e){return t.some(n=>n.isEqual(e))}var dg=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(uk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Db=class extends dg{data(){return super.data()}};function uk(t,e){return typeof e=="string"?ck(t,e):e instanceof Od?e._internalPath:e._delegate._internalPath}function B8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sb=class{convertValue(e,n="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return du(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new xd($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=Ob(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Cd(e));default:return null}}convertTimestamp(e){let n=Kr(e);return new yn(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=zt.fromString(e);Ct(R1(i));let r=new Hm(i.get(1),i.get(3)),o=new Ee(i.popFirst(5));return r.isEqual(n)||Wr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function H8(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var na=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hg=class extends dg{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(uk("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Qc=class extends hg{data(e={}){return super.data(e)}},Mb=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new na(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Qc(this._firestore,this._userDataWriter,i.key,i,new na(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new Qc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new na(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Qc(r._firestore,r._userDataWriter,a.doc.key,a.doc,new na(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:$8(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function $8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}var fg=class extends Sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pd(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new yi(this.firestore,null,n)}};function lk(t,e){let n=Ed(t.firestore,uu),i=J1(t),r=H8(t.converter,e);return z8(n,[L8(F8(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ia.exists(!1))]).then(()=>i)}function Gb(t,...e){var n,i,r;t=gi(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||i1(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(i1(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[s+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let c,l,h;if(t instanceof yi)l=Ed(t.firestore,uu),h=kb(t._key.path),c={next:p=>{e[s]&&e[s](G8(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Ed(t,cg);l=Ed(p.firestore,uu),h=p._query;let m=new fg(l);c={next:v=>{e[s]&&e[s](new Mb(l,m,p,v))},error:e[s+1],complete:e[s+2]},B8(t._query)}return function(m,v,I,S){let O=new Ib(S),F=new fb(v,O,I);return m.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return p8(yield JN(m),F)})),()=>{O.$a(),m.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return m8(yield JN(m),F)}))}}(tk(l),h,a,c)}function z8(t,e){return function(i,r){let o=new qr;return i.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return b8(yield R8(i),r,o)})),o.promise}(tk(t),e)}function G8(t,e,n){let i=n.docs.get(e._key),r=new fg(t);return new hg(t,r,e._key,i,new na(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){lu=r})(Uc),Bo(new vi("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new uu(new eE(i.getProvider("auth-internal")),new rE(i.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new fe(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hm(l.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),un(MN,"4.6.3",e),un(MN,"4.6.3","esm2017")})();var Ig=function(){return Ig=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ig.apply(this,arguments)};var K8={includeMetadataChanges:!1};function dk(t,e){return e===void 0&&(e=K8),new oe(function(n){var i=Gb(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function hk(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Ig(Ig({},i),(n={},n[e.idField]=t.id,n))}function fk(t){return dk(t,{includeMetadataChanges:!0}).pipe(L(function(e){return e.docs}))}function pk(t,e){return e===void 0&&(e={}),fk(t).pipe(L(function(n){return n.map(function(i){return hk(i,e)})}))}var Zr=class{constructor(e){return e}},mk="firestore",qb=class{constructor(){return ad(mk)}};var Wb=new k("angularfire2.firestore-instances");function Q8(t,e){let n=Tw(mk,t,e);return n&&new Zr(n)}function Y8(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Zr(i)}}var Z8={provide:qb,deps:[[new At,Wb]]},X8={provide:Zr,useFactory:Q8,deps:[[new At,Wb],Zs]};function gk(t,...e){return un("angularfire",Hc.full,"fst"),po([X8,Z8,{provide:Wb,useFactory:Y8(t),multi:!0,deps:[we,Bt,cd,ud,[new At,Pm],[new At,sd],...e]}])}var vk=Ho(pk,!0);var yk=Ho(lk,!0);var wg=Ho(X1,!0);var _k=Ho(ek,!0);var Ik=7;function wk(t,e){let n=t.findIndex((o,s)=>s&&e(o)),i=t[n-1]||t[0],r=t[n]||t[t.length-1];return[i,r]}function Ek(t,e){let[[n,i],[r,o]]=wk(e,([c,l])=>t<=c),s=(t-n)/(r-n),a=(o-i)*s+i;return VP(a,Ik)}function bk(t,e){let[[n,i],[r,o]]=wk(e,([a,c])=>t<=c),s=(t-i)/(o-i)||0;return(r-n)*s+n}var J8=["type","range","tuiSlider",""];var eK={size:"m",trackColor:"var(--tui-base-03)"},tK=We(eK);var Kb=(()=>{class t{constructor(n,i,r,o,s,a){var c;this.control=n,this.options=r,this.el=o,this.userAgent=s,this.injector=a,this.size=this.options.size,this.segments=1,n instanceof Vr&&((c=n.valueChanges)===null||c===void 0||c.pipe(Tp(i),Wt(1)).subscribe())}get min(){return Number(this.el.nativeElement.min)}get max(){return Number(this.el.nativeElement.max||100)}get step(){return Number(this.el.nativeElement.step)||1}get value(){let{el:n,control:i,hasKeySteps:r}=this;return!r&&i instanceof Vr?i.viewModel:Number(n.nativeElement.value)||0}set value(n){this.el.nativeElement.value=`${n}`}get valueRatio(){return(this.value-this.min)/(this.max-this.min)||0}get valuePercentage(){return 100*this.valueRatio}get segmentWidth(){return 100/Math.max(1,this.segments)}get isOldEdge(){return kP(PP,this.userAgent)}get hasKeySteps(){return!!this.injector.get(nK,null)}}return t.\u0275fac=function(n){return new(n||t)(_(qn,10),_(st),_(tK),_(se),_(Ls),_(Bt))},t.\u0275cmp=ye({type:t,selectors:[["input","type","range","tuiSlider",""]],hostVars:11,hostBindings:function(n,i){n&1&&_e("input",function(){return 0}),n&2&&(qe("data-size",i.size),fn("--tui-slider-track-color",i.options.trackColor)("--tui-slider-fill-ratio",i.valueRatio)("--tui-slider-fill-percentage",i.valuePercentage,"%")("--tui-slider-segment-width",i.segmentWidth,"%"),Ge("_old-edge",i.isOldEdge))},inputs:{size:"size",segments:"segments"},attrs:J8,decls:0,vars:0,template:function(n,i){},styles:['[_nghost-%COMP%]{position:relative;display:block;width:100%;color:var(--tui-primary);cursor:pointer}[_nghost-%COMP%]:active{cursor:ew-resize}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:auto}[data-size=s][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.25rem;left:calc(var(--tui-slider-fill-percentage) - var(--tui-slider-fill-ratio) * .5rem);width:.5rem;height:.5rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));content:"";cursor:ew-resize;background:currentColor;opacity:0}[data-size=s][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[data-size=m][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.125rem;left:calc(var(--tui-slider-fill-percentage) - var(--tui-slider-fill-ratio) * .75rem);width:.75rem;height:.75rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));content:"";cursor:ew-resize;background:currentColor;opacity:0}[data-size=m][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[_nghost-%COMP%]:not(._old-edge){-webkit-appearance:none;-moz-appearance:none;appearance:none;height:.125rem;padding:.4375rem 0;background-color:transparent;background-clip:content-box;outline:none;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]:not(._old-edge)::-webkit-slider-container{border-radius:inherit}[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-webkit-slider-runnable-track{height:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .5rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-base-06) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor var(--tui-slider-fill-percentage),transparent var(--tui-slider-fill-percentage));background-position-x:0,.25rem,0;background-size:calc(100% - .75rem),calc(100% - .75rem),auto}[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-webkit-slider-runnable-track{height:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-base-06) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor var(--tui-slider-fill-percentage),transparent var(--tui-slider-fill-percentage));background-position-x:0,.125rem,0;background-size:calc(100% - .5rem),calc(100% - .5rem),auto}[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-moz-range-track{height:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .5rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-base-06) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.25rem;background-size:calc(100% - .75rem)}[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-moz-range-track{height:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-base-06) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.125rem;background-size:calc(100% - .5rem)}[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;height:.75rem;width:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-left:0;border-right:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-top:-.4375rem}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-webkit-slider-thumb:hover{background-color:var(--tui-primary-hover)}:active:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-webkit-slider-thumb{background-color:var(--tui-primary-active)}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-webkit-slider-thumb:hover, :active:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-focus)}[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;height:.5rem;width:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-left:0;border-right:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-top:-.4375rem}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-webkit-slider-thumb:hover{background-color:var(--tui-primary-hover)}:active:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-webkit-slider-thumb{background-color:var(--tui-primary-active)}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-webkit-slider-thumb:hover, :active:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-focus)}[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-moz-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;height:.75rem;width:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-left:0;border-right:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-moz-range-thumb:hover{background-color:var(--tui-primary-hover)}:active:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-moz-range-thumb{background-color:var(--tui-primary-active)}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-moz-range-thumb:hover, :active:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[_nghost-%COMP%]:not(._old-edge)[data-size=m]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-focus)}[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-moz-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;height:.5rem;width:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-left:0;border-right:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-moz-range-thumb:hover{background-color:var(--tui-primary-hover)}:active:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-moz-range-thumb{background-color:var(--tui-primary-active)}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-moz-range-thumb:hover, :active:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[_nghost-%COMP%]:not(._old-edge)[data-size=s]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-focus)}[_nghost-%COMP%]:not(._old-edge)::-moz-range-progress{border-radius:inherit}[_nghost-%COMP%]:not(._old-edge)::-moz-range-progress{height:.125rem;background:currentColor;border-top-right-radius:0;border-bottom-right-radius:0}._old-edge[_nghost-%COMP%]::-ms-thumb{background:currentColor;border-radius:50%}._old-edge[_nghost-%COMP%]::-ms-fill-lower{background:currentColor}._old-edge[_nghost-%COMP%]::-ms-track{background:var(--tui-slider-track-color);border:none}'],changeDetection:0}),Yn([Wn],t.prototype,"hasKeySteps",null),t})(),nK=(()=>{class t extends js{constructor(n,i,r,o){super(n,i),this.el=r,this.slider=o}get nativeFocusableElement(){return this.computedDisabled?null:this.el.nativeElement}get focused(){return Mo(this.nativeFocusableElement)}get min(){return this.keySteps[0][1]}get max(){return this.keySteps[this.keySteps.length-1][1]}updateControlValue(){this.value=Ek(this.slider.valuePercentage,this.keySteps)}writeValue(n){if(n===null)return;let i=gn(n,this.min,this.max);this.slider.value=this.transformToNativeValue(i)}getFallbackValue(){return 0}transformToNativeValue(n){let{min:i,max:r}=this.slider;return bk(n,this.keySteps)*(r-i)/100+i}}return t.\u0275fac=function(n){return new(n||t)(_(qn,10),_(st),_(se),_(Rt(()=>Kb)))},t.\u0275dir=$({type:t,selectors:[["input","tuiSlider","","keySteps",""]],hostVars:4,hostBindings:function(n,i){n&1&&_e("input",function(){return i.updateControlValue()})("change",function(){return i.updateControlValue()}),n&2&&(Oi("disabled",i.computedDisabled),qe("aria-valuenow",i.safeCurrentValue)("aria-valuemin",i.min)("aria-valuemax",i.max))},inputs:{keySteps:"keySteps"},features:[Ce]}),t})();var Ck=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne]]}),t})();var iK=["focusableElement"],rK=[[["textarea"]],"*"],oK=["textarea","*"],Yb=t=>({$implicit:t});function sK(t,e){t&1&&Sn(0)}function aK(t,e){if(t&1&&(H(0,"div",19),yt(1),z()),t&2){let n=ge();U(),T_(" ",n.value.length,"/",n.maxLength," ")}}function cK(t,e){if(t&1&&(H(0,"div",20),Et(1,1),z()),t&2){let n=ge();Ge("t-placeholder_raised",n.placeholderRaised)}}function uK(t,e){if(t&1&&le(0,"tui-svg",23),t&2){let n=e.polymorpheusOutlet;N("src",n)}}function lK(t,e){if(t&1&&(H(0,"div",21),ie(1,uK,1,1,"tui-svg",22),z()),t&2){let n=ge();U(),N("polymorpheusOutlet",n.iconLeftContent)("polymorpheusOutletContext",Ri(2,Yb,n.size))}}function dK(t,e){if(t&1&&le(0,"tui-svg",25),t&2){let n=e.polymorpheusOutlet;N("src",n)}}function hK(t,e){if(t&1&&(Jt(0),ie(1,dK,1,1,"tui-svg",24),en()),t&2){let n=ge();U(),N("polymorpheusOutlet",n.controller.customContent)}}function fK(t,e){if(t&1){let n=pn();H(0,"tui-svg",27),_e("click.stop",function(){Zt(n);let r=ge(2);return Xt(r.onValueChange(""))}),z()}if(t&2){let n=e.polymorpheusOutlet;N("src",n)}}function pK(t,e){if(t&1&&(Jt(0),ie(1,fK,1,1,"tui-svg",26),en()),t&2){let n=ge();U(),N("polymorpheusOutlet",n.iconCleaner)("polymorpheusOutletContext",Ri(2,Yb,n.size))}}function mK(t,e){if(t&1&&le(0,"tui-tooltip",28),t&2){let n=ge();N("content",n.hintOptions==null?null:n.hintOptions.content)("describeId",n.id)}}function gK(t,e){if(t&1&&le(0,"tui-svg",23),t&2){let n=e.polymorpheusOutlet;N("src",n)}}function vK(t,e){if(t&1&&(H(0,"div",29),ie(1,gK,1,1,"tui-svg",22),z()),t&2){let n=ge();U(),N("polymorpheusOutlet",n.iconContent)("polymorpheusOutletContext",Ri(2,Yb,n.size))}}var yK=20,_K=20,IK=24,Tk=(()=>{class t extends js{constructor(n,i,r,o,s,a){super(n,i),this.isIOS=r,this.mode$=o,this.controller=s,this.hintOptions=a,this.rows=yK,this.maxLength=null,this.expandable=!1}get labelOutside(){return this.controller.labelOutside}get nativeFocusableElement(){var n,i;return this.computedDisabled?null:((n=this.textfield)===null||n===void 0?void 0:n.nativeElement)||((i=this.focusableElement)===null||i===void 0?void 0:i.nativeElement)||null}get focused(){return Mo(this.nativeFocusableElement)}get appearance(){return this.controller.appearance}get size(){return this.controller.size}get borderStart(){return this.iconLeftContent?SR[this.size]:0}get borderEnd(){return XO(!!this.iconContent,this.hasCleaner,this.hasTooltip,this.hasCustomContent,this.size)}get hasCleaner(){return this.controller.cleaner&&this.hasValue&&this.interactive}get hasTooltip(){var n;return!!(!((n=this.hintOptions)===null||n===void 0)&&n.content)&&(this.controller.options.hintOnDisabled||!this.computedDisabled)}get hasValue(){return this.value!==""}get hasCounter(){return!!this.maxLength&&this.interactive}get hasPlaceholder(){return this.placeholderRaisable||!this.hasValue&&!this.hasExampleText}get hasCustomContent(){return!!this.controller.customContent}get iconLeftContent(){return this.controller.iconLeft}get iconContent(){return this.controller.icon}get iconCleaner(){return this.controller.options.iconCleaner}get hasExampleText(){var n;return!!(!((n=this.textfield)===null||n===void 0)&&n.nativeElement.placeholder)&&this.focused&&!this.hasValue&&!this.readOnly}get computeMaxHeight(){return this.expandable?this.rows*this.lineHeight:null}get placeholderRaised(){return this.placeholderRaisable&&(this.computedFocused&&!this.readOnly||this.hasValue)}get fittedContent(){return this.value.slice(0,this.maxLength||1/0)}get extraContent(){return this.value.slice(this.maxLength||1/0)}onFocused(n){this.updateFocused(n)}onValueChange(n){this.value=n}onMouseDown(n){n.target!==this.nativeFocusableElement&&(n.preventDefault(),this.nativeFocusableElement&&this.nativeFocusableElement.focus())}getFallbackValue(){return""}get lineHeight(){return this.controller.size==="m"?_K:IK}get placeholderRaisable(){return this.size!=="s"&&!this.controller.labelOutside}}return t.\u0275fac=function(n){return new(n||t)(_(qn,10),_(st),_(ji),_(xo),_(td),_(Ws,8))},t.\u0275cmp=ye({type:t,selectors:[["tui-textarea"]],contentQueries:function(n,i,r){if(n&1&&sl(r,MR,5,se),n&2){let o;tr(o=nr())&&(i.textfield=o.first)}},viewQuery:function(n,i){if(n&1&&Ts(iK,5),n&2){let r;tr(r=nr())&&(i.focusableElement=r.first)}},hostVars:17,hostBindings:function(n,i){n&1&&_e("$.data-mode.attr",function(){return i.mode$})("focusin",function(){return i.onFocused(!0)})("focusout",function(){return i.onFocused(!1)}),n&2&&(qe("data-size",i.size),fn("--border-start",i.borderStart,"rem")("--border-end",i.borderEnd,"rem"),Ge("_ios",i.isIOS)("_expandable",i.expandable)("_label-outside",i.labelOutside)("_has-tooltip",i.hasTooltip)("_has-value",i.hasValue)("_has-counter",i.hasCounter))},inputs:{rows:"rows",maxLength:"maxLength",expandable:"expandable"},features:[ne([xl(t),dO(t),lm,xc]),Ce],ngContentSelectors:oK,decls:23,vars:25,consts:[["focusableElement",""],[4,"ngIf"],["automation-id","tui-text-area__wrapper","tuiWrapper","",1,"t-outline",3,"appearance","disabled","focus","hover","invalid","readOnly"],["automation-id","tui-text-area__counter","class","t-counter",4,"ngIf"],[1,"t-content",3,"mousedown"],[1,"t-wrapper"],["automation-id","tui-text-area__placeholder","class","t-placeholder",3,"t-placeholder_raised",4,"ngIf"],["automation-id","tui-text-area__scrollbar",1,"t-box"],[1,"t-input-wrapper"],[1,"t-relative"],["aria-hidden","true",1,"t-pseudo-content"],[3,"textContent"],[1,"t-pseudo-content__extra",3,"textContent"],[1,"t-caret"],["automation-id","tui-text-area__native",1,"t-input",3,"ngModelChange","disabled","id","readOnly","tuiFocusable","ngModel"],[1,"t-icons"],["class","t-icon t-icon_left t-textfield-icon",4,"ngIf"],["automation-id","tui-text-area__tooltip",3,"content","describeId",4,"ngIf"],["class","t-icon t-textfield-icon",4,"ngIf"],["automation-id","tui-text-area__counter",1,"t-counter"],["automation-id","tui-text-area__placeholder",1,"t-placeholder"],[1,"t-icon","t-icon_left","t-textfield-icon"],["appearance","icon","tuiWrapper","",3,"src",4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","tuiWrapper","",3,"src"],[3,"src",4,"polymorpheusOutlet"],[3,"src"],["appearance","icon","tuiWrapper","","class","t-cleaner",3,"src","click.stop",4,"polymorpheusOutlet","polymorpheusOutletContext"],["appearance","icon","tuiWrapper","",1,"t-cleaner",3,"click.stop","src"],["automation-id","tui-text-area__tooltip",3,"content","describeId"],[1,"t-icon","t-textfield-icon"]],template:function(n,i){if(n&1){let r=pn();tn(rK),ie(0,sK,1,0,"ng-container",1),Mt(1,"async"),H(2,"div",2),ie(3,aK,2,2,"div",3),H(4,"label",4),_e("mousedown",function(s){return Zt(r),Xt(i.onMouseDown(s))}),H(5,"div",5),ie(6,cK,2,2,"div",6),H(7,"tui-scrollbar",7)(8,"div",8)(9,"div",9)(10,"div",10),le(11,"span",11)(12,"span",12)(13,"span",13),z(),H(14,"textarea",14,0),cl("ngModelChange",function(s){return Zt(r),Pf(i.value,s)||(i.value=s),Xt(s)}),z(),Et(16),z()()()(),H(17,"div",15),ie(18,lK,2,4,"div",16)(19,hK,2,1,"ng-container",1)(20,pK,2,4,"ng-container",1)(21,mK,1,2,"tui-tooltip",17)(22,vK,2,4,"div",18),z()()()}n&2&&(N("ngIf",kt(1,23,i.hintOptions==null?null:i.hintOptions.change$)),U(2),N("appearance",i.appearance)("disabled",i.disabled)("focus",i.computedFocused)("hover",i.pseudoHover)("invalid",i.computedInvalid)("readOnly",i.readOnly),U(),N("ngIf",i.hasCounter),U(3),N("ngIf",i.hasPlaceholder),U(),fn("max-height",i.computeMaxHeight,"px"),U(4),N("textContent",i.fittedContent||(i.nativeFocusableElement==null?null:i.nativeFocusableElement.placeholder)),U(),N("textContent",i.extraContent),U(2),N("disabled",i.computedDisabled)("id",i.id)("readOnly",i.readOnly)("tuiFocusable",i.computedFocusable),al("ngModel",i.value),U(4),N("ngIf",i.iconLeftContent),U(),N("ngIf",i.hasCustomContent),U(),N("ngIf",i.hasCleaner),U(),N("ngIf",i.hasTooltip),U(),N("ngIf",i.iconContent))},dependencies:[Kx,ko,DR,Pt,Nc,oc,DO,pp,Vr,Kt,nn],styles:["[_nghost-%COMP%]{position:relative;z-index:0;display:flex;flex-direction:column;min-height:var(--tui-textarea-height);border-radius:var(--tui-radius-m);color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-size=s][_nghost-%COMP%]{--tui-height: var(--tui-height-s);--tui-textarea-height: 4.5625rem;font:var(--tui-font-text-s)}[data-size=m][_nghost-%COMP%]{--tui-height: var(--tui-height-m);--tui-textarea-height: 5.5rem;font:var(--tui-font-text-s)}[data-size=l][_nghost-%COMP%]{--tui-height: var(--tui-height-l);--tui-textarea-height: 6.75rem;font:var(--tui-font-text-m)}[data-size=m]._has-counter[_nghost-%COMP%]{--tui-textarea-height: 6.625rem}[data-size=l]._has-counter[_nghost-%COMP%]{--tui-textarea-height: 7.875rem}.t-outline[_ngcontent-%COMP%]{min-height:inherit}.t-content[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:0;min-height:inherit;box-sizing:border-box;overflow:hidden;cursor:text}._disabled[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{cursor:auto;opacity:var(--tui-disabled-opacity)}[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:1px;right:0;min-height:auto}._has-counter[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{bottom:1.6875rem}._label-outside._has-counter[_nghost-%COMP%]:not(._expandable)   .t-content[_ngcontent-%COMP%]{bottom:1rem}.t-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:inherit;box-sizing:border-box;padding:calc((var(--tui-height) - 1.25rem) / 2) 0}[data-size=l]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 1.5rem) / 2) 0}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 2.25rem) / 2) 0}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 2.625rem) / 2) 0}table[data-size=m]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], table   [data-size=m]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding-bottom:.75rem}table[data-size=l]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], table   [data-size=l]._label-outside[_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding-bottom:1rem}.t-input-wrapper[_ngcontent-%COMP%]{min-height:inherit;width:100%;flex:1}.t-relative[_ngcontent-%COMP%]{position:relative;min-height:inherit}.t-box[_ngcontent-%COMP%]{display:flex;min-height:calc(100% - 1rem);width:100%}[_nghost-%COMP%]:not(._expandable)   .t-box[_ngcontent-%COMP%]{height:calc(100% - 1rem)}[_nghost-%COMP%]:not(._expandable)._label-outside   .t-box[_ngcontent-%COMP%]{height:100%}._has-counter._expandable[_nghost-%COMP%]   .t-box[_ngcontent-%COMP%]{margin-bottom:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-box[_ngcontent-%COMP%]{border-top:1rem solid transparent}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-box[_ngcontent-%COMP%]{border-top:1.25rem solid transparent}.t-pseudo-content[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word;word-break:keep-all;pointer-events:none;color:transparent;overflow:hidden;border:solid transparent;border-top:0;border-bottom:0;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0)}[data-size=s][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%], [data-size=m][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=l][_nghost-%COMP%]   .t-pseudo-content[_ngcontent-%COMP%]{padding:0 1rem}.t-pseudo-content__extra[_ngcontent-%COMP%]{background-color:var(--tui-error-bg-night)}.t-input[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;resize:none;overflow:hidden;outline:none;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0)}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}@supports (-webkit-touch-callout: none){.t-input[_ngcontent-%COMP%]:active{font-size:1rem}}.t-input[_ngcontent-%COMP%]:not(:last-of-type){display:none}.t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-03);opacity:0}[data-mode=onDark][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-03-night)}._focused[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:not(:-moz-read-only)::placeholder{opacity:1}._focused[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:not(:read-only)::placeholder{opacity:1}[data-size=s][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], [data-size=m][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=l][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 1rem}[data-mode=onDark]._disabled[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}@supports (-webkit-marquee-repetition: infinite) and (object-fit: fill){._ios[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding-left:.8125rem}}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-02);pointer-events:none;will-change:transform;transform:translateY(0);position:absolute;top:calc(var(--tui-height) / 2 - .625rem);left:0;max-width:100%;border:solid transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);box-sizing:border-box}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}._invalid[_nghost-%COMP%]:not(._focused)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}._focused[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size=s][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=m][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{padding:0 .75rem}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{padding:0 1rem}._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{overflow:initial;height:auto;white-space:initial}.t-icons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;right:0;display:flex;justify-content:flex-end;pointer-events:none;padding:calc((var(--tui-height) - 1.5rem) / 2) 1rem}[data-size=m][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{padding:calc((var(--tui-height) - 1.5rem) / 2) .625rem}.t-icons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){-webkit-margin-start:.25rem;margin-inline-start:.25rem}.t-icon[_ngcontent-%COMP%]{position:relative;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none}.t-icon_left[_ngcontent-%COMP%]{-webkit-margin-end:auto;margin-inline-end:auto}.t-cleaner[_ngcontent-%COMP%]{position:relative;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto}._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}.t-caret[_ngcontent-%COMP%]{display:inline-block;height:1rem;width:0}.t-counter[_ngcontent-%COMP%]{position:absolute;right:.75rem;bottom:.5rem;font:var(--tui-font-text-s);pointer-events:none;margin-top:auto;text-align:right;color:var(--tui-text-03)}[data-mode=onDark][_nghost-%COMP%]   .t-counter[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}"],changeDetection:0}),t})(),Dk=(()=>{class t extends jO{onValueChange(n){this.host.onValueChange(n)}}return t.\u0275fac=(()=>{let e;return function(i){return(e||(e=ze(t)))(i||t)}})(),t.\u0275dir=$({type:t,selectors:[["tui-textarea"]],features:[ne([cI(t)]),Ce]}),t})();var Sk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,ac,xp,Qx,hm,Vo,ar,AR,bt]]}),t})();function wK(t,e){if(t&1){let n=pn();H(0,"button",9),_e("click",function(){let r=Zt(n).$implicit,o=ge();return Xt(o.setGrade(r))}),yt(1),z()}if(t&2){let n=e.$implicit;U(),xi(" ",n," ")}}var Mk=(()=>{let e=class e{constructor(){this.firestore=P(Zr),this.alerts=P(ew),this.grades=[1,2,3,4,5],this.form=new rc({grade:new sc(1,ic.required),positives:new sc("",ic.required),negatives:new sc("",ic.required)}),this.feedbackCollection=wg(this.firestore,"feedback")}setGrade(i){this.form.patchValue({grade:i})}submit(){if(this.form.valid){let i=this.form.controls;yk(this.feedbackCollection,{grade:i.grade.value,positives:i.positives.value,negatives:i.negatives.value}).then(()=>{this.form.reset({grade:1,positives:"",negatives:""}),this.alerts.open("\u041E\u0442\u0437\u044B\u0432 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D",{status:"success"}).subscribe()})}else _p(this.form)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ye({type:e,selectors:[["app-form"]],standalone:!0,features:[vo],decls:19,vars:4,consts:[[1,"tui-text_h6"],[1,"tui-space_top-10",3,"ngSubmit","formGroup"],[1,"tui-text_body-l"],["size","m","tuiSlider","","type","range","formControlName","grade",3,"min","max","step"],[1,"labels"],["type","button",1,"label"],["formControlName","positives",1,"tui-space_top-10"],["formControlName","negatives",1,"tui-space_top-10"],["tuiButton","","type","submit",1,"tui-space_top-10"],["type","button",1,"label",3,"click"]],template:function(r,o){r&1&&(H(0,"h5",0),yt(1,"\u0424\u043E\u0440\u043C\u0430 \u043E\u0431\u0440\u0430\u0442\u043D\u043E\u0439 \u0441\u0432\u044F\u0437\u0438"),z(),H(2,"h4",0),yt(3,'\u041A\u0443\u0440\u0441 "\u041E\u043F\u0435\u0440\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0435 \u0441\u0438\u0441\u0442\u0435\u043C\u044B"'),z(),H(4,"form",1),_e("ngSubmit",function(){return o.submit()}),H(5,"p",2),yt(6,"\u041E\u0446\u0435\u043D\u0438\u0442\u0435 \u043A\u0443\u0440\u0441"),z(),H(7,"p"),yt(8," \u041F\u043E \u0448\u043A\u0430\u043B\u0435 \u043E\u0442 1 \u0434\u043E 5, \u0433\u0434\u0435 1 - \u043A\u0440\u0430\u0439\u043D\u0435 \u043D\u0435\u044D\u0444\u0444\u0435\u043A\u0442\u0438\u0432\u043D\u044B\u0439 \u043A\u0443\u0440\u0441, 5 - \u043A\u0440\u0430\u0439\u043D\u0435 \u044D\u0444\u0444\u0435\u043A\u0442\u0438\u0432\u043D\u044B\u0439 \u043A\u0443\u0440\u0441 "),z(),le(9,"input",3),H(10,"div",4),rl(11,wK,2,1,"button",5,il),z(),H(13,"tui-textarea",6),yt(14,"\u0427\u0442\u043E \u0432\u0430\u043C \u043F\u043E\u043D\u0440\u0430\u0432\u0438\u043B\u043E\u0441\u044C \u0432 \u043A\u0443\u0440\u0441\u0435?"),z(),H(15,"tui-textarea",7),yt(16,"\u0427\u0442\u043E \u043C\u043E\u0436\u043D\u043E \u0431\u044B\u043B\u043E \u0431\u044B \u0443\u043B\u0443\u0447\u0448\u0438\u0442\u044C?"),z(),H(17,"button",8),yt(18,"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C"),z()()),r&2&&(U(4),N("formGroup",o.form),U(5),N("min",1)("max",5)("step",1),U(2),ol(o.grades))},dependencies:[ac,TP,oc,M0,pp,yP,MP,A0,P0,Ck,Kb,Sk,Tk,Dk,Fc,kc,Lc,dm],styles:[".labels[_ngcontent-%COMP%]{display:flex;margin:0 .375rem;font:var(--tui-font-text-s)}.labels[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;flex:2;text-align:center}.labels[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{left:-.375rem;flex:1;text-align:left}.labels[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{right:-.375rem;flex:1;text-align:right}tui-input-slider[_ngcontent-%COMP%] + .labels[_ngcontent-%COMP%]{margin-left:calc(var(--tui-radius-m) / 2 + .375rem)}tui-input-range[_ngcontent-%COMP%] + .labels[_ngcontent-%COMP%], tui-range[_ngcontent-%COMP%] + .labels[_ngcontent-%COMP%]{margin-left:.75rem;margin-right:.75rem}tui-input-range[_ngcontent-%COMP%] + .labels[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child, tui-range[_ngcontent-%COMP%] + .labels[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{left:-.75rem}tui-input-range[_ngcontent-%COMP%] + .labels[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child, tui-range[_ngcontent-%COMP%] + .labels[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{right:-.75rem}.label[_ngcontent-%COMP%]{appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;outline:0;cursor:pointer}"]});let t=e;return t})();var EK="M 100 0 A 100 100 0 1 1 100 0 L 0 0";function Ak(t,e){let n=R0(t),i=R0(e),r=Math.cos(n)*100,o=Math.sin(n)*100,s=Math.cos(i)*100,a=Math.sin(i)*100,c=UP(e-t>180),l=["M",r,o,"A 100 100 0",c,1,s,a,"L 0 0"];return Number.isNaN(s)?EK:l.join(" ")}var bK=t=>({$implicit:t});function CK(t,e){if(t&1){let n=pn();di(),H(0,"path",5),_e("tuiHoveredChange",function(r){let o=Zt(n).$implicit,s=ge();return Xt(s.onHovered(r,o))}),z()}if(t&2){let n=e.$implicit,i=ge();fn("color",i.getColor(n)),N("tuiHint",i.hintContent)("tuiHintContext",Ri(6,bK,n))("tuiPieChart",i.segments[n]),qe("transform",i.getTransform(n))}}var TK=(()=>{class t{constructor({nativeElement:n},i,r,o,s,a){this.sector$=new mt([0,0]),this.sector$.pipe(xu(),je(([c,l])=>{let h=o.now(),p=l[0]-c[0],m=l[1]-c[1];return s.pipe(L(v=>HP(gn((v-h)/a,0,1))),Oa(v=>v<1,!0),L(v=>[c[0]+p*v,l[1]>359?l[1]:c[1]+m*v]))}),Fi(i),be(r)).subscribe(([c,l])=>{n.setAttribute("d",Ak(c,l))})}set tuiPieChart(n){this.sector$.next(n)}}return t.\u0275fac=function(n){return new(n||t)(_(se),_(we),_(Se,2),_(L0),_(Vi),_(Hs))},t.\u0275dir=$({type:t,selectors:[["path","tuiPieChart",""]],inputs:{tuiPieChart:"tuiPieChart"},features:[ne([Se])]}),t})(),DK={xs:"50",s:"50",m:"77.8",l:"81.9",xl:"81.3"},Pk={xs:1.15,s:1.25,m:1.11,l:1.09,xl:1.08},Ok=(()=>{class t{constructor(n,i){this.hintOptions=i,this.value=[],this.size="m",this.masked=!1,this.activeItemIndex=NaN,this.activeItemIndexChange=new rt,this.autoIdString=n.generate(),this.hintOptions&&(this.hintOptions.showDelay=0,this.hintOptions.hideDelay=0)}get empty(){return!this.getSum(this.value)}get hintContent(){var n;return((n=this.hintOptions)===null||n===void 0?void 0:n.content)||""}get maskId(){return`tui-ring-chart-${this.autoIdString}`}get mask(){return this.masked?`url(#${this.maskId})`:null}get radius(){return DK[this.size]}get segments(){return this.getSegments(this.value)}getTransform(n){let i=this.masked?`scale(${Pk[this.size]})`:`scale(${Pk.xs})`;return n===this.activeItemIndex?i:null}onHovered(n,i){this.updateActiveItemIndex(n?i:NaN)}getColor(n){return`var(--tui-chart-${n})`}getSum(n){return jP(...n)}getSegments(n){return n.map((i,r,o)=>o.reduce((s,a,c)=>c<r?this.getDeg(a)+s:s,this.getDeg(i))).map((i,r,o)=>[o[r-1]||0,Math.min(i,359.9999)])}getDeg(n){return 360*(n/this.getSum(this.value))}updateActiveItemIndex(n){n!==this.activeItemIndex&&(this.activeItemIndex=n,this.activeItemIndexChange.next(n))}}return t.\u0275fac=function(n){return new(n||t)(_(Ao),_(Ws,8))},t.\u0275cmp=ye({type:t,selectors:[["tui-pie-chart"]],hostVars:3,hostBindings:function(n,i){n&2&&(qe("data-size",i.size),Ge("_empty",i.empty))},inputs:{value:"value",size:"size",masked:"masked",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},features:[ne([],[eR({direction:"top-right",appearance:"onDark"})])],decls:8,vars:5,consts:[["focusable","false","height","100%","viewBox","-100 -100 200 200","width","100%","xmlns","http://www.w3.org/2000/svg",1,"t-svg"],["fill","white","height","400","width","400","x","-200","y","-200"],["cx","0","cy","0"],["cx","0","cy","0","r","100",1,"t-placeholder"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","","class","t-segment",3,"color","tuiHint","tuiHintContext","tuiPieChart","tuiHoveredChange",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-pie-chart__segment","d","","fill","currentColor","tuiHintPointer","",1,"t-segment",3,"tuiHoveredChange","tuiHint","tuiHintContext","tuiPieChart"]],template:function(n,i){n&1&&(di(),H(0,"svg",0)(1,"defs")(2,"mask"),le(3,"rect",1)(4,"circle",2),z()(),H(5,"g"),le(6,"circle",3),ie(7,CK,1,8,"path",4),z()()),n&2&&(U(2),qe("id",i.maskId),U(2),qe("r",i.radius),U(),fn("mask",i.mask),U(2),N("tuiRepeatTimesOf",i.segments.length))},dependencies:[RO,TK,Rc,cm,Lo,ed,XI,SO],styles:["[_nghost-%COMP%]{position:relative;display:block;width:var(--t-size);height:var(--t-size)}[data-size=xs][_nghost-%COMP%]{--t-size: 2rem;pointer-events:none}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-svg[_ngcontent-%COMP%]{position:relative;overflow:visible;transform:rotate(-90deg)}.t-segment[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}._empty[_nghost-%COMP%]   .t-segment[_ngcontent-%COMP%]{display:none}.t-placeholder[_ngcontent-%COMP%]{fill:var(--tui-base-03)}"],changeDetection:0}),Yn([Wn],t.prototype,"getSum",null),Yn([Wn],t.prototype,"getSegments",null),t})(),xk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,NO,MO,bt,um]]}),t})();var MK=["*"],Rk=(()=>{class t{constructor(){this.value=[],this.size="m",this.activeItemIndex=NaN,this.activeItemIndexChange=new rt}onActiveItemIndexChange(n){this.updateActiveItemIndex(n)}updateActiveItemIndex(n){n!==this.activeItemIndex&&(this.activeItemIndex=n,this.activeItemIndexChange.next(n))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ye({type:t,selectors:[["tui-ring-chart"]],hostVars:1,hostBindings:function(n,i){n&2&&qe("data-size",i.size)},inputs:{value:"value",size:"size",activeItemIndex:"activeItemIndex"},outputs:{activeItemIndexChange:"activeItemIndexChange"},ngContentSelectors:MK,decls:5,vars:4,consts:[[1,"t-content"],[1,"t-wrapper"],[1,"t-chart",3,"activeItemIndexChange","activeItemIndex","masked","size","value"],[1,"t-shield"]],template:function(n,i){n&1&&(tn(),H(0,"div",0)(1,"div",1),Et(2),z()(),H(3,"tui-pie-chart",2),_e("activeItemIndexChange",function(o){return i.onActiveItemIndexChange(o)}),z(),le(4,"div",3)),n&2&&(U(3),N("activeItemIndex",i.activeItemIndex)("masked",!0)("size",i.size)("value",i.value))},dependencies:[Ok],styles:["[_nghost-%COMP%]{position:relative;display:block;width:var(--t-size);height:var(--t-size);flex-shrink:0}[data-size=xs][_nghost-%COMP%]{--t-size: 3rem}[data-size=s][_nghost-%COMP%]{--t-size: 4rem}[data-size=m][_nghost-%COMP%]{--t-size: 9rem}[data-size=l][_nghost-%COMP%]{--t-size: 11rem}[data-size=xl][_nghost-%COMP%]{--t-size: 16rem}.t-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;font:var(--tui-font-text-m);max-height:100%;flex-direction:column;justify-content:center;text-align:center;padding:1.5rem;border-radius:100%;box-sizing:border-box;overflow:hidden;word-break:break-word;white-space:pre-wrap;color:var(--tui-text-02)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-xs)}.t-wrapper[_ngcontent-%COMP%]:first-line{color:var(--tui-text-01)}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-l);font-weight:bold}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:first-line{font:var(--tui-font-text-m);font-weight:bold}.t-shield[_ngcontent-%COMP%]{position:absolute;top:25%;left:25%;right:25%;bottom:25%;border-radius:100%}.t-chart[_ngcontent-%COMP%]{width:100%;height:100%}"],changeDetection:0}),t})(),Nk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Q({type:t}),t.\u0275inj=K({imports:[[Ne,bt,xk]]}),t})();function AK(t,e){if(t&1&&(H(0,"div",3),yt(1),z()),t&2){let n=e.$implicit;U(),Ya(n.positives)}}function PK(t,e){if(t&1&&(H(0,"div",3),yt(1),z()),t&2){let n=e.$implicit;U(),Ya(n.negatives)}}var kk=(()=>{let e=class e{constructor(){this.firestore=P(Zr),this.labels=['\u041E\u0446\u0435\u043D\u043E\u043A "1"','\u041E\u0446\u0435\u043D\u043E\u043A "2"','\u041E\u0446\u0435\u043D\u043E\u043A "3"','\u041E\u0446\u0435\u043D\u043E\u043A "4"','\u041E\u0446\u0435\u043D\u043E\u043A "5"'],this.chartValues=[],this.index=NaN;let i=wg(this.firestore,"feedback");this.items$=vk(i),this.items$.subscribe(r=>{this.chartValues=[0,0,0,0,0],r.forEach(o=>{this.chartValues[o.grade-1]+=1})})}get sum(){return Number.isNaN(this.index)?null:this.chartValues[this.index]}get label(){return Number.isNaN(this.index)?"":this.labels[this.index]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ye({type:e,selectors:[["app-chart"]],standalone:!0,features:[vo],decls:19,vars:8,consts:[[1,"tui-text_h5"],[1,"tui-text_h6"],["size","xl",3,"activeItemIndexChange","value","activeItemIndex"],[1,"tui-space_bottom-2"]],template:function(r,o){r&1&&(H(0,"h5",0),yt(1,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043E\u0442\u0437\u044B\u0432\u043E\u0432"),z(),H(2,"h6",1),yt(3,"\u041E\u0446\u0435\u043D\u043A\u0438"),z(),H(4,"tui-ring-chart",2),cl("activeItemIndexChange",function(a){return Pf(o.index,a)||(o.index=a),a}),H(5,"div"),yt(6),z(),H(7,"div"),yt(8),z()(),H(9,"h6",1),yt(10,"\u0427\u0442\u043E \u043F\u043E\u043D\u0440\u0430\u0432\u0438\u043B\u043E\u0441\u044C \u0441\u0442\u0443\u0434\u0435\u043D\u0442\u0430\u043C"),z(),rl(11,AK,2,1,"div",3,il),Mt(13,"async"),H(14,"h6",1),yt(15,"\u0427\u0442\u043E \u043C\u043E\u0436\u043D\u043E \u0443\u043B\u0443\u0447\u0448\u0438\u0442\u044C"),z(),rl(16,PK,2,1,"div",3,il),Mt(18,"async")),r&2&&(U(4),N("value",o.chartValues),al("activeItemIndex",o.index),U(2),Ya(o.sum),U(2),Ya(o.label),U(3),ol(kt(13,4,o.items$)),U(5),ol(kt(18,6,o.items$)))},dependencies:[Ne,nn,Nk,Rk],styles:["[_nghost-%COMP%]{--tui-chart-0: var(--tui-support-06);--tui-chart-1: var(--tui-support-05);--tui-chart-2: var(--tui-support-07);--tui-chart-3: var(--tui-support-03);--tui-chart-4: var(--tui-support-04)}"]});let t=e;return t})();var Fk=[{title:"\u041E\u0431\u0440\u0430\u0442\u043D\u0430\u044F \u0441\u0432\u044F\u0437\u044C",path:"",component:Mk},{title:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B",path:"chart",component:kk}];var OK={apiKey:"AIzaSyD-IuXqUzWo9N8kVGArXWlyrfmSVUkFkLY",authDomain:"feedback-form-2c525.firebaseapp.com",projectId:"feedback-form-2c525",storageBucket:"feedback-form-2c525.appspot.com",messagingSenderId:"292648262485",appId:"1:292648262485:web:d3ee2ce38fcaf1054caddc"},Lk={providers:[QA(),QM({eventCoalescing:!0}),Gx(Fk),Uy(Lc),sN(()=>aN(OK)),gk(()=>_k())]};var Vk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ye({type:e,selectors:[["app-root"]],standalone:!0,features:[vo],decls:4,vars:0,consts:[[1,"main"],[1,"content"]],template:function(r,o){r&1&&(H(0,"tui-root")(1,"main",0)(2,"div",1),le(3,"router-outlet"),z()()())},dependencies:[$I,Lc,xR,bR,dm],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center}.content[_ngcontent-%COMP%]{width:40%}"]});let t=e;return t})();_A(Vk,Lk).catch(t=>console.error(t));
